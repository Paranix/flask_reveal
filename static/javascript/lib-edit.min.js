(function(){var f=function(){return this;}();if(f.require&&f.define){require.packaged=!0;}else{var e=function(b,k,j){typeof b!="string"?e.original?e.original.apply(window,arguments):(console.error("dropping module because define wasn't a string."),console.trace()):(arguments.length==2&&(j=k),define.modules||(define.modules={}),define.modules[b]=j);};f.define&&(e.original=f.define),f.define=e;var h=function(d,c){if(Object.prototype.toString.call(d)==="[object Array]"){var o=[];for(var n=0,m=d.length;n<m;++n){var k=g(d[n]);if(!k&&h.original){return h.original.apply(window,arguments);}o.push(k);}c&&c.apply(null,o);}else{if(typeof d=="string"){var j=g(d);if(!j&&h.original){return h.original.apply(window,arguments);}c&&c();return j;}if(h.original){return h.original.apply(window,arguments);}}};f.require&&(h.original=f.require),f.require=h,require.packaged=!0;var g=function(j){var d=define.modules[j];if(d==null){console.error("Missing module: "+j);return null;}if(typeof d=="function"){var k={};d(require,k,{id:j,uri:""}),define.modules[j]=k;return k;}return d;};}})(),define("pilot/fixoldbrowsers",["require","exports","module"],function(X,V,U){if(!Function.prototype.bind){var T=Array.prototype.slice;Function.prototype.bind=function(g){var d=this;if(typeof d.apply!="function"||typeof d.call!="function"){return new TypeError;}var k=T.call(arguments),j=function h(){if(this instanceof h){var b=Object.create(d.prototype);d.apply(b,k.concat(T.call(arguments)));return b;}return d.call.apply(d,k.concat(T.call(arguments)));};j.length=typeof d=="function"?Math.max(d.length-k.length,0):0;return j;};}var S=Function.prototype.call,R=Array.prototype,Q=Object.prototype,P=S.bind(Q.hasOwnProperty),O,N,M,L,K;if(K=P(Q,"__defineGetter__")){O=S.bind(Q.__defineGetter__),N=S.bind(Q.__defineSetter__),M=S.bind(Q.__lookupGetter__),L=S.bind(Q.__lookupSetter__);}Array.isArray||(Array.isArray=function(b){return Object.prototype.toString.call(b)==="[object Array]";}),Array.prototype.forEach||(Array.prototype.forEach=function(f,e){var h=+this.length;for(var g=0;g<h;g++){g in this&&f.call(e,this[g],g,this);}}),Array.prototype.map||(Array.prototype.map=function(g){var f=+this.length;if(typeof g!="function"){throw new TypeError;}var k=Array(f),j=arguments[1];for(var h=0;h<f;h++){h in this&&(k[h]=g.call(j,this[h],h,this));}return k;}),Array.prototype.filter||(Array.prototype.filter=function(f){var e=[],h=arguments[1];for(var g=0;g<this.length;g++){f.call(h,this[g])&&e.push(this[g]);}return e;}),Array.prototype.every||(Array.prototype.every=function(e){var d=arguments[1];for(var f=0;f<this.length;f++){if(!e.call(d,this[f])){return !1;}}return !0;}),Array.prototype.some||(Array.prototype.some=function(e){var d=arguments[1];for(var f=0;f<this.length;f++){if(e.call(d,this[f])){return !0;}}return !1;}),Array.prototype.reduce||(Array.prototype.reduce=function(f){var e=+this.length;if(typeof f!="function"){throw new TypeError;}if(e===0&&arguments.length===1){throw new TypeError;}var h=0;if(arguments.length>=2){var g=arguments[1];}else{do{if(h in this){g=this[h++];break;}if(++h>=e){throw new TypeError;}}while(!0);}for(;h<e;h++){h in this&&(g=f.call(null,g,this[h],h,this));}return g;}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(f){var e=+this.length;if(typeof f!="function"){throw new TypeError;}if(e===0&&arguments.length===1){throw new TypeError;}var h=e-1;if(arguments.length>=2){var g=arguments[1];}else{do{if(h in this){g=this[h--];break;}if(--h<0){throw new TypeError;}}while(!0);}for(;h>=0;h--){h in this&&(g=f.call(null,g,this[h],h,this));}return g;}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var d=this.length;if(!d){return -1;}var f=arguments[1]||0;if(f>=d){return -1;}f<0&&(f+=d);for(;f<d;f++){if(!P(this,f)){continue;}if(e===this[f]){return f;}}return -1;}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){var d=this.length;if(!d){return -1;}var f=arguments[1]||d;f<0&&(f+=d),f=Math.min(f,d-1);for(;f>=0;f--){if(!P(this,f)){continue;}if(e===this[f]){return f;}}return -1;}),Object.getPrototypeOf||(Object.getPrototypeOf=function(b){return b.__proto__||b.constructor.prototype;});if(!Object.getOwnPropertyDescriptor){var J="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(h,g){if(typeof h!="object"&&typeof h!="function"||h===null){throw new TypeError(J+h);}if(!P(h,g)){return undefined;}var n,m,k;n={enumerable:!0,configurable:!0};if(K){var j=h.__proto__;h.__proto__=Q;var m=M(h,g),k=L(h,g);h.__proto__=j;if(m||k){m&&(descriptor.get=m),k&&(descriptor.set=k);return descriptor;}}descriptor.value=h[g];return descriptor;};}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(b){return Object.keys(b);}),Object.create||(Object.create=function(f,e){var h;if(f===null){h={__proto__:null};}else{if(typeof f!="object"){throw new TypeError("typeof prototype["+typeof f+"] != 'object'");}var g=function(){};g.prototype=f,h=new g,h.__proto__=f;}typeof e!="undefined"&&Object.defineProperties(h,e);return h;});if(!Object.defineProperty){var I="Property description must be an object: ",H="Object.defineProperty called on non-object: ",G="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(f,e,h){if(typeof f!="object"&&typeof f!="function"){throw new TypeError(H+f);}if(typeof f!="object"||f===null){throw new TypeError(I+h);}if(P(h,"value")){if(K&&(M(f,e)||L(f,e))){var g=f.__proto__;f.__proto__=Q,delete f[e],f[e]=h.value,f.prototype;}else{f[e]=h.value;}}else{if(!K){throw new TypeError(G);}P(h,"get")&&O(f,e,h.get),P(h,"set")&&N(f,e,h.set);}return f;};}Object.defineProperties||(Object.defineProperties=function(e,d){for(var f in d){P(d,f)&&Object.defineProperty(e,f,d[f]);}return e;}),Object.seal||(Object.seal=function(b){return b;}),Object.freeze||(Object.freeze=function(b){return b;});try{Object.freeze(function(){});}catch(F){Object.freeze=function(d){return function c(a){return typeof a=="function"?a:d(a);};}(Object.freeze);}Object.preventExtensions||(Object.preventExtensions=function(b){return b;}),Object.isSealed||(Object.isSealed=function(b){return !1;}),Object.isFrozen||(Object.isFrozen=function(b){return !1;}),Object.isExtensible||(Object.isExtensible=function(b){return !0;});if(!Object.keys){var E=!0,D=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],C=D.length;for(var B in {toString:null}){E=!1;}Object.keys=function y(h){if(typeof h!="object"&&typeof h!="function"||h===null){throw new TypeError("Object.keys called on a non-object");}var g=[];for(var f in h){P(h,f)&&g.push(f);}if(E){for(var m=0,k=C;m<k;m++){var j=D[m];P(h,j)&&g.push(j);}}return g;};}Date.prototype.toISOString||(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1)+"-"+this.getUTCDate()+"T"+this.getUTCHours()+":"+this.getUTCMinutes()+":"+this.getUTCSeconds()+"Z";}),Date.now||(Date.now=function(){return(new Date).getTime();}),Date.prototype.toJSON||(Date.prototype.toJSON=function(b){if(typeof this.toISOString!="function"){throw new TypeError;}return this.toISOString();}),isNaN(Date.parse("T00:00"))&&(Date=function(g){var f=function(s,r,q,p,o,n,m){var b=arguments.length;if(this instanceof g){var a=b===1&&String(s)===s?new g(f.parse(s)):b>=7?new g(s,r,q,p,o,n,m):b>=6?new g(s,r,q,p,o,n):b>=5?new g(s,r,q,p,o):b>=4?new g(s,r,q,p):b>=3?new g(s,r,q):b>=2?new g(s,r):b>=1?new g(s):new g;a.constructor=f;return a;}return g.apply(this,arguments);},k=new RegExp("^(?:((?:[+-]\\d\\d)?\\d\\d\\d\\d)(?:-(\\d\\d)(?:-(\\d\\d))?)?)?(?:T(\\d\\d):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?)?(?:Z|([+-])(\\d\\d):(\\d\\d))?$");for(var j in g){f[j]=g[j];}f.now=g.now,f.UTC=g.UTC,f.prototype=g.prototype,f.prototype.constructor=f,f.parse=function h(a){var o=k.exec(a);if(o){o.shift();var n=o[0]===undefined;for(var m=0;m<10;m++){if(m===7){continue;}o[m]=+(o[m]||(m<3?1:0)),m===1&&o[m]--;}if(n){return((o[3]*60+o[4])*60+o[5])*1000+o[6];}var c=(o[8]*60+o[9])*60*1000;o[6]==="-"&&(c=-c);return g.UTC.apply(this,o.slice(0,7))+c;}return g.parse.apply(this,arguments);};return f;}(Date));if(!String.prototype.trim){var A=/^\s\s*/,z=/\s\s*$/;String.prototype.trim=function(){return String(this).replace(A,"").replace(z,"");};}}),define("ace/ace",["require","exports","module","pilot/index","pilot/fixoldbrowsers","pilot/plugin_manager","pilot/dom","pilot/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/theme/textmate","pilot/environment"],function(u,t,s){u("pilot/index"),u("pilot/fixoldbrowsers");var r=u("pilot/plugin_manager").catalog;r.registerPlugins(["pilot/index"]);var q=u("pilot/dom"),p=u("pilot/event"),o=u("ace/editor").Editor,n=u("ace/edit_session").EditSession,m=u("ace/undomanager").UndoManager,k=u("ace/virtual_renderer").VirtualRenderer;t.edit=function(a){typeof a=="string"&&(a=document.getElementById(a));var f=new n(q.getInnerText(a));f.setUndoManager(new m),a.innerHTML="";var e=new o(new k(a,u("ace/theme/textmate")));e.setSession(f);var d=u("pilot/environment").create();r.startupPlugins({env:d}).then(function(){d.document=f,d.editor=e,e.resize(),p.addListener(window,"resize",function(){e.resize();}),a.env=d;}),e.env=d;return e;};}),define("pilot/index",["require","exports","module","pilot/fixoldbrowsers","pilot/types/basic","pilot/types/command","pilot/types/settings","pilot/commands/settings","pilot/commands/basic","pilot/settings/canon","pilot/canon"],function(e,d,f){d.startup=function(a,g){e("pilot/fixoldbrowsers"),e("pilot/types/basic").startup(a,g),e("pilot/types/command").startup(a,g),e("pilot/types/settings").startup(a,g),e("pilot/commands/settings").startup(a,g),e("pilot/commands/basic").startup(a,g),e("pilot/settings/canon").startup(a,g),e("pilot/canon").startup(a,g);},d.shutdown=function(a,g){e("pilot/types/basic").shutdown(a,g),e("pilot/types/command").shutdown(a,g),e("pilot/types/settings").shutdown(a,g),e("pilot/commands/settings").shutdown(a,g),e("pilot/commands/basic").shutdown(a,g),e("pilot/settings/canon").shutdown(a,g),e("pilot/canon").shutdown(a,g);};}),define("pilot/types/basic",["require","exports","module","pilot/types"],function(B,A,z){function p(b){if(b instanceof x){this.subtype=b;}else{if(typeof b!="string"){throw new Error("Can' handle array subtype");}this.subtype=y.getType(b);if(this.subtype==null){throw new Error("Unknown array subtype: "+b);}}}function q(b){if(typeof b.defer!="function"){throw new Error("Instances of DeferredType need typeSpec.defer to be a function that returns a type");}Object.keys(b).forEach(function(a){this[a]=b[a];},this);}function s(b){if(!Array.isArray(b.data)&&typeof b.data!="function"){throw new Error("instances of SelectionType need typeSpec.data to be an array or function that returns an array:"+JSON.stringify(b));}Object.keys(b).forEach(function(a){this[a]=b[a];},this);}var y=B("pilot/types"),x=y.Type,w=y.Conversion,v=y.Status,u=new x;u.stringify=function(b){return b;},u.parse=function(b){if(typeof b!="string"){throw new Error("non-string passed to text.parse()");}return new w(b);},u.name="text";var t=new x;t.stringify=function(b){return b?""+b:null;},t.parse=function(d){if(typeof d!="string"){throw new Error("non-string passed to number.parse()");}if(d.replace(/\s/g,"").length===0){return new w(null,v.INCOMPLETE,"");}var c=new w(parseInt(d,10));isNaN(c.value)&&(c.status=v.INVALID,c.message="Can't convert \""+d+'" to a number.');return c;},t.decrement=function(b){return b-1;},t.increment=function(b){return b+1;},t.name="number",s.prototype=new x,s.prototype.stringify=function(b){return b;},s.prototype.parse=function(g){if(typeof g!="string"){throw new Error("non-string passed to parse()");}if(!this.data){throw new Error("Missing data on selection type extension.");}var f=typeof this.data=="function"?this.data():this.data,n=!1,m,k=[];f.forEach(function(a){g==a?(m=this.fromString(a),n=!0):a.indexOf(g)===0&&k.push(this.fromString(a));},this);if(n){return new w(m);}this.noMatch&&this.noMatch();if(k.length>0){var j="Possibilities"+(g.length===0?"":" for '"+g+"'");return new w(null,v.INCOMPLETE,j,k);}var j="Can't use '"+g+"'.";return new w(null,v.INVALID,j,k);},s.prototype.fromString=function(b){return b;},s.prototype.decrement=function(f){var e=typeof this.data=="function"?this.data():this.data,h;if(f==null){h=e.length-1;}else{var g=this.stringify(f),h=e.indexOf(g);h=h===0?e.length-1:h-1;}return this.fromString(e[h]);},s.prototype.increment=function(f){var e=typeof this.data=="function"?this.data():this.data,h;if(f==null){h=0;}else{var g=this.stringify(f),h=e.indexOf(g);h=h===e.length-1?0:h+1;}return this.fromString(e[h]);},s.prototype.name="selection",A.SelectionType=s;var r=new s({name:"bool",data:["true","false"],stringify:function(b){return""+b;},fromString:function(b){return b==="true"?!0:!1;}});q.prototype=new x,q.prototype.stringify=function(b){return this.defer().stringify(b);},q.prototype.parse=function(b){return this.defer().parse(b);},q.prototype.decrement=function(d){var c=this.defer();return c.decrement?c.decrement(d):undefined;},q.prototype.increment=function(d){var c=this.defer();return c.increment?c.increment(d):undefined;},q.prototype.name="deferred",A.DeferredType=q,p.prototype=new x,p.prototype.stringify=function(b){return b.join(" ");},p.prototype.parse=function(b){return this.defer().parse(b);},p.prototype.name="array";var o=!1;A.startup=function(){o||(o=!0,y.registerType(u),y.registerType(t),y.registerType(r),y.registerType(s),y.registerType(q),y.registerType(p));},A.shutdown=function(){o=!1,y.unregisterType(u),y.unregisterType(t),y.unregisterType(r),y.unregisterType(s),y.unregisterType(q),y.unregisterType(p);};}),define("pilot/types",["require","exports","module"],function(k,j,r){function m(f,e){if(f.substr(-2)==="[]"){var h=f.slice(0,-2);return new n.array(h);}var g=n[f];typeof g=="function"&&(g=new g(e));return g;}function o(){}function p(f,d,h,g){this.value=f,this.status=d||q.VALID,this.message=h,this.predictions=g||[];}var q={VALID:{toString:function(){return"VALID";},valueOf:function(){return 0;}},INCOMPLETE:{toString:function(){return"INCOMPLETE";},valueOf:function(){return 1;}},INVALID:{toString:function(){return"INVALID";},valueOf:function(){return 2;}},combine:function(e){var d=q.VALID;for(var f=0;f<e.length;f++){e[f].valueOf()>d.valueOf()&&(d=e[f]);}return d;}};j.Status=q,j.Conversion=p,o.prototype={stringify:function(b){throw new Error("not implemented");},parse:function(b){throw new Error("not implemented");},name:undefined,increment:function(b){return undefined;},decrement:function(b){return undefined;},getDefault:function(){return this.parse("");}},j.Type=o;var n={};j.registerType=function(b){if(typeof b=="object"){if(!(b instanceof o)){throw new Error("Can't registerType using: "+b);}if(!b.name){throw new Error("All registered types must have a name");}n[b.name]=b;}else{if(typeof b!="function"){throw new Error("Unknown type: "+b);}if(!b.prototype.name){throw new Error("All registered types must have a name");}n[b.prototype.name]=b;}},j.registerTypes=function(b){Object.keys(b).forEach(function(e){var a=b[e];a.name=e,j.registerType(a);});},j.deregisterType=function(b){delete n[b.name];},j.getType=function(b){if(typeof b=="string"){return m(b);}if(typeof b=="object"){if(!b.name){throw new Error("Missing 'name' member to typeSpec");}return m(b.name,b);}throw new Error("Can't extract type from "+b);};}),define("pilot/types/command",["require","exports","module","pilot/canon","pilot/types/basic","pilot/types"],function(j,h,p){var o=j("pilot/canon"),n=j("pilot/types/basic").SelectionType,m=j("pilot/types"),k=new n({name:"command",data:function(){return o.getCommandNames();},stringify:function(b){return b.name;},fromString:function(b){return o.getCommand(b);}});h.startup=function(){m.registerType(k);},h.shutdown=function(){m.unregisterType(k);};}),define("pilot/canon",["require","exports","module","pilot/console","pilot/stacktrace","pilot/oop","pilot/useragent","pilot/keys","pilot/event_emitter","pilot/typecheck","pilot/catalog","pilot/types","pilot/lang"],function(au,at,ar){function K(b){b=b||{},this.command=b.command,this.args=b.args,this.typed=b.typed,this._begunOutput=!1,this.start=new Date,this.end=null,this.completed=!1,this.error=!1;}function N(s,r,q,p,o){function m(){s.exec(r,n.args,n),!n.isAsync&&!n.isDone&&n.done();}typeof s=="string"&&(s=ad[s]);if(!s){return !1;}var n=new K({sender:q,command:s,args:p||{},typed:o});if(n.getStatus()==ai.INVALID){aq.error("Canon.exec: Invalid parameter(s) passed to "+s.name);return !1;}if(n.getStatus()==ai.INCOMPLETE){var k,d=r[q];if(!d||!d.getArgsProvider||!(k=d.getArgsProvider())){k=O;}k(n,function(){n.getStatus()==ai.VALID&&m();});return !0;}m();return !0;}function O(k,j){var r=k.args,q=k.command.params;for(var p=0;p<q.length;p++){var o=q[p];if(k.getParamStatus(o)!=ai.VALID||o.defaultValue===null){var n=o.description;o.defaultValue===null&&(n+=" (optional)");var m=prompt(n,o.defaultValue||"");if(!m){j();return;}r[o.name]=m;}}j();}function P(){return U;}function Q(b){return ad[b];}function R(j){var h=typeof j=="string"?j:j.name;j=ad[h],delete ad[h],ag.arrayRemove(U,h);var p=ac;for(var o in p){for(var n in p[o]){for(var m in p[o][n]){p[o][n][m]==j&&delete p[o][n][m];}}}var k=ab;for(var o in k){for(var n in k[o]){k[o][n].forEach(function(a,d){a.command==j&&k[o][n].splice(d,1);});}}}function S(e,d){var f=d.type;d.type=ah.getType(f);if(d.type==null){throw new Error("In "+e+"/"+d.name+": can't find type for: "+JSON.stringify(f));}}function T(b){if(!b.name){throw new Error("All registered commands must have a name");}b.params==null&&(b.params=[]);if(!Array.isArray(b.params)){throw new Error("command.params must be an array in "+b.name);}b.params.forEach(function(a){if(!a.name){throw new Error("In "+b.name+": all params must have a name");}S(b.name,a);},this),ad[b.name]=b,b.bindKey&&X(b),U.push(b.name),U.sort();}function V(g,f,k,j){var h=W(g,f,k,j);return h?N(h,g,f,{}):!1;}function W(j,h,p,o){ak.isNumber(o)&&(o=am.keyCodeToString(o));var n=(ab[p]||{})[o]||[];for(var m=0;m<n.length;m++){if(n[m].sender(j,h,p,o)){return n[m].command;}}var k=ac[h];return k&&k[p]&&k[p][o];}function X(j){var h=j.bindKey,p=h[Y],o=ac,n=ab;if(!h.sender){throw new Error("All key bindings must have a sender");}if(!h.mac&&h.mac!==null){throw new Error("All key bindings must have a mac key binding");}if(!h.win&&h.win!==null){throw new Error("All key bindings must have a windows key binding");}if(!!h[Y]){if(typeof h.sender=="string"){var m=aa(h.sender,"\\|",null,!0);m.forEach(function(a){o[a]||(o[a]={}),p.split("|").forEach(function(b){Z(b,j,o[a]);});});}else{if(!ak.isFunction(h.sender)){throw new Error("Key binding must have a sender that is a string or function");}var k={command:j,sender:h.sender};keyData=Z(p),n[keyData.hashId]||(n[keyData.hashId]={}),n[keyData.hashId][keyData.key]?n[keyData.hashId][keyData.key].push(k):n[keyData.hashId][keyData.key]=[k];}}}function Z(j,h,q){var p,o=0,n=aa(j,"\\-",null,!0),m=0,k=n.length;for(;m<k;++m){am.KEY_MODS[n[m]]?o=o|am.KEY_MODS[n[m]]:p=n[m]||"-";}if(q==null){return{key:p,hashId:o};}(q[o]||(q[o]={}))[p]=h;}function aa(f,e,h,g){return(g&&f.toLowerCase()||f).replace(/(?:^\s+|\n|\s+$)/g,"").split(new RegExp("[\\s ]*"+e+"[\\s ]*","g"),h||999);}var aq=au("pilot/console"),ap=au("pilot/stacktrace").Trace,ao=au("pilot/oop"),an=au("pilot/useragent"),am=au("pilot/keys"),al=au("pilot/event_emitter").EventEmitter,ak=au("pilot/typecheck"),aj=au("pilot/catalog"),ai=au("pilot/types").Status,ah=au("pilot/types"),ag=au("pilot/lang"),af={name:"command",description:"A command is a bit of functionality with optional typed arguments which can do something small like moving the cursor around the screen, or large like cloning a project from VCS.",indexOn:"name"};at.startup=function(d,c){aj.addExtensionSpec(af);},at.shutdown=function(d,c){aj.removeExtensionSpec(af);};var ae={name:"thing",description:"thing is an example command",params:[{name:"param1",description:"an example parameter",type:"text",defaultValue:null}],exec:function(e,d,f){thing();}},ad={},ac={},ab={},Y=an.isMac?"mac":"win",U=[];at.removeCommand=R,at.addCommand=T,at.getCommand=Q,at.getCommandNames=P,at.findKeyCommand=W,at.exec=N,at.execKeyCommand=V,at.upgradeType=S,ao.implement(at,al);var M=[],L=100;ao.implement(K.prototype,al),K.prototype.getParamStatus=function(g){var f=this.args||{};if(g.name in f){if(f[g.name]==null){return g.defaultValue===null?ai.VALID:ai.INCOMPLETE;}var k,j=f[g.name].toString();try{k=g.type.parse(j);}catch(h){return ai.INVALID;}if(k.status!=ai.VALID){return k.status;}}else{if(g.defaultValue===undefined){return ai.INCOMPLETE;}}return ai.VALID;},K.prototype.getParamNameStatus=function(e){var d=this.command.params||[];for(var f=0;f<d.length;f++){if(d[f].name==e){return this.getParamStatus(d[f]);}}throw"Parameter '"+e+"' not defined on command '"+this.command.name+"'";},K.prototype.getStatus=function(){var f=this.args||{},e=this.command.params;if(!e||e.length==0){return ai.VALID;}var h=[];for(var g=0;g<e.length;g++){h.push(this.getParamStatus(e[g]));}return ai.combine(h);},K.prototype._beginOutput=function(){this._begunOutput=!0,this.outputs=[],M.push(this);while(M.length>L){M.shiftObject();}at._dispatchEvent("output",{requests:M,request:this});},K.prototype.doneWithError=function(b){this.error=!0,this.done(b);},K.prototype.async=function(){this.isAsync=!0,this._begunOutput||this._beginOutput();},K.prototype.output=function(b){this._begunOutput||this._beginOutput(),typeof b!="string"&&!(b instanceof Node)&&(b=b.toString()),this.outputs.push(b),this.isDone=!0,this._dispatchEvent("output",{});return this;},K.prototype.done=function(b){this.completed=!0,this.end=new Date,this.duration=this.end.getTime()-this.start.getTime(),b&&this.output(b),this.isDone||(this.isDone=!0,this._dispatchEvent("output",{}));},at.Request=K;}),define("pilot/console",["require","exports","module"],function(g,f,k){var j=function(){},h=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","log","profile","profileEnd","time","timeEnd","trace","warn"];typeof window=="undefined"?h.forEach(function(b){f[b]=function(){var a=Array.prototype.slice.call(arguments),d={op:"log",method:b,args:a};postMessage(JSON.stringify(d));};}):h.forEach(function(b){window.console&&window.console[b]?f[b]=Function.prototype.bind.call(window.console[b],window.console):f[b]=j;});}),define("pilot/stacktrace",["require","exports","module","pilot/useragent","pilot/console"],function(w,v,u){function o(){}function q(e){for(var d=0;d<e.length;++d){var f=e[d];typeof f=="object"?e[d]="#object":typeof f=="function"?e[d]="#function":typeof f=="string"&&(e[d]='"'+f+'"');}return e.join(",");}var t=w("pilot/useragent"),s=w("pilot/console"),r=function(){return t.isGecko?"firefox":t.isOpera?"opera":"other";}(),p={chrome:function(d){var c=d.stack;if(!c){s.log(d);return[];}return c.replace(/^.*?\n/,"").replace(/^.*?\n/,"").replace(/^.*?\n/,"").replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n");},firefox:function(d){var c=d.stack;if(!c){s.log(d);return[];}c=c.replace(/(?:\n@:0)?\s+$/m,""),c=c.replace(/^\(/gm,"{anonymous}(");return c.split("\n");},opera:function(j){var h=j.message.split("\n"),A="{anonymous}",z=/Line\s+(\d+).*?script\s+(http\S+)(?:.*?in\s+function\s+(\S+))?/i,y,x,k;for(y=4,x=0,k=h.length;y<k;y+=2){z.test(h[y])&&(h[x++]=(RegExp.$3?RegExp.$3+"()@"+RegExp.$2+RegExp.$1:A+"()@"+RegExp.$2+":"+RegExp.$1)+" -- "+h[y+1].replace(/^\s+/,""));}h.splice(x,h.length-x);return h;},other:function(j){var g="{anonymous}",B=/function\s*([\w\-$]+)?\s*\(/i,A=[],z=0,y,x,k=10;while(j&&A.length<k){y=B.test(j.toString())?RegExp.$1||g:g,x=Array.prototype.slice.call(j.arguments),A[z++]=y+"("+q(x)+")";if(j===j.caller&&window.opera){break;}j=j.caller;}return A;}};o.prototype={sourceCache:{},ajax:function(d){var c=this.createXMLHTTPObject();if(!!c){c.open("GET",d,!1),c.setRequestHeader("User-Agent","XMLHTTP/1.0"),c.send("");return c.responseText;}},createXMLHTTPObject:function(){var f,e=[function(){return new XMLHttpRequest;},function(){return new ActiveXObject("Msxml2.XMLHTTP");},function(){return new ActiveXObject("Msxml3.XMLHTTP");},function(){return new ActiveXObject("Microsoft.XMLHTTP");}];for(var h=0;h<e.length;h++){try{f=e[h](),this.createXMLHTTPObject=e[h];return f;}catch(g){}}},getSource:function(b){b in this.sourceCache||(this.sourceCache[b]=this.ajax(b).split("\n"));return this.sourceCache[b];},guessFunctions:function(k){for(var j=0;j<k.length;++j){var C=/{anonymous}\(.*\)@(\w+:\/\/([-\w\.]+)+(:\d+)?[^:]+):(\d+):?(\d+)?/,B=k[j],A=C.exec(B);if(A){var z=A[1],y=A[4];if(z&&y){var x=this.guessFunctionName(z,y);k[j]=B.replace("{anonymous}",x);}}}return k;},guessFunctionName:function(e,d){try{return this.guessFunctionNameFromLines(d,this.getSource(e));}catch(f){return"getSource failed with url: "+e+", exception: "+f.toString();}},guessFunctionNameFromLines:function(k,j){var C=/function ([^(]*)\(([^)]*)\)/,B=/['"]?([0-9A-Za-z_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,A="",z=10;for(var y=0;y<z;++y){A=j[k-y]+A;if(A!==undefined){var x=B.exec(A);if(x){return x[1];}x=C.exec(A);if(x&&x[1]){return x[1];}}}return"(?)";}};var n=new o,m=[/http:\/\/localhost:4020\/sproutcore.js:/];v.ignoreFramesMatching=function(b){m.push(b);},v.Trace=function(d,c){this._ex=d,this._stack=p[r](d),c&&(this._stack=n.guessFunctions(this._stack));},v.Trace.prototype.log=function(g){g<=0&&(g=999999999);var e=0;for(var k=0;k<this._stack.length&&e<g;k++){var j=this._stack[k],h=!0;m.forEach(function(b){b.test(j)&&(h=!1);}),h&&(s.debug(j),e++);}};}),define("pilot/useragent",["require","exports","module"],function(h,g,n){var m=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),k=navigator.userAgent,j=navigator.appVersion;g.isWin=m=="win",g.isMac=m=="mac",g.isLinux=m=="linux",g.isIE=!1,g.isGecko=g.isMozilla=window.controllers&&window.navigator.product==="Gecko",g.isOldGecko=g.isGecko&&/rv\:1/.test(navigator.userAgent),g.isOpera=window.opera&&Object.prototype.toString.call(window.opera)=="[object Opera]",g.isWebKit=parseFloat(k.split("WebKit/")[1])||undefined,g.isChrome=parseFloat(k.split(" Chrome/")[1])||undefined,g.isAIR=k.indexOf("AdobeAIR")>=0,g.isIPad=k.indexOf("iPad")>=0,g.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},g.getOS=function(){return g.isMac?g.OS.MAC:g.isLinux?g.OS.LINUX:g.OS.WINDOWS;};}),define("pilot/oop",["require","exports","module"],function(e,d,f){d.inherits=function(){var b=function(){};return function(a,g){b.prototype=g.prototype,a.super_=g.prototype,a.prototype=new b,a.prototype.constructor=a;};}(),d.mixin=function(h,g){for(var j in g){h[j]=g[j];}},d.implement=function(b,g){d.mixin(b,g);};}),define("pilot/keys",["require","exports","module","pilot/oop"],function(g,f,k){var j=g("pilot/oop"),h=function(){var d={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,meta:8,command:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:'"'}};for(i in d.FUNCTION_KEYS){var c=d.FUNCTION_KEYS[i].toUpperCase();d[c]=parseInt(i,10);}j.mixin(d,d.MODIFIER_KEYS),j.mixin(d,d.PRINTABLE_KEYS),j.mixin(d,d.FUNCTION_KEYS);return d;}();j.mixin(f,h),f.keyCodeToString=function(b){return(h[b]||String.fromCharCode(b)).toLowerCase();};}),define("pilot/event_emitter",["require","exports","module"],function(f,e,h){var g={};g._emit=g._dispatchEvent=function(k,j){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[k];if(!!n&&!!n.length){var j=j||{};j.type=k;for(var m=0;m<n.length;m++){n[m](j);}}},g.on=g.addEventListener=function(j,d){this._eventRegistry=this._eventRegistry||{};var k=this._eventRegistry[j];if(!k){var k=this._eventRegistry[j]=[];}k.indexOf(d)==-1&&k.push(d);},g.removeListener=g.removeEventListener=function(k,j){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[k];if(!!n){var m=n.indexOf(j);m!==-1&&n.splice(m,1);}},g.removeAllListeners=function(b){this._eventRegistry&&(this._eventRegistry[b]=[]);},e.EventEmitter=g;}),define("pilot/typecheck",["require","exports","module"],function(f,e,h){var g=Object.prototype.toString;e.isString=function(b){return b&&g.call(b)==="[object String]";},e.isBoolean=function(b){return b&&g.call(b)==="[object Boolean]";},e.isNumber=function(b){return b&&g.call(b)==="[object Number]"&&isFinite(b);},e.isObject=function(b){return b!==undefined&&(b===null||typeof b=="object"||Array.isArray(b)||e.isFunction(b));},e.isFunction=function(b){return b&&g.call(b)==="[object Function]";};}),define("pilot/catalog",["require","exports","module"],function(f,e,h){var g={};e.addExtensionSpec=function(b){g[b.name]=b;},e.removeExtensionSpec=function(b){typeof b=="string"?delete g[b]:delete g[b.name];},e.getExtensionSpec=function(b){return g[b];},e.getExtensionSpecs=function(){return Object.keys(g);};}),define("pilot/lang",["require","exports","module"],function(g,f,k){f.stringReverse=function(b){return b.split("").reverse().join("");},f.stringRepeat=function(d,c){return Array(c+1).join(d);};var j=/^\s\s*/,h=/\s\s*$/;f.stringTrimLeft=function(b){return b.replace(j,"");},f.stringTrimRight=function(b){return b.replace(h,"");},f.copyObject=function(e){var d={};for(var m in e){d[m]=e[m];}return d;},f.copyArray=function(d){var c=[];for(i=0,l=d.length;i<l;i++){d[i]&&typeof d[i]=="object"?c[i]=this.copyObject(d[i]):c[i]=d[i];}return c;},f.deepCopy=function(e){if(typeof e!="object"){return e;}var d=e.constructor();for(var m in e){typeof e[m]=="object"?d[m]=this.deepCopy(e[m]):d[m]=e[m];}return d;},f.arrayToMap=function(e){var d={};for(var m=0;m<e.length;m++){d[e[m]]=1;}return d;},f.arrayRemove=function(e,d){for(var m=0;m<=e.length;m++){d===e[m]&&e.splice(m,1);}},f.escapeRegExp=function(b){return b.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1");},f.deferredCall=function(m){var e=null,o=function(){e=null,m();},n=function(b){e||(e=setTimeout(o,b||0));return n;};n.schedule=n,n.call=function(){this.cancel(),m();return n;},n.cancel=function(){clearTimeout(e),e=null;return n;};return n;};}),define("pilot/types/settings",["require","exports","module","pilot/types/basic","pilot/types","pilot/settings"],function(w,v,u){var t=w("pilot/types/basic").SelectionType,s=w("pilot/types/basic").DeferredType,r=w("pilot/types"),q=w("pilot/settings").settings,p,o=new t({name:"setting",data:function(){return m.settings.getSettingNames();},stringify:function(b){p=b;return b.name;},fromString:function(b){p=q.getSetting(b);return p;},noMatch:function(){p=null;}}),n=new s({name:"settingValue",defer:function(){return p?p.type:r.getType("text");},getDefault:function(){var f=this.parse("");if(p){var e=p.get();if(f.predictions.length===0){f.predictions.push(e);}else{var h=!1;for(;;){var g=f.predictions.indexOf(e);if(g===-1){break;}f.predictions.splice(g,1),h=!0;}h&&f.predictions.push(e);}}return f;}}),m;v.startup=function(d,c){m=d.env,r.registerType(o),r.registerType(n);},v.shutdown=function(d,c){r.unregisterType(o),r.unregisterType(n);};}),define("pilot/settings",["require","exports","module","pilot/console","pilot/oop","pilot/types","pilot/event_emitter","pilot/catalog"],function(x,w,v){function m(){}function n(b){this._deactivated={},this._settings={},this._settingNames=[],b&&this.setPersister(b);}function o(d,c){this._settings=c,Object.keys(d).forEach(function(a){this[a]=d[a];},this),this.type=s.getType(this.type);if(this.type==null){throw new Error("In "+this.name+": can't find type for: "+JSON.stringify(d.type));}if(!this.name){throw new Error("Setting.name == undefined. Ignoring.",this);}if(!this.defaultValue===undefined){throw new Error("Setting.defaultValue == undefined",this);}this.onChange&&this.on("change",this.onChange.bind(this)),this.set(this.defaultValue);}var u=x("pilot/console"),t=x("pilot/oop"),s=x("pilot/types"),r=x("pilot/event_emitter").EventEmitter,q=x("pilot/catalog"),p={name:"setting",description:"A setting is something that the application offers as a way to customize how it works",register:"env.settings.addSetting",indexOn:"name"};w.startup=function(d,c){q.addExtensionSpec(p);},w.shutdown=function(d,c){q.removeExtensionSpec(p);},o.prototype={get:function(){return this.value;},set:function(b){this.value!==b&&(this.value=b,this._settings.persister&&this._settings.persister.persistValue(this._settings,this.name,b),this._dispatchEvent("change",{setting:this,value:b}));},resetValue:function(){this.set(this.defaultValue);},toString:function(){return this.name;}},t.implement(o.prototype,r),n.prototype={addSetting:function(d){var c=new o(d,this);this._settings[c.name]=c,this._settingNames.push(c.name),this._settingNames.sort();},addSettings:function(b){Object.keys(b).forEach(function(a){var d=b[a];"name" in d||(d.name=a),this.addSetting(d);},this);},removeSetting:function(d){var c=typeof d=="string"?d:d.name;d=this._settings[c],delete this._settings[c],util.arrayRemove(this._settingNames,c),settings.removeAllListeners("change");},removeSettings:function(b){Object.keys(b).forEach(function(a){var d=b[a];"name" in d||(d.name=a),this.removeSettings(d);},this);},getSettingNames:function(){return this._settingNames;},getSetting:function(b){return this._settings[b];},setPersister:function(b){this._persister=b,b&&b.loadInitialValues(this);},resetAll:function(){this.getSettingNames().forEach(function(b){this.resetValue(b);},this);},_list:function(){var b=[];this.getSettingNames().forEach(function(a){b.push({key:a,value:this.getSetting(a).get()});},this);return b;},_loadDefaultValues:function(){this._loadFromObject(this._getDefaultValues());},_loadFromObject:function(f){for(var e in f){if(f.hasOwnProperty(e)){var h=this._settings[e];if(h){var g=h.type.parse(f[e]);this.set(e,g);}else{this.set(e,f[e]);}}}},_saveToObject:function(){return this.getSettingNames().map(function(b){return this._settings[b].type.stringify(this.get(b));}.bind(this));},_getDefaultValues:function(){return this.getSettingNames().map(function(b){return this._settings[b].spec.defaultValue;}.bind(this));}},w.settings=new n,m.prototype={loadInitialValues:function(d){d._loadDefaultValues();var c=cookie.get("settings");d._loadFromObject(JSON.parse(c));},persistValue:function(g,d,k){try{var j=JSON.stringify(g._saveToObject());cookie.set("settings",j);}catch(h){u.error("Unable to JSONify the settings! "+h);return;}}},w.CookiePersister=m;}),define("pilot/commands/settings",["require","exports","module","pilot/canon"],function(h,g,n){var m={name:"set",params:[{name:"setting",type:"setting",description:"The name of the setting to display or alter",defaultValue:null},{name:"value",type:"settingValue",description:"The new value for the chosen setting",defaultValue:null}],description:"define and show settings",exec:function(o,f,r){var q;if(!f.setting){var p=o.settings.getSettingNames();q="",p.sort(function(d,c){return d.localeCompare(c);}),p.forEach(function(a){var s=o.settings.getSetting(a),d="https://wiki.mozilla.org/Labs/Skywriter/Settings#"+s.name;q+='<a class="setting" href="'+d+'" title="View external documentation on setting: '+s.name+'" target="_blank">'+s.name+"</a> = "+s.value+"<br/>";});}else{f.value===undefined?q="<strong>"+setting.name+"</strong> = "+setting.get():(f.setting.set(f.value),q="Setting: <strong>"+f.setting.name+"</strong> = "+f.setting.get());}r.done(q);}},k={name:"unset",params:[{name:"setting",type:"setting",description:"The name of the setting to return to defaults"}],description:"unset a setting entirely",exec:function(f,e,p){var o=f.settings.get(e.setting);o?(o.reset(),p.done("Reset "+o.name+" to default: "+f.settings.get(e.setting))):p.doneWithError("No setting with the name <strong>"+e.setting+"</strong>.");}},j=h("pilot/canon");g.startup=function(d,c){j.addCommand(m),j.addCommand(k);},g.shutdown=function(d,c){j.removeCommand(m),j.removeCommand(k);};}),define("pilot/commands/basic",["require","exports","module","pilot/typecheck","pilot/canon"],function(require,exports,module){var checks=require("pilot/typecheck"),canon=require("pilot/canon"),helpCommandSpec={name:"help",params:[{name:"search",type:"text",description:"Search string to narrow the output.",defaultValue:null}],description:"Get help on the available commands.",exec:function(a,b,c){var d=[],e=canon.getCommand(b.search);if(e&&e.exec){d.push(e.description?e.description:"No description for "+b.search);}else{var f=!1;e?(d.push("<h2>Sub-Commands of "+e.name+"</h2>"),d.push("<p>"+e.description+"</p>")):b.search?(b.search=="hidden"&&(b.search="",f=!0),d.push("<h2>Commands starting with '"+b.search+"':</h2>")):d.push("<h2>Available Commands:</h2>");var g=canon.getCommandNames();g.sort(),d.push("<table>");for(var h=0;h<g.length;h++){e=canon.getCommand(g[h]);if(!f&&e.hidden){continue;}if(e.description===undefined){continue;}if(b.search&&e.name.indexOf(b.search)!==0){continue;}if(!b.search&&e.name.indexOf(" ")!=-1){continue;}if(e&&e.name==b.search){continue;}d.push("<tr>"),d.push('<th class="right">'+e.name+"</th>"),d.push("<td>"+e.description+"</td>"),d.push("</tr>");}d.push("</table>");}c.done(d.join(""));}},evalCommandSpec={name:"eval",params:[{name:"javascript",type:"text",description:"The JavaScript to evaluate"}],description:"evals given js code and show the result",hidden:!0,exec:function(env,args,request){var result,javascript=args.javascript;try{result=eval(javascript);}catch(e){result="<b>Error: "+e.message+"</b>";}var msg="",type="",x;if(checks.isFunction(result)){msg=(result+"").replace(/\n/g,"<br>").replace(/ /g,"&#160"),type="function";}else{if(checks.isObject(result)){Array.isArray(result)?type="array":type="object";var items=[],value;for(x in result){result.hasOwnProperty(x)&&(checks.isFunction(result[x])?value="[function]":checks.isObject(result[x])?value="[object]":value=result[x],items.push({name:x,value:value}));}items.sort(function(a,b){return a.name.toLowerCase()<b.name.toLowerCase()?-1:1;});for(x=0;x<items.length;x++){msg+="<b>"+items[x].name+"</b>: "+items[x].value+"<br>";}}else{msg=result,type=typeof result;}}request.done("Result for eval <b>'"+javascript+"'</b> (type: "+type+"): <br><br>"+msg);}},canon=require("pilot/canon");exports.startup=function(a,b){canon.addCommand(helpCommandSpec),canon.addCommand(evalCommandSpec);},exports.shutdown=function(a,b){canon.removeCommand(helpCommandSpec),canon.removeCommand(evalCommandSpec);};}),define("pilot/settings/canon",["require","exports","module"],function(f,e,h){var g={name:"historyLength",description:"How many typed commands do we recall for reference?",type:"number",defaultValue:50};e.startup=function(d,c){d.env.settings.addSetting(g);},e.shutdown=function(d,c){d.env.settings.removeSetting(g);};}),define("pilot/plugin_manager",["require","exports","module","pilot/promise"],function(f,e,h){var g=f("pilot/promise").Promise;e.REASONS={APP_STARTUP:1,APP_SHUTDOWN:2,PLUGIN_ENABLE:3,PLUGIN_DISABLE:4,PLUGIN_INSTALL:5,PLUGIN_UNINSTALL:6,PLUGIN_UPGRADE:7,PLUGIN_DOWNGRADE:8},e.Plugin=function(b){this.name=b,this.status=this.INSTALLED;},e.Plugin.prototype={NEW:0,INSTALLED:1,REGISTERED:2,STARTED:3,UNREGISTERED:4,SHUTDOWN:5,install:function(a,j){var d=new g;if(this.status>this.NEW){d.resolve(this);return d;}f([this.name],function(b){b.install&&b.install(a,j),this.status=this.INSTALLED,d.resolve(this);}.bind(this));return d;},register:function(a,j){var d=new g;if(this.status!=this.INSTALLED){d.resolve(this);return d;}f([this.name],function(b){b.register&&b.register(a,j),this.status=this.REGISTERED,d.resolve(this);}.bind(this));return d;},startup:function(d,b){b=b||e.REASONS.APP_STARTUP;var a=new g;if(this.status!=this.REGISTERED){a.resolve(this);return a;}f([this.name],function(c){c.startup&&c.startup(d,b),this.status=this.STARTED,a.resolve(this);}.bind(this));return a;},shutdown:function(a,d){this.status==this.STARTED&&(pluginModule=f(this.name),pluginModule.shutdown&&pluginModule.shutdown(a,d));}},e.PluginCatalog=function(){this.plugins={};},e.PluginCatalog.prototype={registerPlugins:function(b,k,j){var d=[];b.forEach(function(c){var m=this.plugins[c];m===undefined&&(m=new e.Plugin(c),this.plugins[c]=m,d.push(m.register(k,j)));}.bind(this));return g.group(d);},startupPlugins:function(j,d){var n=[];for(var m in this.plugins){var k=this.plugins[m];n.push(k.startup(j,d));}return g.group(n);}},e.catalog=new e.PluginCatalog;}),define("pilot/promise",["require","exports","module","pilot/console","pilot/stacktrace"],function(x,w,v){var u=x("pilot/console"),t=x("pilot/stacktrace").Trace,s=-1,r=0,q=1,p=0,o=!1,n=[],m=[];Promise=function(){this._status=r,this._value=undefined,this._onSuccessHandlers=[],this._onErrorHandlers=[],this._id=p++,n[this._id]=this;},Promise.prototype.isPromise=!0,Promise.prototype.isComplete=function(){return this._status!=r;},Promise.prototype.isResolved=function(){return this._status==q;},Promise.prototype.isRejected=function(){return this._status==s;},Promise.prototype.then=function(d,c){typeof d=="function"&&(this._status===q?d.call(null,this._value):this._status===r&&this._onSuccessHandlers.push(d)),typeof c=="function"&&(this._status===s?c.call(null,this._value):this._status===r&&this._onErrorHandlers.push(c));return this;},Promise.prototype.chainPromise=function(d){var c=new Promise;c._chainedFrom=this,this.then(function(b){try{c.resolve(d(b));}catch(a){c.reject(a);}},function(b){c.reject(b);});return c;},Promise.prototype.resolve=function(b){return this._complete(this._onSuccessHandlers,q,b,"resolve");},Promise.prototype.reject=function(b){return this._complete(this._onErrorHandlers,s,b,"reject");},Promise.prototype._complete=function(e,d,h,g){if(this._status!=r){u.group("Promise already closed"),u.error("Attempted "+g+"() with ",h),u.error("Previous status = ",this._status,", previous value = ",this._value),u.trace(),this._completeTrace&&(u.error("Trace of previous completion:"),this._completeTrace.log(5)),u.groupEnd();return this;}o&&(this._completeTrace=new t(new Error)),this._status=d,this._value=h,e.forEach(function(b){b.call(null,this._value);},this),this._onSuccessHandlers.length=0,this._onErrorHandlers.length=0,delete n[this._id],m.push(this);while(m.length>20){m.shift();}return this;},Promise.group=function(g){g instanceof Array||(g=Array.prototype.slice.call(arguments));if(g.length===0){return(new Promise).resolve([]);}var f=new Promise,k=[],j=0,h=function(a){return function(b){k[a]=b,j++,f._status!==s&&j===g.length&&f.resolve(k);};};g.forEach(function(b,z){var y=h(z),e=f.reject.bind(f);b.then(y,e);});return f;},w.Promise=Promise,w._outstanding=n,w._recent=m;}),define("pilot/dom",["require","exports","module"],function(f,e,h){var g="http://www.w3.org/1999/xhtml";e.createElement=function(d,c){return document.createElementNS?document.createElementNS(c||g,d):document.createElement(d);},e.setText=function(d,c){d.innerText!==undefined&&(d.innerText=c),d.textContent!==undefined&&(d.textContent=c);},document.documentElement.classList?(e.hasCssClass=function(d,c){return d.classList.contains(c);},e.addCssClass=function(d,c){d.classList.add(c);},e.removeCssClass=function(d,c){d.classList.remove(c);},e.toggleCssClass=function(d,c){return d.classList.toggle(c);}):(e.hasCssClass=function(j,d){var k=j.className.split(/\s+/g);return k.indexOf(d)!==-1;},e.addCssClass=function(b,d){e.hasCssClass(b,d)||(b.className+=" "+d);},e.removeCssClass=function(k,j){var n=k.className.split(/\s+/g);for(;;){var m=n.indexOf(j);if(m==-1){break;}n.splice(m,1);}k.className=n.join(" ");},e.toggleCssClass=function(k,j){var o=k.className.split(/\s+/g),n=!0;for(;;){var m=o.indexOf(j);if(m==-1){break;}n=!1,o.splice(m,1);}n&&o.push(j),k.className=o.join(" ");return n;}),e.setCssClass=function(b,k,j){j?e.addCssClass(b,k):e.removeCssClass(b,k);},e.importCssString=function(j,d){d=d||document;if(d.createStyleSheet){var n=d.createStyleSheet();n.cssText=j;}else{var m=d.createElementNS?d.createElementNS(g,"style"):d.createElement("style");m.appendChild(d.createTextNode(j));var k=d.getElementsByTagName("head")[0]||d.documentElement;k.appendChild(m);}},e.getInnerWidth=function(b){return parseInt(e.computedStyle(b,"paddingLeft"))+parseInt(e.computedStyle(b,"paddingRight"))+b.clientWidth;},e.getInnerHeight=function(b){return parseInt(e.computedStyle(b,"paddingTop"))+parseInt(e.computedStyle(b,"paddingBottom"))+b.clientHeight;},window.pageYOffset!==undefined?(e.getPageScrollTop=function(){return window.pageYOffset;},e.getPageScrollLeft=function(){return window.pageXOffset;}):(e.getPageScrollTop=function(){return document.body.scrollTop;},e.getPageScrollLeft=function(){return document.body.scrollLeft;}),window.getComputedStyle?e.computedStyle=function(d,c){return c?(window.getComputedStyle(d,"")||{})[c]||"":window.getComputedStyle(d,"")||{};}:e.computedStyle=function(d,c){return c?d.currentStyle[c]:d.currentStyle;},e.scrollbarWidth=function(){var b=e.createElement("p");b.style.width="100%",b.style.minWidth="0px",b.style.height="200px";var o=e.createElement("div"),n=o.style;n.position="absolute",n.left="-10000px",n.overflow="hidden",n.width="200px",n.minWidth="0px",n.height="150px",o.appendChild(b);var m=document.body||document.documentElement;m.appendChild(o);var k=b.offsetWidth;n.overflow="scroll";var j=b.offsetWidth;k==j&&(j=o.clientWidth),m.removeChild(o);return k-j;},e.setInnerHtml=function(j,d){var k=j.cloneNode(!1);k.innerHTML=d,j.parentNode.replaceChild(k,j);return k;},e.setInnerText=function(d,c){document.body&&"textContent" in document.body?d.textContent=c:d.innerText=c;},e.getInnerText=function(b){return document.body&&"textContent" in document.body?b.textContent:b.innerText||b.textContent||"";},e.getParentWindow=function(b){return b.defaultView||b.parentWindow;},e.getSelectionStart=function(j){var d;try{d=j.selectionStart||0;}catch(k){d=0;}return d;},e.setSelectionStart=function(d,c){return d.selectionStart=c;},e.getSelectionEnd=function(j){var d;try{d=j.selectionEnd||0;}catch(k){d=0;}return d;},e.setSelectionEnd=function(d,c){return d.selectionEnd=c;};}),define("pilot/event",["require","exports","module","pilot/keys","pilot/useragent","pilot/dom"],function(j,h,p){function k(e,d,q){var g=0;n.isOpera&&n.isMac?g=0|(d.metaKey?1:0)|(d.altKey?2:0)|(d.shiftKey?4:0)|(d.ctrlKey?8:0):g=0|(d.ctrlKey?1:0)|(d.altKey?2:0)|(d.shiftKey?4:0)|(d.metaKey?8:0);if(q in o.MODIFIER_KEYS){switch(o.MODIFIER_KEYS[q]){case"Alt":g=2;break;case"Shift":g=4;break;case"Ctrl":g=1;break;default:g=8;}q=0;}g&8&&(q==91||q==93)&&(q=0);return g!=0||q in o.FUNCTION_KEYS?e(d,g,q):!1;}var o=j("pilot/keys"),n=j("pilot/useragent"),m=j("pilot/dom");h.addListener=function(f,e,q){if(f.addEventListener){return f.addEventListener(e,q,!1);}if(f.attachEvent){var g=function(){q(window.event);};q._wrapper=g,f.attachEvent("on"+e,g);}},h.removeListener=function(e,d,f){if(e.removeEventListener){return e.removeEventListener(d,f,!1);}e.detachEvent&&e.detachEvent("on"+d,f._wrapper||f);},h.stopEvent=function(b){h.stopPropagation(b),h.preventDefault(b);return !1;},h.stopPropagation=function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0;},h.preventDefault=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1;},h.getDocumentX=function(b){return b.clientX?b.clientX+m.getPageScrollLeft():b.pageX;},h.getDocumentY=function(b){return b.clientY?b.clientY+m.getPageScrollTop():b.pageY;},h.getButton=function(b){if(b.type=="dblclick"){return 0;}if(b.type=="contextmenu"){return 2;}return b.preventDefault?b.button:{1:0,2:2,4:1}[b.button];},document.documentElement.setCapture?h.capture=function(b,s,r){function g(a){s&&s(a),r&&r(),h.removeListener(b,"mousemove",s),h.removeListener(b,"mouseup",g),h.removeListener(b,"losecapture",g),b.releaseCapture();}function q(c){s(c);return h.stopPropagation(c);}h.addListener(b,"mousemove",s),h.addListener(b,"mouseup",g),h.addListener(b,"losecapture",g),b.setCapture();}:h.capture=function(g,f,s){function q(b){f&&f(b),s&&s(),document.removeEventListener("mousemove",r,!0),document.removeEventListener("mouseup",q,!0),b.stopPropagation();}function r(b){f(b),b.stopPropagation();}document.addEventListener("mousemove",r,!0),document.addEventListener("mouseup",q,!0);},h.addMouseWheelListener=function(b,f){var e=function(c){c.wheelDelta!==undefined?c.wheelDeltaX!==undefined?(c.wheelX=-c.wheelDeltaX/8,c.wheelY=-c.wheelDeltaY/8):(c.wheelX=0,c.wheelY=-c.wheelDelta/8):c.axis&&c.axis==c.HORIZONTAL_AXIS?(c.wheelX=(c.detail||0)*5,c.wheelY=0):(c.wheelX=0,c.wheelY=(c.detail||0)*5),f(c);};h.addListener(b,"DOMMouseScroll",e),h.addListener(b,"mousewheel",e);},h.addMultiMouseDownListener=function(w,v,u,t,s){var r=0,q,e,b=function(c){r+=1,r==1&&(q=c.clientX,e=c.clientY,setTimeout(function(){r=0;},t||600));var d=h.getButton(c)==v;if(!d||Math.abs(c.clientX-q)>5||Math.abs(c.clientY-e)>5){r=0;}r==u&&(r=0,s(c));if(d){return h.preventDefault(c);}};h.addListener(w,"mousedown",b),n.isIE&&h.addListener(w,"dblclick",b);},h.addCommandKeyListener=function(b,r){var q=h.addListener;if(n.isOldGecko){var g=null;q(b,"keydown",function(c){g=c.keyCode;}),q(b,"keypress",function(c){return k(r,c,g);});}else{var e=null;q(b,"keydown",function(c){e=c.keyIdentifier||c.keyCode;return k(r,c,c.keyCode);}),n.isMac&&n.isOpera&&q(b,"keypress",function(d){var c=d.keyIdentifier||d.keyCode;if(e!==c){return k(r,d,d.keyCode);}e=null;});}};}),define("ace/editor",["require","exports","module","pilot/fixoldbrowsers","pilot/oop","pilot/event","pilot/lang","pilot/useragent","ace/keyboard/textinput","ace/mouse_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","pilot/event_emitter"],function(D,C,B){D("pilot/fixoldbrowsers");var A=D("pilot/oop"),z=D("pilot/event"),y=D("pilot/lang"),x=D("pilot/useragent"),w=D("ace/keyboard/textinput").TextInput,v=D("ace/mouse_handler").MouseHandler,u=D("ace/keyboard/keybinding").KeyBinding,t=D("ace/edit_session").EditSession,s=D("ace/search").Search,r=D("ace/range").Range,q=D("pilot/event_emitter").EventEmitter,p=function(e,d){var f=e.getContainerElement();this.container=f,this.renderer=e,this.textInput=new w(e.getTextAreaContainer(),this),this.keyBinding=new u(this),x.isIPad||(this.$mouseHandler=new v(this)),this.$blockScrolling=0,this.$search=(new s).set({wrap:!0}),this.setSession(d||new t(""));};(function(){A.implement(this,q),this.$forwardEvents={gutterclick:1,gutterdblclick:1},this.$originalAddEventListener=this.addEventListener,this.$originalRemoveEventListener=this.removeEventListener,this.addEventListener=function(d,c){return this.$forwardEvents[d]?this.renderer.addEventListener(d,c):this.$originalAddEventListener(d,c);},this.removeEventListener=function(d,c){return this.$forwardEvents[d]?this.renderer.removeEventListener(d,c):this.$originalRemoveEventListener(d,c);},this.setKeyboardHandler=function(b){this.keyBinding.setKeyboardHandler(b);},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler();},this.setSession=function(e){if(this.session!=e){if(this.session){var d=this.session;this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange);var f=this.session.getSelection();f.removeEventListener("changeCursor",this.$onCursorChange),f.removeEventListener("changeSelection",this.$onSelectionChange),this.session.setScrollTopRow(this.renderer.getScrollTopRow());}this.session=e,this.$onDocumentChange=this.onDocumentChange.bind(this),e.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.updateText.bind(this.renderer),e.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.selection=e.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.scrollToRow(e.getScrollTopRow()),this.renderer.updateFull(),this._dispatchEvent("changeSession",{session:e,oldSession:d});}},this.getSession=function(){return this.session;},this.getSelection=function(){return this.selection;},this.resize=function(){this.renderer.onResize();},this.setTheme=function(b){this.renderer.setTheme(b);},this.getTheme=function(){return this.renderer.getTheme();},this.setStyle=function(b){this.renderer.setStyle(b);},this.unsetStyle=function(b){this.renderer.unsetStyle(b);},this.setFontSize=function(b){this.container.style.fontSize=b;},this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(!this.$highlightPending){var b=this;this.$highlightPending=!0,setTimeout(function(){b.$highlightPending=!1;var a=b.session.findMatchingBracket(b.getCursorPosition());if(a){var d=new r(a.row,a.column,a.row,a.column+1);b.session.$bracketHighlight=b.session.addMarker(d,"ace_bracket","text");}},10);}},this.focus=function(){var b=this;x.isIE||setTimeout(function(){b.textInput.focus();}),this.textInput.focus();},this.isFocused=function(){return this.textInput.isFocused();},this.blur=function(){this.textInput.blur();},this.onFocus=function(){this.renderer.showCursor(),this.renderer.visualizeFocus(),this._dispatchEvent("focus");},this.onBlur=function(){this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._dispatchEvent("blur");},this.onDocumentChange=function(f){var e=f.data,h=e.range;if(h.start.row==h.end.row&&e.action!="insertLines"&&e.action!="removeLines"){var g=h.end.row;}else{g=Infinity;}this.renderer.updateLines(h.start.row,g),this.renderer.updateCursor();},this.onTokenizerUpdate=function(d){var c=d.data;this.renderer.updateLines(c.first,c.last);},this.onCursorChange=function(b){this.renderer.updateCursor(),this.$blockScrolling||this.renderer.scrollCursorIntoView(),this.renderer.moveTextAreaToCursor(this.textInput.getElement()),this.$highlightBrackets(),this.$updateHighlightActiveLine();},this.$updateHighlightActiveLine=function(){var f=this.getSession();f.$highlightLineMarker&&f.removeMarker(f.$highlightLineMarker),f.$highlightLineMarker=null;if(this.getHighlightActiveLine()&&(this.getSelectionStyle()!="line"||!this.selection.isMultiLine())){var e=this.getCursorPosition(),h=this.session.getFoldLine(e.row),g;h?g=new r(h.start.row,0,h.end.row+1,0):g=new r(e.row,0,e.row+1,0),f.$highlightLineMarker=f.addMarker(g,"ace_active_line","background");}},this.onSelectionChange=function(f){var e=this.getSession();e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null;if(!this.selection.isEmpty()){var h=this.selection.getRange(),g=this.getSelectionStyle();e.$selectionMarker=e.addMarker(h,"ace_selection",g);}else{this.$updateHighlightActiveLine();}this.$highlightSelectedWord&&this.session.getMode().highlightSelection(this);},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers();},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers();},this.onChangeBreakpoint=function(){this.renderer.setBreakpoints(this.session.getBreakpoints());},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations());},this.onChangeMode=function(){this.renderer.updateText();},this.onChangeWrapLimit=function(){this.renderer.updateFull();},this.onChangeWrapMode=function(){this.renderer.onResize(!0);},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull();},this.getCopyText=function(){return this.selection.isEmpty()?"":this.session.getTextRange(this.getSelectionRange());},this.onCut=function(){this.$readOnly||this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());},this.insert=function(U){if(!this.$readOnly){var T=this.session,S=T.getMode(),R=this.getCursorPosition();if(this.getBehavioursEnabled()){var Q=S.transformAction(T.getState(R.row),"insertion",this,T,U);Q&&(U=Q.text);}U=U.replace("\t",this.session.getTabString());if(!this.selection.isEmpty()){var R=this.session.remove(this.getSelectionRange());this.clearSelection();}else{if(this.session.getOverwrite()){var P=new r.fromPoints(R,R);P.end.column+=U.length,this.session.remove(P);}}this.clearSelection();var O=R.column,N=T.getState(R.row),M=S.checkOutdent(N,T.getLine(R.row),U),L=T.getLine(R.row),K=S.getNextLineIndent(N,L.slice(0,R.column),T.getTabString()),J=T.insert(R,U);Q&&Q.selection&&(Q.selection.length==2?this.selection.setSelectionRange(new r(R.row,O+Q.selection[0],R.row,O+Q.selection[1])):this.selection.setSelectionRange(new r(R.row+Q.selection[0],Q.selection[1],R.row+Q.selection[2],Q.selection[3])));var N=T.getState(R.row);if(T.getDocument().isNewLine(U)){this.moveCursorTo(R.row+1,0);var I=T.getTabSize(),H=Number.MAX_VALUE;for(var G=R.row+1;G<=J.row;++G){var F=0;L=T.getLine(G);for(var E=0;E<L.length;++E){if(L.charAt(E)=="\t"){F+=I;}else{if(L.charAt(E)==" "){F+=1;}else{break;}}}/[^\s]/.test(L)&&(H=Math.min(F,H));}for(var G=R.row+1;G<=J.row;++G){var m=H;L=T.getLine(G);for(var E=0;E<L.length&&m>0;++E){L.charAt(E)=="\t"?m-=I:L.charAt(E)==" "&&(m-=1);}T.remove(new r(G,0,G,E));}T.indentRows(R.row+1,J.row,K);}else{M&&S.autoOutdent(N,T,R.row);}}},this.onTextInput=function(e,d){if(d&&e.length==1){var f=this.keyBinding.onCommandKey({},0,null,e);f||this.insert(e);}else{this.keyBinding.onTextInput(e);}},this.onCommandKey=function(e,d,f){this.keyBinding.onCommandKey(e,d,f);},this.setOverwrite=function(b){this.session.setOverwrite(b);},this.getOverwrite=function(){return this.session.getOverwrite();},this.toggleOverwrite=function(){this.session.toggleOverwrite();},this.setScrollSpeed=function(b){this.$mouseHandler.setScrollSpeed(b);},this.getScrollSpeed=function(){return this.$mouseHandler.getScrollSpeed();},this.$selectionStyle="line",this.setSelectionStyle=function(b){this.$selectionStyle!=b&&(this.$selectionStyle=b,this.onSelectionChange(),this._dispatchEvent("changeSelectionStyle",{data:b}));},this.getSelectionStyle=function(){return this.$selectionStyle;},this.$highlightActiveLine=!0,this.setHighlightActiveLine=function(b){this.$highlightActiveLine!=b&&(this.$highlightActiveLine=b,this.$updateHighlightActiveLine());},this.getHighlightActiveLine=function(){return this.$highlightActiveLine;},this.$highlightSelectedWord=!0,this.setHighlightSelectedWord=function(b){this.$highlightSelectedWord!=b&&(this.$highlightSelectedWord=b,b?this.session.getMode().highlightSelection(this):this.session.getMode().clearSelectionHighlight(this));},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord;},this.setShowInvisibles=function(b){this.getShowInvisibles()!=b&&this.renderer.setShowInvisibles(b);},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles();},this.setShowPrintMargin=function(b){this.renderer.setShowPrintMargin(b);},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin();},this.setPrintMarginColumn=function(b){this.renderer.setPrintMarginColumn(b);},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn();},this.$readOnly=!1,this.setReadOnly=function(b){this.$readOnly=b;},this.getReadOnly=function(){return this.$readOnly;},this.$modeBehaviours=!0,this.setBehavioursEnabled=function(b){this.$modeBehaviours=b;},this.getBehavioursEnabled=function(){return this.$modeBehaviours;},this.removeRight=function(){this.$readOnly||(this.selection.isEmpty()&&this.selection.selectRight(),this.session.remove(this.getSelectionRange()),this.clearSelection());},this.removeLeft=function(){if(!this.$readOnly){this.selection.isEmpty()&&this.selection.selectLeft();var f=this.getSelectionRange();if(this.getBehavioursEnabled()){var e=this.session,h=e.getState(f.start.row),g=e.getMode().transformAction(h,"deletion",this,e,f);g!==!1&&(f=g);}this.session.remove(f),this.clearSelection();}},this.removeWordRight=function(){this.$readOnly||(this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection());},this.removeWordLeft=function(){this.$readOnly||(this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection());},this.removeToLineStart=function(){this.$readOnly||(this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection());},this.removeToLineEnd=function(){if(!this.$readOnly){this.selection.isEmpty()&&this.selection.selectLineEnd();var b=this.getSelectionRange();b.start.column==b.end.column&&b.start.row==b.end.row&&(b.end.column=0,b.end.row++),this.session.remove(b),this.clearSelection();}},this.splitLine=function(){if(!this.$readOnly){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var b=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(b);}},this.transposeLetters=function(){if(!this.$readOnly){if(!this.selection.isEmpty()){return;}var g=this.getCursorPosition(),f=g.column;if(f==0){return;}var k=this.session.getLine(g.row);if(f<k.length){var j=k.charAt(f)+k.charAt(f-1),h=new r(g.row,f-1,g.row,f+1);}else{var j=k.charAt(f-1)+k.charAt(f-2),h=new r(g.row,f-2,g.row,f);}this.session.replace(h,j);}},this.indent=function(){if(!this.$readOnly){var j=this.session,f=this.getSelectionRange();if(!(f.start.row<f.end.row||f.start.column<f.end.column)){var E;if(this.session.getUseSoftTabs()){var o=j.getTabSize(),n=this.getCursorPosition(),m=j.documentToScreenColumn(n.row,n.column),k=o-m%o;E=y.stringRepeat(" ",k);}else{E="\t";}return this.onTextInput(E);}var F=this.$getSelectedRows();j.indentRows(F.first,F.last,"\t");}},this.blockOutdent=function(){if(!this.$readOnly){var b=this.session.getSelection();this.session.outdentRows(b.getRange());}},this.toggleCommentLines=function(){if(!this.$readOnly){var d=this.session.getState(this.getCursorPosition().row),c=this.$getSelectedRows();this.session.getMode().toggleCommentLines(d,this.session,c.first,c.last);}},this.removeLines=function(){if(!this.$readOnly){var d=this.$getSelectedRows();if(d.last==0||d.last+1<this.session.getLength()){var c=new r(d.first,0,d.last+1,0);}else{var c=new r(d.first-1,this.session.getLine(d.first).length,d.last,this.session.getLine(d.last).length);}this.session.remove(c),this.clearSelection();}},this.moveLinesDown=function(){this.$readOnly||this.$moveLines(function(d,c){return this.session.moveLinesDown(d,c);});},this.moveLinesUp=function(){this.$readOnly||this.$moveLines(function(d,c){return this.session.moveLinesUp(d,c);});},this.moveText=function(d,c){return this.$readOnly?null:this.session.moveText(d,c);},this.copyLinesUp=function(){this.$readOnly||this.$moveLines(function(d,c){this.session.duplicateLines(d,c);return 0;});},this.copyLinesDown=function(){this.$readOnly||this.$moveLines(function(d,c){return this.session.duplicateLines(d,c);});},this.$moveLines=function(f){var e=this.$getSelectedRows(),h=f.call(this,e.first,e.last),g=this.selection;g.setSelectionAnchor(e.last+h+1,0),g.$moveSelection(function(){g.moveCursorTo(e.first+h,0);});},this.$getSelectedRows=function(){var b=this.getSelectionRange().collapseRows();return{first:b.start.row,last:b.end.row};},this.onCompositionStart=function(b){this.renderer.showComposition(this.getCursorPosition());},this.onCompositionUpdate=function(b){this.renderer.setCompositionText(b);},this.onCompositionEnd=function(){this.renderer.hideComposition();},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow();},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow();},this.isRowVisible=function(b){return b>=this.getFirstVisibleRow()&&b<=this.getLastVisibleRow();},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1;},this.$getPageDownRow=function(){return this.renderer.getScrollBottomRow();},this.$getPageUpRow=function(){var d=this.renderer.getScrollTopRow(),c=this.renderer.getScrollBottomRow();return d-(c-d);},this.selectPageDown=function(){var f=this.$getPageDownRow()+Math.floor(this.$getVisibleRowCount()/2);this.scrollPageDown();var e=this.getSelection(),h=this.session.documentToScreenPosition(e.getSelectionLead()),g=this.session.screenToDocumentPosition(f,h.column);e.selectTo(g.row,g.column);},this.selectPageUp=function(){var g=this.renderer.getScrollTopRow()-this.renderer.getScrollBottomRow(),f=this.$getPageUpRow()+Math.round(g/2);this.scrollPageUp();var k=this.getSelection(),j=this.session.documentToScreenPosition(k.getSelectionLead()),h=this.session.screenToDocumentPosition(f,j.column);k.selectTo(h.row,h.column);},this.gotoPageDown=function(){var d=this.$getPageDownRow(),c=this.getCursorPositionScreen().column;this.scrollToRow(d),this.getSelection().moveCursorToScreen(d,c);},this.gotoPageUp=function(){var d=this.$getPageUpRow(),c=this.getCursorPositionScreen().column;this.scrollToRow(d),this.getSelection().moveCursorToScreen(d,c);},this.scrollPageDown=function(){this.scrollToRow(this.$getPageDownRow());},this.scrollPageUp=function(){this.renderer.scrollToRow(this.$getPageUpRow());},this.scrollToRow=function(b){this.renderer.scrollToRow(b);},this.scrollToLine=function(d,c){this.renderer.scrollToLine(d,c);},this.centerSelection=function(){var d=this.getSelectionRange(),c=Math.floor(d.start.row+(d.end.row-d.start.row)/2);this.renderer.scrollToLine(c,!0);},this.getCursorPosition=function(){return this.selection.getCursor();},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition());},this.getSelectionRange=function(){return this.selection.getRange();},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1;},this.clearSelection=function(){this.selection.clearSelection();},this.moveCursorTo=function(d,c){this.selection.moveCursorTo(d,c);},this.moveCursorToPosition=function(b){this.selection.moveCursorToPosition(b);},this.gotoLine=function(d,c){this.selection.clearSelection(),this.$blockScrolling+=1,this.moveCursorTo(d-1,c||0),this.$blockScrolling-=1,this.isRowVisible(this.getCursorPosition().row)||this.scrollToLine(d,!0);},this.navigateTo=function(d,c){this.clearSelection(),this.moveCursorTo(d,c);},this.navigateUp=function(b){this.selection.clearSelection(),b=b||1,this.selection.moveCursorBy(-b,0);},this.navigateDown=function(b){this.selection.clearSelection(),b=b||1,this.selection.moveCursorBy(b,0);},this.navigateLeft=function(d){if(!this.selection.isEmpty()){var c=this.getSelectionRange().start;this.moveCursorToPosition(c);}else{d=d||1;while(d--){this.selection.moveCursorLeft();}}this.clearSelection();},this.navigateRight=function(d){if(!this.selection.isEmpty()){var c=this.getSelectionRange().end;this.moveCursorToPosition(c);}else{d=d||1;while(d--){this.selection.moveCursorRight();}}this.clearSelection();},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection();},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection();},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection();},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection();},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection();},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection();},this.replace=function(e,d){d&&this.$search.set(d);var f=this.$search.find(this.session);!f||(this.$tryReplace(f,e),f!==null&&this.selection.setSelectionRange(f));},this.replaceAll=function(g,f){f&&this.$search.set(f);var k=this.$search.findAll(this.session);if(!!k.length){var j=this.getSelectionRange();this.clearSelection(),this.selection.moveCursorTo(0,0),this.$blockScrolling+=1;for(var h=k.length-1;h>=0;--h){this.$tryReplace(k[h],g);}this.selection.setSelectionRange(j),this.$blockScrolling-=1;}},this.$tryReplace=function(e,d){var f=this.session.getTextRange(e),d=this.$search.replace(f,d);if(d!==null){e.end=this.session.replace(e,d);return e;}return null;},this.getLastSearchOptions=function(){return this.$search.getOptions();},this.find=function(d,c){this.clearSelection(),c=c||{},c.needle=d,this.$search.set(c),this.$find();},this.findNext=function(b){b=b||{},typeof b.backwards=="undefined"&&(b.backwards=!1),this.$search.set(b),this.$find();},this.findPrevious=function(b){b=b||{},typeof b.backwards=="undefined"&&(b.backwards=!0),this.$search.set(b),this.$find();},this.$find=function(d){this.selection.isEmpty()||this.$search.set({needle:this.session.getTextRange(this.getSelectionRange())}),typeof d!="undefined"&&this.$search.set({backwards:d});var c=this.$search.find(this.session);c&&(this.gotoLine(c.end.row+1,c.end.column),this.selection.setSelectionRange(c));},this.undo=function(){this.session.getUndoManager().undo();},this.redo=function(){this.session.getUndoManager().redo();},this.destroy=function(){this.renderer.destroy();};}).call(p.prototype),C.Editor=p;}),define("ace/keyboard/textinput",["require","exports","module","pilot/event","pilot/useragent","pilot/dom"],function(j,h,p){var o=j("pilot/event"),n=j("pilot/useragent"),m=j("pilot/dom"),k=function(J,I){function d(){return document.activeElement===H;}function B(b){if(!E){var c=b||H.value;if(c){c.charCodeAt(c.length-1)==G.charCodeAt(0)?(c=c.slice(0,-1),c&&I.onTextInput(c,!D)):I.onTextInput(c,!D);if(!d()){return !1;}}}E=!1,D=!1,H.value=G,H.select();}var H=m.createElement("textarea");H.style.left="-10000px",J.appendChild(H);var G=String.fromCharCode(0);B();var F=!1,E=!1,D=!1,C="",A=function(b){setTimeout(function(){F||B(b.data);},0);},z=function(b){n.isIE&&H.value.charCodeAt(0)>128||setTimeout(function(){F||B();},0);},y=function(b){F=!0,I.onCompositionStart(),n.isGecko||setTimeout(x,0);},x=function(){!F||I.onCompositionUpdate(H.value);},w=function(b){F=!1,I.onCompositionEnd();},v=function(b){E=!0;var c=I.getCopyText();c?H.value=c:b.preventDefault(),H.select(),setTimeout(function(){B();},0);},f=function(b){E=!0;var c=I.getCopyText();c?(H.value=c,I.onCut()):b.preventDefault(),H.select(),setTimeout(function(){B();},0);};o.addCommandKeyListener(H,I.onCommandKey.bind(I));if(n.isIE){var e={13:1,27:1};o.addListener(H,"keyup",function(b){F&&(!H.value||e[b.keyCode])&&setTimeout(w,0);(H.value.charCodeAt(0)|0)<129||(F?x():y());});}H.attachEvent?o.addListener(H,"propertychange",z):n.isChrome||n.isSafari?o.addListener(H,"textInput",A):n.isIE?o.addListener(H,"textinput",A):o.addListener(H,"input",A),o.addListener(H,"paste",function(b){D=!0,b.clipboardData&&b.clipboardData.getData?(B(b.clipboardData.getData("text/plain")),b.preventDefault()):z();}),n.isIE?(o.addListener(H,"beforecopy",function(b){var g=I.getCopyText();g?clipboardData.setData("Text",g):b.preventDefault();}),o.addListener(J,"keydown",function(b){if(b.ctrlKey&&b.keyCode==88){var g=I.getCopyText();g&&(clipboardData.setData("Text",g),I.onCut()),o.preventDefault(b);}})):(o.addListener(H,"copy",v),o.addListener(H,"cut",f)),o.addListener(H,"compositionstart",y),n.isGecko&&o.addListener(H,"text",x),n.isWebKit&&o.addListener(H,"keyup",x),o.addListener(H,"compositionend",w),o.addListener(H,"blur",function(){I.onBlur();}),o.addListener(H,"focus",function(){I.onFocus(),H.select();}),this.focus=function(){I.onFocus(),H.select(),H.focus();},this.blur=function(){H.blur();},this.isFocused=d,this.getElement=function(){return H;},this.onContextMenu=function(g,c){g&&(C||(C=H.style.cssText),H.style.cssText="position:fixed; z-index:1000;left:"+(g.x-2)+"px; top:"+(g.y-2)+"px;"),c&&(H.value="");},this.onContextMenuClose=function(){setTimeout(function(){C&&(H.style.cssText=C,C=""),B();},0);};};h.TextInput=k;}),define("ace/mouse_handler",["require","exports","module","pilot/event","pilot/dom","pilot/browser_focus"],function(x,w,v){var u=x("pilot/event"),t=x("pilot/dom"),s=x("pilot/browser_focus").BrowserFocus,r=0,q=1,p=2,o=250,n=5,m=function(d){this.editor=d,this.browserFocus=new s,u.addListener(d.container,"mousedown",function(a){d.focus();return u.preventDefault(a);}),u.addListener(d.container,"selectstart",function(b){return u.preventDefault(b);});var c=d.renderer.getMouseEventTarget();u.addListener(c,"mousedown",this.onMouseDown.bind(this)),u.addMultiMouseDownListener(c,0,2,500,this.onMouseDoubleClick.bind(this)),u.addMultiMouseDownListener(c,0,3,600,this.onMouseTripleClick.bind(this)),u.addMultiMouseDownListener(c,0,4,600,this.onMouseQuadClick.bind(this)),u.addMouseWheelListener(c,this.onMouseWheel.bind(this));};(function(){this.$scrollSpeed=1,this.setScrollSpeed=function(b){this.$scrollSpeed=b;},this.getScrollSpeed=function(){return this.$scrollSpeed;},this.$getEventPosition=function(f){var d=u.getDocumentX(f),h=u.getDocumentY(f),g=this.editor.renderer.screenToTextCoordinates(d,h);g.row=Math.max(0,Math.min(g.row,this.editor.session.getLength()-1));return g;},this.$distance=function(f,e,h,g){return Math.sqrt(Math.pow(h-f,2)+Math.pow(g-e,2));},this.onMouseDown=function(aa){function M(a){aa.shiftKey?W.selection.selectToPosition(a):V.$clickSelection||(W.moveCursorToPosition(a),W.selection.clearSelection(a.row,a.column)),S=q;}if(!(!this.browserFocus.isFocused()||(new Date).getTime()-this.browserFocus.lastFocus<20||!this.editor.isFocused())){var Z=u.getDocumentX(aa),Y=u.getDocumentY(aa),X=this.$getEventPosition(aa),W=this.editor,V=this,U=W.getSelectionRange(),T=U.isEmpty(),S=r,Q=!1,O=u.getButton(aa);if(O!==0){T&&W.moveCursorToPosition(X),O==2&&(W.textInput.onContextMenu({x:Z,y:Y},T),u.capture(W.container,function(){},W.textInput.onContextMenuClose));return;}var L=W.session.getFoldAt(X.row,X.column,1);if(L){W.selection.setSelectionRange(L.range);return;}Q=!W.getReadOnly()&&!T&&U.contains(X.row,X.column),Q||M(X);var K,I,k=W.getOverwrite(),h=(new Date).getTime(),g,e,d=function(b){K=u.getDocumentX(b),I=u.getDocumentY(b);},R=function(){clearInterval(j),S==r?M(X):S==p&&P(),V.$clickSelection=null,S=r;},P=function(){t.removeCssClass(W.container,"ace_dragging"),W.session.removeMarker(dragSelectionMarker),V.$clickSelection||g||(W.moveCursorToPosition(X),W.selection.clearSelection(X.row,X.column));if(!!g){if(e.contains(g.row,g.column)){g=null;return;}W.clearSelection();var b=W.moveText(e,g);if(!b){g=null;return;}W.selection.setSelectionRange(b);}},N=function(){if(K!==undefined&&I!==undefined){if(S==r){var b=V.$distance(Z,Y,K,I),y=(new Date).getTime();if(b>n){S=q;var c=W.renderer.screenToTextCoordinates(K,I);c.row=Math.max(0,Math.min(c.row,W.session.getLength()-1)),M(c);}else{if(y-h>o){S=p,e=W.getSelectionRange();var z=W.getSelectionStyle();dragSelectionMarker=W.session.addMarker(e,"ace_selection",z),W.clearSelection(),t.addCssClass(W.container,"ace_dragging");}}}S==p?H():S==q&&J();}},J=function(){var f=W.renderer.screenToTextCoordinates(K,I);f.row=Math.max(0,Math.min(f.row,W.session.getLength()-1));if(V.$clickSelection){if(V.$clickSelection.contains(f.row,f.column)){W.selection.setSelectionRange(V.$clickSelection);}else{if(V.$clickSelection.compare(f.row,f.column)==-1){var c=V.$clickSelection.end;}else{var c=V.$clickSelection.start;}W.selection.setSelectionAnchor(c.row,c.column),W.selection.selectToPosition(f);}}else{W.selection.selectToPosition(f);}W.renderer.scrollCursorIntoView();},H=function(){g=W.renderer.screenToTextCoordinates(K,I),g.row=Math.max(0,Math.min(g.row,W.session.getLength()-1)),W.moveCursorToPosition(g);};u.capture(W.container,d,R);var j=setInterval(N,20);return u.preventDefault(aa);}},this.onMouseDoubleClick=function(f){var e=this.editor,h=this.$getEventPosition(f),g=e.session.getFoldAt(h.row,h.column,1);g?e.session.expandFold(g):(e.moveCursorToPosition(h),e.selection.selectWord(),this.$clickSelection=e.getSelectionRange());},this.onMouseTripleClick=function(d){var c=this.$getEventPosition(d);this.editor.moveCursorToPosition(c),this.editor.selection.selectLine(),this.$clickSelection=this.editor.getSelectionRange();},this.onMouseQuadClick=function(b){this.editor.selectAll(),this.$clickSelection=this.editor.getSelectionRange();},this.onMouseWheel=function(d){var c=this.$scrollSpeed*2;this.editor.renderer.scrollBy(d.wheelX*c,d.wheelY*c);return u.preventDefault(d);};}).call(m.prototype),w.MouseHandler=m;}),define("pilot/browser_focus",["require","exports","module","pilot/oop","pilot/event","pilot/event_emitter"],function(j,h,p){var o=j("pilot/oop"),n=j("pilot/event"),m=j("pilot/event_emitter").EventEmitter,k=function(d){d=d||window,this.lastFocus=(new Date).getTime(),this._isFocused=!0;var c=this;n.addListener(d,"blur",function(b){c._setFocused(!1);}),n.addListener(d,"focus",function(b){c._setFocused(!0);});};(function(){o.implement(this,m),this.isFocused=function(){return this._isFocused;},this._setFocused=function(b){this._isFocused!=b&&(b&&(this.lastFocus=(new Date).getTime()),this._isFocused=b,this._emit("changeFocus"));};}).call(k.prototype),h.BrowserFocus=k;}),define("ace/keyboard/keybinding",["require","exports","module","pilot/useragent","pilot/keys","pilot/event","pilot/settings","pilot/canon","ace/commands/default_commands"],function(s,r,q){var p=s("pilot/useragent"),o=s("pilot/keys"),n=s("pilot/event"),m=s("pilot/settings").settings,k=s("pilot/canon");s("ace/commands/default_commands");var j=function(b){this.$editor=b,this.$data={},this.$keyboardHandler=null;};(function(){this.setKeyboardHandler=function(b){this.$keyboardHandler!=b&&(this.$data={},this.$keyboardHandler=b);},this.getKeyboardHandler=function(){return this.$keyboardHandler;},this.$callKeyboardHandler=function(h,f,x,w){var v={editor:this.$editor},u;this.$keyboardHandler&&(u=this.$keyboardHandler.handleKeyboard(this.$data,f,x,w,h));if(!u||!u.command){f!=0||w!=0?u={command:k.findKeyCommand(v,"editor",f,x)}:u={command:"inserttext",args:{text:x}};}var t=!1;u&&(t=k.exec(u.command,v,"editor",u.args),t&&n.stopEvent(h));return t;},this.onCommandKey=function(f,e,h,g){g||(g=o.keyCodeToString(h));return this.$callKeyboardHandler(f,e,g,h);},this.onTextInput=function(b){return this.$callKeyboardHandler({},0,b,0);};}).call(j.prototype),r.KeyBinding=j;}),define("ace/commands/default_commands",["require","exports","module","pilot/lang","pilot/canon"],function(h,g,n){function j(d,c){return{win:d,mac:c,sender:"editor"};}var m=h("pilot/lang"),k=h("pilot/canon");k.addCommand({name:"null",exec:function(e,d,f){}}),k.addCommand({name:"selectall",bindKey:j("Ctrl-A","Command-A"),exec:function(e,d,f){e.editor.selectAll();}}),k.addCommand({name:"removeline",bindKey:j("Ctrl-D","Command-D"),exec:function(e,d,f){e.editor.removeLines();}}),k.addCommand({name:"gotoline",bindKey:j("Ctrl-L","Command-L"),exec:function(f,e,p){var o=parseInt(prompt("Enter line number:"));isNaN(o)||f.editor.gotoLine(o);}}),k.addCommand({name:"togglecomment",bindKey:j("Ctrl-7","Command-7"),exec:function(e,d,f){e.editor.toggleCommentLines();}}),k.addCommand({name:"findnext",bindKey:j("Ctrl-K","Command-G"),exec:function(e,d,f){e.editor.findNext();}}),k.addCommand({name:"findprevious",bindKey:j("Ctrl-Shift-K","Command-Shift-G"),exec:function(e,d,f){e.editor.findPrevious();}}),k.addCommand({name:"find",bindKey:j("Ctrl-F","Command-F"),exec:function(f,e,p){var o=prompt("Find:");f.editor.find(o);}}),k.addCommand({name:"replace",bindKey:j("Ctrl-R","Command-Option-F"),exec:function(o,f,r){var q=prompt("Find:");if(!!q){var p=prompt("Replacement:");if(!p){return;}o.editor.replace(p,{needle:q});}}}),k.addCommand({name:"replaceall",bindKey:j("Ctrl-Shift-R","Command-Shift-Option-F"),exec:function(o,f,r){var q=prompt("Find:");if(!!q){var p=prompt("Replacement:");if(!p){return;}o.editor.replaceAll(p,{needle:q});}}}),k.addCommand({name:"undo",bindKey:j("Ctrl-Z","Command-Z"),exec:function(e,d,f){e.editor.undo();}}),k.addCommand({name:"redo",bindKey:j("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e,d,f){e.editor.redo();}}),k.addCommand({name:"overwrite",bindKey:j("Insert","Insert"),exec:function(e,d,f){e.editor.toggleOverwrite();}}),k.addCommand({name:"copylinesup",bindKey:j("Ctrl-Alt-Up","Command-Option-Up"),exec:function(e,d,f){e.editor.copyLinesUp();}}),k.addCommand({name:"movelinesup",bindKey:j("Alt-Up","Option-Up"),exec:function(e,d,f){e.editor.moveLinesUp();}}),k.addCommand({name:"selecttostart",bindKey:j("Ctrl-Shift-Home|Alt-Shift-Up","Command-Shift-Up"),exec:function(e,d,f){e.editor.getSelection().selectFileStart();}}),k.addCommand({name:"gotostart",bindKey:j("Ctrl-Home|Ctrl-Up","Command-Home|Command-Up"),exec:function(e,d,f){e.editor.navigateFileStart();}}),k.addCommand({name:"selectup",bindKey:j("Shift-Up","Shift-Up"),exec:function(e,d,f){e.editor.getSelection().selectUp();}}),k.addCommand({name:"golineup",bindKey:j("Up","Up|Ctrl-P"),exec:function(e,d,f){e.editor.navigateUp(d.times);}}),k.addCommand({name:"copylinesdown",bindKey:j("Ctrl-Alt-Down","Command-Option-Down"),exec:function(e,d,f){e.editor.copyLinesDown();}}),k.addCommand({name:"movelinesdown",bindKey:j("Alt-Down","Option-Down"),exec:function(e,d,f){e.editor.moveLinesDown();}}),k.addCommand({name:"selecttoend",bindKey:j("Ctrl-Shift-End|Alt-Shift-Down","Command-Shift-Down"),exec:function(e,d,f){e.editor.getSelection().selectFileEnd();}}),k.addCommand({name:"gotoend",bindKey:j("Ctrl-End|Ctrl-Down","Command-End|Command-Down"),exec:function(e,d,f){e.editor.navigateFileEnd();}}),k.addCommand({name:"selectdown",bindKey:j("Shift-Down","Shift-Down"),exec:function(e,d,f){e.editor.getSelection().selectDown();}}),k.addCommand({name:"golinedown",bindKey:j("Down","Down|Ctrl-N"),exec:function(e,d,f){e.editor.navigateDown(d.times);}}),k.addCommand({name:"selectwordleft",bindKey:j("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e,d,f){e.editor.getSelection().selectWordLeft();}}),k.addCommand({name:"gotowordleft",bindKey:j("Ctrl-Left","Option-Left"),exec:function(e,d,f){e.editor.navigateWordLeft();}}),k.addCommand({name:"selecttolinestart",bindKey:j("Alt-Shift-Left","Command-Shift-Left"),exec:function(e,d,f){e.editor.getSelection().selectLineStart();}}),k.addCommand({name:"gotolinestart",bindKey:j("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e,d,f){e.editor.navigateLineStart();}}),k.addCommand({name:"selectleft",bindKey:j("Shift-Left","Shift-Left"),exec:function(e,d,f){e.editor.getSelection().selectLeft();}}),k.addCommand({name:"gotoleft",bindKey:j("Left","Left|Ctrl-B"),exec:function(e,d,f){e.editor.navigateLeft(d.times);}}),k.addCommand({name:"selectwordright",bindKey:j("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e,d,f){e.editor.getSelection().selectWordRight();}}),k.addCommand({name:"gotowordright",bindKey:j("Ctrl-Right","Option-Right"),exec:function(e,d,f){e.editor.navigateWordRight();}}),k.addCommand({name:"selecttolineend",bindKey:j("Alt-Shift-Right","Command-Shift-Right"),exec:function(e,d,f){e.editor.getSelection().selectLineEnd();}}),k.addCommand({name:"gotolineend",bindKey:j("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e,d,f){e.editor.navigateLineEnd();}}),k.addCommand({name:"selectright",bindKey:j("Shift-Right","Shift-Right"),exec:function(e,d,f){e.editor.getSelection().selectRight();}}),k.addCommand({name:"gotoright",bindKey:j("Right","Right|Ctrl-F"),exec:function(e,d,f){e.editor.navigateRight(d.times);}}),k.addCommand({name:"selectpagedown",bindKey:j("Shift-PageDown","Shift-PageDown"),exec:function(e,d,f){e.editor.selectPageDown();}}),k.addCommand({name:"pagedown",bindKey:j(null,"PageDown"),exec:function(e,d,f){e.editor.scrollPageDown();}}),k.addCommand({name:"gotopagedown",bindKey:j("PageDown","Option-PageDown|Ctrl-V"),exec:function(e,d,f){e.editor.gotoPageDown();}}),k.addCommand({name:"selectpageup",bindKey:j("Shift-PageUp","Shift-PageUp"),exec:function(e,d,f){e.editor.selectPageUp();}}),k.addCommand({name:"pageup",bindKey:j(null,"PageUp"),exec:function(e,d,f){e.editor.scrollPageUp();}}),k.addCommand({name:"gotopageup",bindKey:j("PageUp","Option-PageUp"),exec:function(e,d,f){e.editor.gotoPageUp();}}),k.addCommand({name:"selectlinestart",bindKey:j("Shift-Home","Shift-Home"),exec:function(e,d,f){e.editor.getSelection().selectLineStart();}}),k.addCommand({name:"selectlineend",bindKey:j("Shift-End","Shift-End"),exec:function(e,d,f){e.editor.getSelection().selectLineEnd();}}),k.addCommand({name:"del",bindKey:j("Delete","Delete|Ctrl-D"),exec:function(e,d,f){e.editor.removeRight();}}),k.addCommand({name:"backspace",bindKey:j("Ctrl-Backspace|Command-Backspace|Option-Backspace|Shift-Backspace|Backspace","Ctrl-Backspace|Command-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e,d,f){e.editor.removeLeft();}}),k.addCommand({name:"removetolinestart",bindKey:j(null,"Option-Backspace"),exec:function(e,d,f){e.editor.removeToLineStart();}}),k.addCommand({name:"removetolineend",bindKey:j(null,"Ctrl-K"),exec:function(e,d,f){e.editor.removeToLineEnd();}}),k.addCommand({name:"removewordleft",bindKey:j("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e,d,f){e.editor.removeWordLeft();}}),k.addCommand({name:"removewordright",bindKey:j(null,"Alt-Delete"),exec:function(e,d,f){e.editor.removeWordRight();}}),k.addCommand({name:"outdent",bindKey:j("Shift-Tab","Shift-Tab"),exec:function(e,d,f){e.editor.blockOutdent();}}),k.addCommand({name:"indent",bindKey:j("Tab","Tab"),exec:function(e,d,f){e.editor.indent();}}),k.addCommand({name:"inserttext",exec:function(e,d,f){e.editor.insert(m.stringRepeat(d.text||"",d.times||1));}}),k.addCommand({name:"centerselection",bindKey:j(null,"Ctrl-L"),exec:function(e,d,f){e.editor.centerSelection();}}),k.addCommand({name:"splitline",bindKey:j(null,"Ctrl-O"),exec:function(e,d,f){e.editor.splitLine();}}),k.addCommand({name:"transposeletters",bindKey:j("Ctrl-T","Ctrl-T"),exec:function(e,d,f){e.editor.transposeLetters();}});}),define("ace/edit_session",["require","exports","module","pilot/oop","pilot/lang","pilot/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/edit_session/folding"],function(y,x,w){var v=y("pilot/oop"),u=y("pilot/lang"),t=y("pilot/event_emitter").EventEmitter,s=y("ace/selection").Selection,r=y("ace/mode/text").Mode,q=y("ace/range").Range,p=y("ace/document").Document,o=y("ace/background_tokenizer").BackgroundTokenizer,n=function(d,c){this.$modified=!0,this.$breakpoints=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$rowCache=[],this.$wrapData=[],this.$foldData=[],this.$foldData.toString=function(){var b="";this.forEach(function(a){b+="\n"+a.toString();});return b;},d instanceof p?this.setDocument(d):this.setDocument(new p(d)),this.selection=new s(this),c?this.setMode(c):this.setMode(new r);};(function(){function z(b){return b<4352?!1:b>=4352&&b<=4447||b>=4515&&b<=4519||b>=4602&&b<=4607||b>=9001&&b<=9002||b>=11904&&b<=11929||b>=11931&&b<=12019||b>=12032&&b<=12245||b>=12272&&b<=12283||b>=12288&&b<=12350||b>=12353&&b<=12438||b>=12441&&b<=12543||b>=12549&&b<=12589||b>=12593&&b<=12686||b>=12688&&b<=12730||b>=12736&&b<=12771||b>=12784&&b<=12830||b>=12832&&b<=12871||b>=12880&&b<=13054||b>=13056&&b<=19903||b>=19968&&b<=42124||b>=42128&&b<=42182||b>=43360&&b<=43388||b>=44032&&b<=55203||b>=55216&&b<=55238||b>=55243&&b<=55291||b>=63744&&b<=64255||b>=65040&&b<=65049||b>=65072&&b<=65106||b>=65108&&b<=65126||b>=65128&&b<=65131||b>=65281&&b<=65376||b>=65504&&b<=65510;}v.implement(this,t),this.setDocument=function(b){if(this.doc){throw new Error("Document is already set");}this.doc=b,b.on("change",this.onChange.bind(this)),this.on("changeFold",this.onChangeFold.bind(this));},this.getDocument=function(){return this.doc;},this.$resetRowCache=function(h){if(h==0){this.$rowCache=[];}else{var g=this.$rowCache;for(var k=0;k<g.length;k++){if(g[k].docRow>=h){g.splice(k,g.length);return;}}}},this.onChangeFold=function(g){var c=g.data;this.$resetRowCache(c.start.row);},this.onChange=function(h){var g=h.data;this.$modified=!0,this.$resetRowCache(g.range.start.row);var k=this.$updateInternalDataOnChange(h);!this.$fromUndo&&this.$undoManager&&!g.ignore&&(this.$deltasDoc.push(g),k&&k.length!=0&&this.$deltasFold.push({action:"removeFolds",folds:k}),this.$informUndoManager.schedule()),this.bgTokenizer.start(g.range.start.row),this._dispatchEvent("change",h);},this.setValue=function(b){this.doc.setValue(b),this.selection.moveCursorTo(0,0),this.selection.clearSelection(),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.getUndoManager().reset();},this.getValue=this.toString=function(){return this.doc.getValue();},this.getSelection=function(){return this.selection;},this.getState=function(b){return this.bgTokenizer.getState(b);},this.getTokens=function(g,c){return this.bgTokenizer.getTokens(g,c);},this.setUndoManager=function(g){this.$undoManager=g,this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel();if(g){var c=this;this.$syncInformUndoManager=function(){c.$informUndoManager.cancel(),c.$deltasFold.length&&(c.$deltas.push({group:"fold",deltas:c.$deltasFold}),c.$deltasFold=[]),c.$deltasDoc.length&&(c.$deltas.push({group:"doc",deltas:c.$deltasDoc}),c.$deltasDoc=[]),c.$deltas.length>0&&g.execute({action:"aceupdate",args:[c.$deltas,c]}),c.$deltas=[];},this.$informUndoManager=u.deferredCall(this.$syncInformUndoManager);}},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager;},this.getTabString=function(){return this.getUseSoftTabs()?u.stringRepeat(" ",this.getTabSize()):"\t";},this.$useSoftTabs=!0,this.setUseSoftTabs=function(b){this.$useSoftTabs!==b&&(this.$useSoftTabs=b);},this.getUseSoftTabs=function(){return this.$useSoftTabs;},this.$tabSize=4,this.setTabSize=function(b){!isNaN(b)&&this.$tabSize!==b&&(this.$modified=!0,this.$tabSize=b,this._dispatchEvent("changeTabSize"));},this.getTabSize=function(){return this.$tabSize;},this.isTabStop=function(b){return this.$useSoftTabs&&b.column%this.$tabSize==0;},this.$overwrite=!1,this.setOverwrite=function(b){this.$overwrite!=b&&(this.$overwrite=b,this._dispatchEvent("changeOverwrite"));},this.getOverwrite=function(){return this.$overwrite;},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite);},this.getBreakpoints=function(){return this.$breakpoints;},this.setBreakpoints=function(g){this.$breakpoints=[];for(var c=0;c<g.length;c++){this.$breakpoints[g[c]]=!0;}this._dispatchEvent("changeBreakpoint",{});},this.clearBreakpoints=function(){this.$breakpoints=[],this._dispatchEvent("changeBreakpoint",{});},this.setBreakpoint=function(b){this.$breakpoints[b]=!0,this._dispatchEvent("changeBreakpoint",{});},this.clearBreakpoint=function(b){delete this.$breakpoints[b],this._dispatchEvent("changeBreakpoint",{});},this.getBreakpoints=function(){return this.$breakpoints;},this.addMarker=function(h,g,D,C){var m=this.$markerId++,k={range:h,type:D||"line",renderer:typeof D=="function"?D:null,clazz:g,inFront:!!C};C?(this.$frontMarkers[m]=k,this._dispatchEvent("changeFrontMarker")):(this.$backMarkers[m]=k,this._dispatchEvent("changeBackMarker"));return m;},this.removeMarker=function(h){var g=this.$frontMarkers[h]||this.$backMarkers[h];if(!!g){var k=g.inFront?this.$frontMarkers:this.$backMarkers;g&&(delete k[h],this._dispatchEvent(g.inFront?"changeFrontMarker":"changeBackMarker"));}},this.getMarkers=function(b){return b?this.$frontMarkers:this.$backMarkers;},this.setAnnotations=function(h){this.$annotations={};for(var g=0;g<h.length;g++){var m=h[g],k=m.row;this.$annotations[k]?this.$annotations[k].push(m):this.$annotations[k]=[m];}this._dispatchEvent("changeAnnotation",{});},this.getAnnotations=function(){return this.$annotations;},this.clearAnnotations=function(){this.$annotations={},this._dispatchEvent("changeAnnotation",{});},this.$detectNewLine=function(g){var c=g.match(/^.*?(\r?\n)/m);c?this.$autoNewLine=c[1]:this.$autoNewLine="\n";},this.getWordRange=function(k,h){var F=this.getLine(k),E=!1;h>0&&(E=!!F.charAt(h-1).match(this.tokenRe)),E||(E=!!F.charAt(h).match(this.tokenRe));var D=E?this.tokenRe:this.nonTokenRe,C=h;if(C>0){do{C--;}while(C>=0&&F.charAt(C).match(D));C++;}var m=h;while(m<F.length&&F.charAt(m).match(D)){m++;}return new q(k,C,k,m);},this.setNewLineMode=function(b){this.doc.setNewLineMode(b);},this.getNewLineMode=function(){return this.doc.getNewLineMode();},this.$useWorker=!0,this.setUseWorker=function(b){this.$useWorker!=b&&(this.$useWorker=b,this.$stopWorker(),b&&this.$startWorker());},this.getUseWorker=function(){return this.$useWorker;},this.onReloadTokenizer=function(g){var c=g.data;this.bgTokenizer.start(c.first),this._dispatchEvent("tokenizerUpdate",g);},this.$mode=null,this.setMode=function(h){if(this.$mode!==h){this.$mode=h,this.$stopWorker(),this.$useWorker&&this.$startWorker();var g=h.getTokenizer();if(g.addEventListener!==undefined){var m=this.onReloadTokenizer.bind(this);g.addEventListener("update",m);}if(!this.bgTokenizer){this.bgTokenizer=new o(g);var k=this;this.bgTokenizer.addEventListener("update",function(b){k._dispatchEvent("tokenizerUpdate",b);});}else{this.bgTokenizer.setTokenizer(g);}this.bgTokenizer.setDocument(this.getDocument()),this.bgTokenizer.start(0),this.tokenRe=h.tokenRe,this.nonTokenRe=h.nonTokenRe,this._dispatchEvent("changeMode");}},this.$stopWorker=function(){this.$worker&&this.$worker.terminate(),this.$worker=null;},this.$startWorker=function(){if(typeof Worker!="undefined"&&!y.noWorker){try{this.$worker=this.$mode.createWorker(this);}catch(c){console.log("Could not load worker"),console.log(c),this.$worker=null;}}else{this.$worker=null;}},this.getMode=function(){return this.$mode;},this.$scrollTop=0,this.setScrollTopRow=function(b){this.$scrollTop!==b&&(this.$scrollTop=b,this._dispatchEvent("changeScrollTop"));},this.getScrollTopRow=function(){return this.$scrollTop;},this.getWidth=function(){this.$computeWidth();return this.width;},this.getScreenWidth=function(){this.$computeWidth();return this.screenWidth;},this.$computeWidth=function(I){if(this.$modified||I){this.$modified=!1;var H=this.doc.getAllLines(),G=0,F=0;for(var E=0;E<H.length;E++){var D=this.getFoldLine(E),C,m;C=H[E];if(D){var k=D.range.end;C=this.getFoldDisplayLine(D),E=k.row;}m=C.length,G=Math.max(G,m),this.$useWrapMode||(F=Math.max(F,this.$getStringScreenWidth(C)[0]));}this.width=G,this.$useWrapMode?this.screenWidth=this.$wrapLimit:this.screenWidth=F;}},this.getLine=function(b){return this.doc.getLine(b);},this.getLines=function(g,c){return this.doc.getLines(g,c);},this.getLength=function(){return this.doc.getLength();},this.getTextRange=function(b){return this.doc.getTextRange(b);},this.findMatchingBracket=function(h){if(h.column==0){return null;}var g=this.getLine(h.row).charAt(h.column-1);if(g==""){return null;}var k=g.match(/([\(\[\{])|([\)\]\}])/);return k?k[1]?this.$findClosingBracket(k[1],h):this.$findOpeningBracket(k[2],h):null;},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(m,k){var H=this.$brackets[m],G=k.column-2,F=k.row,E=1,D=this.getLine(F);for(;;){while(G>=0){var C=D.charAt(G);if(C==H){E-=1;if(E==0){return{row:F,column:G};}}else{C==m&&(E+=1);}G-=1;}F-=1;if(F<0){break;}var D=this.getLine(F),G=D.length-1;}return null;},this.$findClosingBracket=function(I,H){var G=this.$brackets[I],F=H.column,E=H.row,D=1,C=this.getLine(E),m=this.getLength();for(;;){while(F<C.length){var k=C.charAt(F);if(k==G){D-=1;if(D==0){return{row:E,column:F};}}else{k==I&&(D+=1);}F+=1;}E+=1;if(E>=m){break;}var C=this.getLine(E),F=0;}return null;},this.insert=function(g,c){return this.doc.insert(g,c);},this.remove=function(b){return this.doc.remove(b);},this.undoChanges=function(h,g){if(!!h.length){this.$fromUndo=!0;var m=null;for(var k=h.length-1;k!=-1;k--){delta=h[k],delta.group=="doc"?(this.doc.revertDeltas(delta.deltas),m=this.$getUndoSelection(delta.deltas,!0,m)):delta.deltas.forEach(function(b){this.addFolds(b.folds);},this);}this.$fromUndo=!1,m&&!g&&this.selection.setSelectionRange(m);return m;}},this.redoChanges=function(h,g){if(!!h.length){this.$fromUndo=!0;var m=null;for(var k=0;k<h.length;k++){delta=h[k],delta.group=="doc"&&(this.doc.applyDeltas(delta.deltas),m=this.$getUndoSelection(delta.deltas,!1,m));}this.$fromUndo=!1,m&&!g&&this.selection.setSelectionRange(m);return m;}},this.$getUndoSelection=function(K,J,I){function H(b){var g=b.action=="insertText"||b.action=="insertLines";return J?!g:g;}var G=K[0],F,E,D=!1;H(G)?(F=G.range.clone(),D=!0):(F=q.fromPoints(G.range.start,G.range.start),D=!1);for(var C=1;C<K.length;C++){G=K[C],H(G)?(E=G.range.start,F.compare(E.row,E.column)==-1&&F.setStart(G.range.start),E=G.range.end,F.compare(E.row,E.column)==1&&F.setEnd(G.range.end),D=!0):(E=G.range.start,F.compare(E.row,E.column)==-1&&(F=q.fromPoints(G.range.start,G.range.start)),D=!1);}if(I!=null){var m=I.compareRange(F);m==1?F.setStart(I.start):m==-1&&F.setEnd(I.end);}return F;},this.replace=function(g,c){return this.doc.replace(g,c);},this.moveText=function(I,H){var G=this.getTextRange(I);this.remove(I);var F=H.row,E=H.column;!I.isMultiLine()&&I.start.row==F&&I.end.column<E&&(E-=G.length);if(I.isMultiLine()&&I.end.row<F){var D=this.doc.$split(G);F-=D.length-1;}var C=F+I.end.row-I.start.row,m=I.isMultiLine()?I.end.column:E+I.end.column-I.start.column,k=new q(F,E,C,m);this.insert(k.start,G);return k;},this.indentRows=function(h,g,m){m=m.replace(/\t/g,this.getTabString());for(var k=h;k<=g;k++){this.insert({row:k,column:0},m);}},this.outdentRows=function(k){var h=k.collapseRows(),F=new q(0,0,0,0),E=this.getTabSize();for(var D=h.start.row;D<=h.end.row;++D){var C=this.getLine(D);F.start.row=D,F.end.row=D;for(var m=0;m<E;++m){if(C.charAt(m)!=" "){break;}}m<E&&C.charAt(m)=="\t"?(F.start.column=m,F.end.column=m+1):(F.start.column=0,F.end.column=m),this.remove(F);}},this.moveLinesUp=function(h,g){if(h<=0){return 0;}var k=this.doc.removeLines(h,g);this.doc.insertLines(h-1,k);return -1;},this.moveLinesDown=function(h,g){if(g>=this.doc.getLength()-1){return 0;}var k=this.doc.removeLines(h,g);this.doc.insertLines(h+1,k);return 1;},this.duplicateLines=function(h,g){var h=this.$clipRowToDocument(h),g=this.$clipRowToDocument(g),m=this.getLines(h,g);this.doc.insertLines(h,m);var k=g-h+1;return k;},this.$clipRowToDocument=function(b){return Math.max(0,Math.min(b,this.doc.getLength()-1));},this.$clipPositionToDocument=function(h,g){g=Math.max(0,g);if(h<0){h=0,g=0;}else{var k=this.doc.getLength();h>=k?(h=k-1,g=this.doc.getLine(k-1).length):g=Math.min(this.doc.getLine(h).length,g);}return{row:h,column:g};},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(g){if(g!=this.$useWrapMode){this.$useWrapMode=g,this.$modified=!0,this.$resetRowCache(0);if(g){var c=this.getLength();this.$wrapData=[];for(i=0;i<c;i++){this.$wrapData.push([]);}this.$updateWrapData(0,c-1);}this._dispatchEvent("changeWrapMode");}},this.getUseWrapMode=function(){return this.$useWrapMode;},this.setWrapLimitRange=function(g,c){if(this.$wrapLimitRange.min!==g||this.$wrapLimitRange.max!==c){this.$wrapLimitRange.min=g,this.$wrapLimitRange.max=c,this.$modified=!0,this._dispatchEvent("changeWrapMode");}},this.adjustWrapLimit=function(g){var c=this.$constrainWrapLimit(g);if(c!=this.$wrapLimit&&c>0){this.$wrapLimit=c,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._dispatchEvent("changeWrapLimit"));return !0;}return !1;},this.$constrainWrapLimit=function(h){var g=this.$wrapLimitRange.min;g&&(h=Math.max(g,h));var k=this.$wrapLimitRange.max;k&&(h=Math.min(k,h));return Math.max(1,h);},this.getWrapLimit=function(){return this.$wrapLimit;},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max};},this.$updateInternalDataOnChange=function(S){var R=this.$useWrapMode,Q,P=S.data.action,O=S.data.range.start.row,N=S.data.range.end.row,M=S.data.range.start,L=S.data.range.end,K=null;P.indexOf("Lines")!=-1?(P=="insertLines"?N=O+S.data.lines.length:N=O,Q=S.data.lines.length):Q=N-O;if(Q!=0){if(P.indexOf("remove")!=-1){R&&this.$wrapData.splice(O,Q);var J=this.$foldData;K=this.getFoldsInRange(S.data.range),this.removeFolds(K);var I=this.getFoldLine(L.row),H=0;if(I){I.addRemoveChars(L.row,L.column,M.column-L.column),I.shiftRow(-Q);var G=this.getFoldLine(O);G&&G!==I&&(G.merge(I),I=G),H=J.indexOf(I)+1;}for(H;H<J.length;H++){var I=J[H];I.start.row>=L.row&&I.shiftRow(-Q);}N=O;}else{var F;if(R){F=[O,0];for(var E=0;E<Q;E++){F.push([]);}this.$wrapData.splice.apply(this.$wrapData,F);}var J=this.$foldData,I=this.getFoldLine(O),H=0;if(I){var D=I.range.compareInside(M.row,M.column);D==0?(I=I.split(M.row,M.column),I.shiftRow(Q),I.addRemoveChars(N,0,L.column-M.column)):D==-1&&(I.addRemoveChars(O,0,L.column-M.column),I.shiftRow(Q)),H=J.indexOf(I)+1;}for(H;H<J.length;H++){var I=J[H];I.start.row>=O&&I.shiftRow(Q);}}}else{var C;Q=Math.abs(S.data.range.start.column-S.data.range.end.column),P.indexOf("remove")!=-1&&(K=this.getFoldsInRange(S.data.range),this.removeFolds(K),Q=-Q);var I=this.getFoldLine(O);I&&I.addRemoveChars(O,M.column,Q);}R&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),R&&this.$updateWrapData(O,N);return K;},this.$updateWrapData=function(H,G){var F=this.doc.getAllLines(),E=this.getTabSize(),D=this.$wrapData,C=this.$wrapLimit,k,h,g=H;G=Math.min(G,F.length-1);while(g<=G){h=this.getFoldLine(g);if(!h){k=this.$getDisplayTokens(u.stringTrimRight(F[g]));}else{k=[],h.walk(function(m,c,L,K){var J;if(m){J=this.$getDisplayTokens(m,k.length),J[0]=j;for(var I=1;I<J.length;I++){J[I]=f;}}else{J=this.$getDisplayTokens(F[c].substring(K,L),k.length);}k=k.concat(J);}.bind(this),h.end.row,F[h.end.row].length+1);while(k.length!=0&&k[k.length-1]>=e){k.pop();}}D[g]=this.$computeWrapSplits(k,C,E),g=this.getRowFoldEnd(g)+1;}};var d=1,B=2,j=3,f=4,e=10,a=11,A=12;this.$computeWrapSplits=function(G,F,E){function h(H){var J=G.slice(m,H),I=J.length;J.join("").replace(/12/g,function(b){I-=1;}).replace(/2/g,function(b){I-=1;}),k+=I,D.push(k),m=H;}if(G.length==0){return[];}var E=this.getTabSize(),D=[],C=G.length,m=0,k=0;while(C-m>F){var g=m+F;if(G[g]>=e){while(G[g]>=e){g++;}h(g);continue;}if(G[g]==j||G[g]==f){for(g;g!=m-1;g--){if(G[g]==j){break;}}if(g>m){h(g);continue;}g=m+F;for(g;g<G.length;g++){if(G[g]!=f){break;}}if(g==G.length){break;}h(g);continue;}for(g;g!=m-1;g--){if(G[g]>=j){g++;break;}}if(g>m){h(g);continue;}g=m+F,h(m+F);}return D;},this.$getDisplayTokens=function(b,E){var D=[],C;E=E||0;for(var m=0;m<b.length;m++){var k=b.charCodeAt(m);if(k==9){C=this.getScreenTabSize(D.length+E),D.push(a);for(var c=1;c<C;c++){D.push(A);}}else{k==32?D.push(e):z(k)?D.push(d,B):D.push(d);}}return D;},this.$getStringScreenWidth=function(h,g,C){if(g==0){return[0,0];}g==null&&(g=C+h.length*Math.max(this.getTabSize(),2)),C=C||0;var m,k;for(k=0;k<h.length;k++){m=h.charCodeAt(k),m==9?C+=this.getScreenTabSize(C):z(m)?C+=2:C+=1;if(C>g){break;}}return[C,k];},this.getRowLength=function(b){return !this.$useWrapMode||!this.$wrapData[b]?1:this.$wrapData[b].length+1;},this.getRowHeight=function(g,c){return this.getRowLength(c)*g.lineHeight;},this.getScreenLastRowColumn=function(b){return this.documentToScreenColumn(b,this.doc.getLine(b).length);},this.getDocumentLastRowColumn=function(h,g){var k=this.documentToScreenRow(h,g);return this.getScreenLastRowColumn(k);},this.getDocumentLastRowColumnPosition=function(h,g){var k=this.documentToScreenRow(h,g);return this.screenToDocumentPosition(k,Number.MAX_VALUE/10);},this.getRowSplitData=function(b){return this.$useWrapMode?this.$wrapData[b]:undefined;},this.getScreenTabSize=function(b){return this.$tabSize-b%this.$tabSize;},this.screenToDocumentRow=function(g,c){return this.screenToDocumentPosition(g,c).row;},this.screenToDocumentColumn=function(g,c){return this.screenToDocumentPosition(g,c).column;},this.screenToDocumentPosition=function(R,Q){if(R<0){return{row:0,column:0};}var P,O=0,N=0,M,L,K=0,J=0,I=this.$rowCache;for(var H=0;H<I.length;H++){if(I[H].screenRow<R){K=I[H].screenRow,O=I[H].docRow;}else{break;}}var G=!I.length||H==I.length,F=this.getLength()-1,E=this.getNextFold(O),D=E?E.start.row:Infinity;while(K<=R){J=this.getRowLength(O);if(K+J-1>=R||O>=F){break;}K+=J,O++,O>D&&(O=E.end.row+1,E=this.getNextFold(O),D=E?E.start.row:Infinity),G&&I.push({docRow:O,screenRow:K});}E&&E.start.row<=O?P=this.getFoldDisplayLine(E):(P=this.getLine(O),E=null);var C=[];this.$useWrapMode&&(C=this.$wrapData[O],C&&(M=C[R-K],R>K&&C.length&&(N=C[R-K-1]||C[C.length-1],P=P.substring(N)))),N+=this.$getStringScreenWidth(P,Q)[1],K+C.length<R&&(N=Number.MAX_VALUE),this.$useWrapMode?N>=M&&(N=M-1):N=Math.min(N,P.length);return E?E.idxToPosition(N):{row:O,column:N};},this.documentToScreenPosition=function(U,T){if(typeof T=="undefined"){var S=this.$clipPositionToDocument(U.row,U.column);}else{S=this.$clipPositionToDocument(U,T);}U=S.row,T=S.column;var R=this.$rowCache.length,Q;if(this.$useWrapMode){Q=this.$wrapData;if(U>Q.length-1){return{row:this.getScreenLength(),column:Q.length==0?0:Q[Q.length-1].length-1};}}var P=0,O=0,N=null,M=null;M=this.getFoldAt(U,T,1),M&&(U=M.start.row,T=M.start.column);var L,K=0,J=this.$rowCache;for(var I=0;I<J.length;I++){if(J[I].docRow<U){P=J[I].screenRow,K=J[I].docRow;}else{break;}}var H=!J.length||I==J.length,G=this.getNextFold(K),F=G?G.start.row:Infinity;while(K<U){if(K>=F){L=G.end.row+1;if(L>U){break;}G=this.getNextFold(L),F=G?G.start.row:Infinity;}else{L=K+1;}P+=this.getRowLength(K),K=L,H&&J.push({docRow:K,screenRow:P});}var E="";G&&K>=F?(E=this.getFoldDisplayLine(G,U,T),N=G.start.row):(E=this.getLine(U).substring(0,T),N=U);if(this.$useWrapMode){var D=Q[N],C=0;while(E.length>=D[C]){P++,C++;}E=E.substring(D[C-1]||0,E.length);}return{row:P,column:this.$getStringScreenWidth(E)[0]};},this.documentToScreenColumn=function(g,c){return this.documentToScreenPosition(g,c).column;},this.documentToScreenRow=function(g,c){return this.documentToScreenPosition(g,c).row;},this.getScreenLength=function(){var h=0,g=null,D=null;if(!this.$useWrapMode){h=this.getLength();var C=this.$foldData;for(var m=0;m<C.length;m++){D=C[m],h-=D.end.row-D.start.row;}}else{for(var k=0;k<this.$wrapData.length;k++){(D=this.getFoldLine(k,g))?(k=D.end.row,h+=1):h+=this.$wrapData[k].length+1;}}return h;};}).call(n.prototype),y("ace/edit_session/folding").Folding.call(n.prototype),x.EditSession=n;}),define("ace/selection",["require","exports","module","pilot/oop","pilot/lang","pilot/event_emitter","ace/range"],function(k,j,r){var q=k("pilot/oop"),p=k("pilot/lang"),o=k("pilot/event_emitter").EventEmitter,n=k("ace/range").Range,m=function(d){this.session=d,this.doc=d.getDocument(),this.clearSelection(),this.selectionLead=this.doc.createAnchor(0,0),this.selectionAnchor=this.doc.createAnchor(0,0);var c=this;this.selectionLead.on("change",function(b){c._dispatchEvent("changeCursor"),c.$isEmpty||c._dispatchEvent("changeSelection"),!c.$preventUpdateDesiredColumnOnChange&&b.old.column!=b.value.column&&c.$updateDesiredColumn();}),this.selectionAnchor.on("change",function(){c.$isEmpty||c._dispatchEvent("changeSelection");});};(function(){q.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.selectionAnchor.row==this.selectionLead.row&&this.selectionAnchor.column==this.selectionLead.column;},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine();},this.getCursor=function(){return this.selectionLead.getPosition();},this.setSelectionAnchor=function(d,c){this.selectionAnchor.setPosition(d,c),this.$isEmpty&&(this.$isEmpty=!1,this._dispatchEvent("changeSelection"));},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.selectionAnchor.getPosition();},this.getSelectionLead=function(){return this.selectionLead.getPosition();},this.shiftSelection=function(f){if(this.$isEmpty){this.moveCursorTo(this.selectionLead.row,this.selectionLead.column+f);}else{var e=this.getSelectionAnchor(),h=this.getSelectionLead(),g=this.isBackwards();(!g||e.column!==0)&&this.setSelectionAnchor(e.row,e.column+f),(g||h.column!==0)&&this.$moveSelection(function(){this.moveCursorTo(h.row,h.column+f);});}},this.isBackwards=function(){var d=this.selectionAnchor,c=this.selectionLead;return d.row>c.row||d.row==c.row&&d.column>c.column;},this.getRange=function(){var d=this.selectionAnchor,c=this.selectionLead;return this.isEmpty()?n.fromPoints(c,c):this.isBackwards()?n.fromPoints(c,d):n.fromPoints(d,c);},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._dispatchEvent("changeSelection"));},this.selectAll=function(){var b=this.doc.getLength()-1;this.setSelectionAnchor(b,this.doc.getLine(b).length),this.moveCursorTo(0,0);},this.setSelectionRange=function(d,c){c?(this.setSelectionAnchor(d.end.row,d.end.column),this.selectTo(d.start.row,d.start.column)):(this.setSelectionAnchor(d.start.row,d.start.column),this.selectTo(d.end.row,d.end.column)),this.$updateDesiredColumn();},this.$updateDesiredColumn=function(){var b=this.getCursor();this.$desiredColumn=this.session.documentToScreenColumn(b.row,b.column);},this.$moveSelection=function(d){var c=this.selectionLead;this.$isEmpty&&this.setSelectionAnchor(c.row,c.column),d.call(this);},this.selectTo=function(d,c){this.$moveSelection(function(){this.moveCursorTo(d,c);});},this.selectToPosition=function(b){this.$moveSelection(function(){this.moveCursorToPosition(b);});},this.selectUp=function(){this.$moveSelection(this.moveCursorUp);},this.selectDown=function(){this.$moveSelection(this.moveCursorDown);},this.selectRight=function(){this.$moveSelection(this.moveCursorRight);},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft);},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart);},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd);},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd);},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart);},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight);},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft);},this.selectWord=function(){var d=this.getCursor(),c=this.session.getWordRange(d.row,d.column);this.setSelectionRange(c);},this.selectLine=function(){var e=this.selectionLead.row,d,f=this.session.getFoldLine(e);f?(e=f.start.row,d=f.end.row):d=e,this.setSelectionAnchor(e,0),this.$moveSelection(function(){this.moveCursorTo(d+1,0);});},this.moveCursorUp=function(){this.moveCursorBy(-1,0);},this.moveCursorDown=function(){this.moveCursorBy(1,0);},this.moveCursorLeft=function(){var e=this.selectionLead.getPosition(),d;if(d=this.session.getFoldAt(e.row,e.column,-1)){this.moveCursorTo(d.start.row,d.start.column);}else{if(e.column==0){e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);}else{var f=this.session.getTabSize();this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column-f,e.column).split(" ").length-1==f?this.moveCursorBy(0,-f):this.moveCursorBy(0,-1);}}},this.moveCursorRight=function(){var e=this.selectionLead.getPosition(),d;if(d=this.session.getFoldAt(e.row,e.column,1)){this.moveCursorTo(d.end.row,d.end.column);}else{if(this.selectionLead.column==this.doc.getLine(this.selectionLead.row).length){this.selectionLead.row<this.doc.getLength()-1&&this.moveCursorTo(this.selectionLead.row+1,0);}else{var f=this.session.getTabSize(),e=this.selectionLead;this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column,e.column+f).split(" ").length-1==f?this.moveCursorBy(0,f):this.moveCursorBy(0,1);}}},this.moveCursorLineStart=function(){var h=this.selectionLead.row,g=this.selectionLead.column,v=this.session.documentToScreenRow(h,g),u=this.session.screenToDocumentPosition(v,0),t=this.session.getDisplayLine(h,null,u.row,u.column),s=t.match(/^\s*/);s[0].length==g?this.moveCursorTo(u.row,u.column):this.moveCursorTo(u.row,u.column+s[0].length);},this.moveCursorLineEnd=function(){var d=this.selectionLead,c=this.session.getDocumentLastRowColumnPosition(d.row,d.column);this.moveCursorTo(c.row,c.column);},this.moveCursorFileEnd=function(){var d=this.doc.getLength()-1,c=this.doc.getLine(d).length;this.moveCursorTo(d,c);},this.moveCursorFileStart=function(){this.moveCursorTo(0,0);},this.moveCursorWordRight=function(){var h=this.selectionLead.row,g=this.selectionLead.column,v=this.doc.getLine(h),u=v.substring(g),t;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s;if(s=this.session.getFoldAt(h,g,1)){this.moveCursorTo(s.end.row,s.end.column);}else{if(g==v.length){this.moveCursorRight();return;}if(t=this.session.nonTokenRe.exec(u)){g+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0;}else{if(t=this.session.tokenRe.exec(u)){g+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;}}this.moveCursorTo(h,g);}},this.moveCursorWordLeft=function(){var h=this.selectionLead.row,e=this.selectionLead.column,v;if(v=this.session.getFoldAt(h,e,-1)){this.moveCursorTo(v.start.row,v.start.column);}else{if(e==0){this.moveCursorLeft();return;}var u=this.session.getFoldStringAt(h,e,-1);u==null&&(u=this.doc.getLine(h).substring(0,e));var t=p.stringReverse(u),s;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;if(s=this.session.nonTokenRe.exec(t)){e-=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0;}else{if(s=this.session.tokenRe.exec(t)){e-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;}}this.moveCursorTo(h,e);}},this.moveCursorBy=function(g,f){var t=this.session.documentToScreenPosition(this.selectionLead.row,this.selectionLead.column),s=f==0&&this.$desiredColumn||t.column,h=this.session.screenToDocumentPosition(t.row+g,s);this.moveCursorTo(h.row,h.column+f,f==0);},this.moveCursorToPosition=function(b){this.moveCursorTo(b.row,b.column);},this.moveCursorTo=function(f,e,h){var g=this.session.getFoldAt(f,e,1);g&&(f=g.start.row,e=g.start.column),this.$preventUpdateDesiredColumnOnChange=!0,this.selectionLead.setPosition(f,e),this.$preventUpdateDesiredColumnOnChange=!1,h||this.$updateDesiredColumn(this.selectionLead.column);},this.moveCursorToScreen=function(f,e,h){var g=this.session.screenToDocumentPosition(f,e);f=g.row,e=g.column,this.moveCursorTo(f,e,h);};}).call(m.prototype),j.Selection=m;}),define("ace/range",["require","exports","module"],function(f,e,h){var g=function(k,j,n,m){this.start={row:k,column:j},this.end={row:n,column:m};};(function(){this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]";},this.contains=function(d,c){return this.compare(d,c)==0;},this.compareRange=function(k){var j,n=k.end,m=k.start;j=this.compare(n.row,n.column);if(j==1){j=this.compare(m.row,m.column);return j==1?2:j==0?1:0;}if(j==-1){return -2;}j=this.compare(m.row,m.column);return j==-1?-1:j==1?42:0;},this.containsRange=function(d){var c=this.compareRange(d);return c==-1||c==0||c==1;},this.isEnd=function(d,c){return this.end.row==d&&this.end.column==c;},this.isStart=function(d,c){return this.start.row==d&&this.start.column==c;},this.setStart=function(d,c){typeof d=="object"?(this.start.column=d.column,this.start.row=d.row):(this.start.row=d,this.start.column=c);},this.setEnd=function(d,c){typeof d=="object"?(this.end.column=d.column,this.end.row=d.row):(this.end.row=d,this.end.column=c);},this.inside=function(d,c){if(this.compare(d,c)==0){return this.isEnd(d,c)||this.isStart(d,c)?!1:!0;}return !1;},this.insideStart=function(d,c){if(this.compare(d,c)==0){return this.isEnd(d,c)?!1:!0;}return !1;},this.insideEnd=function(d,c){if(this.compare(d,c)==0){return this.isStart(d,c)?!1:!0;}return !1;},this.compare=function(d,c){if(!this.isMultiLine()&&d===this.start.row){return c<this.start.column?-1:c>this.end.column?1:0;}return d<this.start.row?-1:d>this.end.row?1:this.start.row===d?c>=this.start.column?0:-1:this.end.row===d?c<=this.end.column?0:1:0;},this.compareStart=function(d,c){return this.start.row==d&&this.start.column==c?-1:this.compare(d,c);},this.compareEnd=function(d,c){return this.end.row==d&&this.end.column==c?1:this.compare(d,c);},this.compareInside=function(d,c){return this.end.row==d&&this.end.column==c?1:this.start.row==d&&this.start.column==c?-1:this.compare(d,c);},this.clipRows=function(j,d){if(this.end.row>d){var m={row:d+1,column:0};}if(this.start.row>d){var k={row:d+1,column:0};}if(this.start.row<j){var k={row:j,column:0};}if(this.end.row<j){var m={row:j,column:0};}return g.fromPoints(k||this.start,m||this.end);},this.extend=function(j,d){var n=this.compare(j,d);if(n==0){return this;}if(n==-1){var m={row:j,column:d};}else{var k={row:j,column:d};}return g.fromPoints(m||this.start,k||this.end);},this.isEmpty=function(){return this.start.row==this.end.row&&this.start.column==this.end.column;},this.isMultiLine=function(){return this.start.row!==this.end.row;},this.clone=function(){return g.fromPoints(this.start,this.end);},this.collapseRows=function(){return this.end.column==0?new g(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new g(this.start.row,0,this.end.row,0);},this.toScreenRange=function(j){var d=j.documentToScreenPosition(this.start),k=j.documentToScreenPosition(this.end);return new g(d.row,d.column,k.row,k.column);};}).call(g.prototype),g.fromPoints=function(d,c){return new g(d.row,d.column,c.row,c.column);},e.Range=g;}),define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode"],function(k,j,r){var q=k("ace/tokenizer").Tokenizer,p=k("ace/mode/text_highlight_rules").TextHighlightRules,o=k("ace/mode/behaviour").Behaviour,n=k("ace/unicode"),m=function(){this.$tokenizer=new q((new p).getRules()),this.$behaviour=new o;};(function(){this.tokenRe=new RegExp("^["+n.packages.L+n.packages.Mn+n.packages.Mc+n.packages.Nd+n.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+n.packages.L+n.packages.Mn+n.packages.Mc+n.packages.Nd+n.packages.Pc+"\\$_]|s])+","g"),this.getTokenizer=function(){return this.$tokenizer;},this.toggleCommentLines=function(f,e,h,g){},this.getNextLineIndent=function(e,d,f){return"";},this.checkOutdent=function(e,d,f){return !1;},this.autoOutdent=function(e,d,f){},this.$getIndent=function(d){var c=d.match(/^(\s+)/);return c?c[1]:"";},this.createWorker=function(b){return null;},this.highlightSelection=function(D){var C=D.session;C.$selectionOccurrences||(C.$selectionOccurrences=[]),C.$selectionOccurrences.length&&this.clearSelectionHighlight(D);var B=D.getSelectionRange();if(!B.isEmpty()&&!B.isMultiLine()){var A=B.start.column-1,z=B.end.column+1,y=C.getLine(B.start.row),x=y.length,w=y.substring(Math.max(A,0),Math.min(z,x));if(A>=0&&/^[\w\d]/.test(w)||z<=x&&/[\w\d]$/.test(w)){return;}w=y.substring(B.start.column,B.end.column);if(!/^[\w\d]+$/.test(w)){return;}var v=D.getCursorPosition(),u={wrap:!0,wholeWord:!0,caseSensitive:!0,needle:w},t=D.$search.getOptions();D.$search.set(u);var s=D.$search.findAll(C);s.forEach(function(b){if(!b.contains(v.row,v.column)){var d=C.addMarker(b,"ace_selected_word","text");C.$selectionOccurrences.push(d);}}),D.$search.set(t);}},this.clearSelectionHighlight=function(b){!b.session.$selectionOccurrences||(b.session.$selectionOccurrences.forEach(function(a){b.session.removeMarker(a);}),b.session.$selectionOccurrences=[]);},this.createModeDelegates=function(e){if(!!this.$embeds){this.$modes={};for(var d=0;d<this.$embeds.length;d++){e[this.$embeds[d]]&&(this.$modes[this.$embeds[d]]=new e[this.$embeds[d]]);}var f=["toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction"];for(var d=0;d<f.length;d++){(function(b){var g=f[d],c=b[g];b[f[d]]=function(){return this.$delegator(g,arguments,c);};})(this);}}},this.$delegator=function(t,s,z){var y=s[0];for(var x=0;x<this.$embeds.length;x++){if(!this.$modes[this.$embeds[x]]){continue;}var w=y.split(this.$embeds[x]);if(!w[0]&&w[1]){s[0]=w[1];var v=this.$modes[this.$embeds[x]];return v[t].apply(v,s);}}var u=z.apply(this,s);return z?u:undefined;},this.transformAction=function(t,s,z,y,x){if(this.$behaviour){var w=this.$behaviour.getBehaviours();for(var v in w){if(w[v][s]){var u=w[v][s].apply(this,arguments);if(u!==!1){return u;}}}}return !1;};}).call(m.prototype),j.Mode=m;}),define("ace/tokenizer",["require","exports","module"],function(f,e,h){var g=function(u){this.rules=u,this.regExps={},this.matchMappings={};for(var t in this.rules){var s=this.rules[t],r=s,q=[],p=0,o=this.matchMappings[t]={};for(var n=0;n<r.length;n++){var m=(new RegExp("(?:("+r[n].regex+")|(.))")).exec("a").length-2,k=r[n].regex.replace(/\\([0-9]+)/g,function(d,c){return"\\"+(parseInt(c,10)+p+1);});o[p]={rule:n,len:m},p+=m,q.push(k);}this.regExps[t]=new RegExp("(?:("+q.join(")|(")+")|(.))","g");}};(function(){this.getLineTokens=function(D,C){var B=C,A=this.rules[B],z=this.matchMappings[B],y=this.regExps[B];y.lastIndex=0;var x,w=[],v=0,u={type:null,value:""};while(x=y.exec(D)){var t="text",s=null,r=[x[0]];for(var q=0;q<x.length-2;q++){if(x[q+1]!==undefined){s=A[z[q].rule],z[q].len>1&&(r=x.slice(q+2,q+1+z[q].len)),typeof s.token=="function"?t=s.token.apply(this,r):t=s.token;var p=s.next;p&&p!==B&&(B=p,A=this.rules[B],z=this.matchMappings[B],v=y.lastIndex,y=this.regExps[B],y.lastIndex=v);break;}}if(r[0]){typeof t=="string"&&(r=[r.join("")],t=[t]);for(var q=0;q<r.length;q++){(!s||s.merge||t[q]==="text")&&u.type===t[q]?u.value+=r[q]:(u.type&&w.push(u),u={type:t[q],value:r[q]});}}if(v==D.length){break;}v=y.lastIndex;}u.type&&w.push(u);return{tokens:w,state:B};};}).call(g.prototype),e.Tokenizer=g;}),define("ace/mode/text_highlight_rules",["require","exports","module","pilot/lang"],function(g,f,k){var j=g("pilot/lang"),h=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{token:"text",regex:".+"}]};};(function(){this.addRules=function(n,m){for(var r in n){var q=n[r];for(var p=0;p<q.length;p++){var o=q[p];o.next?o.next=m+o.next:o.next=m+r;}this.$rules[m+r]=q;}},this.getRules=function(){return this.$rules;},this.embedRules=function(m,d,r,q){var p=(new m).getRules();if(q){for(var o=0;o<q.length;o++){q[o]=d+q[o];}}else{q=[];for(var n in p){q.push(d+n);}}this.addRules(p,d);for(var o=0;o<q.length;o++){Array.prototype.unshift.apply(this.$rules[q[o]],j.deepCopy(r));}this.$embeds||(this.$embeds=[]),this.$embeds.push(d);},this.getEmbeds=function(){return this.$embeds;};}).call(h.prototype),f.TextHighlightRules=h;}),define("ace/mode/behaviour",["require","exports","module"],function(f,e,h){var g=function(){this.$behaviours={};};(function(){this.add=function(j,d,k){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[j]:this.$behaviours[j]={};}this.$behaviours[j][d]=k;},this.addBehaviours=function(j){for(var d in j){for(var k in j[d]){this.add(d,k,j[d][k]);}}},this.remove=function(b){this.$behaviours&&this.$behaviours[b]&&delete this.$behaviours[b];},this.inherit=function(j,d){if(typeof j=="function"){var k=(new j).getBehaviours(d);}else{var k=j.getBehaviours(d);}this.addBehaviours(k);},this.getBehaviours=function(j){if(!j){return this.$behaviours;}var d={};for(var k=0;k<j.length;k++){this.$behaviours[j[k]]&&(d[j[k]]=this.$behaviours[j[k]]);}return d;};}).call(g.prototype),e.Behaviour=g;}),define("ace/unicode",["require","exports","module"],function(f,e,h){function g(b){var k=/\w{4}/g;for(var j in b){e.packages[j]=b[j].replace(k,"\\u$&");}}e.packages={},g({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"});}),define("ace/document",["require","exports","module","pilot/oop","pilot/event_emitter","ace/range","ace/anchor"],function(k,j,r){var q=k("pilot/oop"),p=k("pilot/event_emitter").EventEmitter,o=k("ace/range").Range,n=k("ace/anchor").Anchor,m=function(b){this.$lines=[],Array.isArray(b)?this.insertLines(0,b):b.length==0?this.$lines=[""]:this.insert({row:0,column:0},b);};(function(){q.implement(this,p),this.setValue=function(d){var c=this.getLength();this.remove(new o(0,0,c,this.getLine(c-1).length)),this.insert({row:0,column:0},d);},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter());},this.createAnchor=function(d,c){return new n(this,d,c);},"aaa".split(/a/).length==0?this.$split=function(b){return b.replace(/\r\n|\r/g,"\n").split("\n");}:this.$split=function(b){return b.split(/\r\n|\r|\n/);},this.$detectNewLine=function(d){var c=d.match(/^.*?(\r?\n)/m);c?this.$autoNewLine=c[1]:this.$autoNewLine="\n";},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";case"auto":return this.$autoNewLine;}},this.$autoNewLine="\n",this.$newLineMode="auto",this.setNewLineMode=function(b){this.$newLineMode!==b&&(this.$newLineMode=b);},this.getNewLineMode=function(){return this.$newLineMode;},this.isNewLine=function(b){return b=="\r\n"||b=="\r"||b=="\n";},this.getLine=function(b){return this.$lines[b]||"";},this.getLines=function(d,c){return this.$lines.slice(d,c+1);},this.getAllLines=function(){return this.getLines(0,this.getLength());},this.getLength=function(){return this.$lines.length;},this.getTextRange=function(d){if(d.start.row==d.end.row){return this.$lines[d.start.row].substring(d.start.column,d.end.column);}var c=[];c.push(this.$lines[d.start.row].substring(d.start.column)),c.push.apply(c,this.getLines(d.start.row+1,d.end.row-1)),c.push(this.$lines[d.end.row].substring(0,d.end.column));return c.join(this.getNewLineCharacter());},this.$clipPosition=function(d){var c=this.getLength();d.row>=c&&(d.row=Math.max(0,c-1),d.column=this.getLine(c-1).length);return d;},this.insert=function(g,f){if(f.length==0){return g;}g=this.$clipPosition(g),this.getLength()<=1&&this.$detectNewLine(f);var t=this.$split(f),s=t.splice(0,1)[0],h=t.length==0?null:t.splice(t.length-1,1)[0];g=this.insertInLine(g,s),h!==null&&(g=this.insertNewLine(g),g=this.insertLines(g.row,t),g=this.insertInLine(g,h||""));return g;},this.insertLines=function(g,f){if(f.length==0){return{row:g,column:0};}var t=[g,0];t.push.apply(t,f),this.$lines.splice.apply(this.$lines,t);var s=new o(g,0,g+f.length,0),h={action:"insertLines",range:s,lines:f};this._dispatchEvent("change",{data:h});return s.end;},this.insertNewLine=function(f){f=this.$clipPosition(f);var e=this.$lines[f.row]||"";this.$lines[f.row]=e.substring(0,f.column),this.$lines.splice(f.row+1,0,e.substring(f.column,e.length));var h={row:f.row+1,column:0},g={action:"insertText",range:o.fromPoints(f,h),text:this.getNewLineCharacter()};this._dispatchEvent("change",{data:g});return h;},this.insertInLine=function(g,f){if(f.length==0){return g;}var t=this.$lines[g.row]||"";this.$lines[g.row]=t.substring(0,g.column)+f+t.substring(g.column);var s={row:g.row,column:g.column+f.length},h={action:"insertText",range:o.fromPoints(g,s),text:f};this._dispatchEvent("change",{data:h});return s;},this.remove=function(g){g.start=this.$clipPosition(g.start),g.end=this.$clipPosition(g.end);if(g.isEmpty()){return g.start;}var f=g.start.row,t=g.end.row;if(g.isMultiLine()){var s=g.start.column==0?f:f+1,h=t-1;g.end.column>0&&this.removeInLine(t,0,g.end.column),h>=s&&this.removeLines(s,h),s!=f&&(this.removeInLine(f,g.start.column,this.getLine(f).length),this.removeNewLine(g.start.row));}else{this.removeInLine(f,g.start.column,g.end.column);}return g.start;},this.removeInLine=function(s,f,y){if(f!=y){var x=new o(s,f,s,y),w=this.getLine(s),v=w.substring(f,y),u=w.substring(0,f)+w.substring(y,w.length);this.$lines.splice(s,1,u);var t={action:"removeText",range:x,text:v};this._dispatchEvent("change",{data:t});return x.start;}},this.removeLines=function(g,f){var t=new o(g,0,f+1,0),s=this.$lines.splice(g,f-g+1),h={action:"removeLines",range:t,nl:this.getNewLineCharacter(),lines:s};this._dispatchEvent("change",{data:h});return s;},this.removeNewLine=function(h){var f=this.getLine(h),v=this.getLine(h+1),u=new o(h,f.length,h+1,0),t=f+v;this.$lines.splice(h,2,t);var s={action:"removeText",range:u,text:this.getNewLineCharacter()};this._dispatchEvent("change",{data:s});},this.replace=function(e,d){if(d.length==0&&e.isEmpty()){return e.start;}if(d==this.getTextRange(e)){return e.end;}this.remove(e);if(d){var f=this.insert(e.start,d);}else{f=e.start;}return f;},this.applyDeltas=function(f){for(var e=0;e<f.length;e++){var h=f[e],g=o.fromPoints(h.range.start,h.range.end);h.action=="insertLines"?this.insertLines(g.start.row,h.lines):h.action=="insertText"?this.insert(g.start,h.text):h.action=="removeLines"?this.removeLines(g.start.row,g.end.row-1):h.action=="removeText"&&this.remove(g);}},this.revertDeltas=function(f){for(var e=f.length-1;e>=0;e--){var h=f[e],g=o.fromPoints(h.range.start,h.range.end);h.action=="insertLines"?this.removeLines(g.start.row,g.end.row-1):h.action=="insertText"?this.remove(g):h.action=="removeLines"?this.insertLines(g.start.row,h.lines):h.action=="removeText"&&this.insert(g.start,h.text);}};}).call(m.prototype),j.Document=m;}),define("ace/anchor",["require","exports","module","pilot/oop","pilot/event_emitter"],function(h,g,n){var m=h("pilot/oop"),k=h("pilot/event_emitter").EventEmitter,j=g.Anchor=function(e,d,f){this.document=e,typeof f=="undefined"?this.setPosition(d.row,d.column):this.setPosition(d,f),this.$onChange=this.onChange.bind(this),e.on("change",this.$onChange);};(function(){m.implement(this,k),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column);},this.getDocument=function(){return this.document;},this.onChange=function(o){var f=o.data,r=f.range;if(r.start.row!=r.end.row||r.start.row==this.row){if(r.start.row>this.row){return;}if(r.start.row==this.row&&r.start.column>this.column){return;}var q=this.row,p=this.column;f.action==="insertText"?r.start.row===q&&r.start.column<=p?r.start.row===r.end.row?p+=r.end.column-r.start.column:(p-=r.start.column,q+=r.end.row-r.start.row):r.start.row!==r.end.row&&r.start.row<q&&(q+=r.end.row-r.start.row):f.action==="insertLines"?r.start.row<=q&&(q+=r.end.row-r.start.row):f.action=="removeText"?r.start.row==q&&r.start.column<p?r.end.column>=p?p=r.start.column:p=Math.max(0,p-(r.end.column-r.start.column)):r.start.row!==r.end.row&&r.start.row<q?(r.end.row==q&&(p=Math.max(0,p-r.end.column)+r.start.column),q-=r.end.row-r.start.row):r.end.row==q&&(q-=r.end.row-r.start.row,p=Math.max(0,p-r.end.column)+r.start.column):f.action=="removeLines"&&r.start.row<=q&&(r.end.row<=q?q-=r.end.row-r.start.row:(q=r.start.row,p=0)),this.setPosition(q,p,!0);}},this.setPosition=function(o,f,r){var q;r?q={row:o,column:f}:q=this.$clipPositionToDocument(o,f);if(this.row!=q.row||this.column!=q.column){var p={row:this.row,column:this.column};this.row=q.row,this.column=q.column,this._dispatchEvent("change",{old:p,value:q});}},this.detach=function(){this.document.removeEventListener("change",this.$onChange);},this.$clipPositionToDocument=function(e,d){var f={};e>=this.document.getLength()?(f.row=Math.max(0,this.document.getLength()-1),f.column=this.document.getLine(f.row).length):e<0?(f.row=0,f.column=0):(f.row=e,f.column=Math.min(this.document.getLine(f.row).length,Math.max(0,d))),d<0&&(f.column=0);return f;};}).call(j.prototype);}),define("ace/background_tokenizer",["require","exports","module","pilot/oop","pilot/event_emitter"],function(h,g,n){var m=h("pilot/oop"),k=h("pilot/event_emitter").EventEmitter,j=function(e,d){this.running=!1,this.lines=[],this.currentLine=0,this.tokenizer=e;var f=this;this.$worker=function(){if(!!f.running){var o=new Date,c=f.currentLine,r=f.doc,q=0,p=r.getLength();while(f.currentLine<p){f.lines[f.currentLine]=f.$tokenizeRows(f.currentLine,f.currentLine)[0],f.currentLine++,q+=1;if(q%5==0&&new Date-o>20){f.fireUpdateEvent(c,f.currentLine-1),f.running=setTimeout(f.$worker,20);return;}}f.running=!1,f.fireUpdateEvent(c,p-1);}};};(function(){m.implement(this,k),this.setTokenizer=function(b){this.tokenizer=b,this.lines=[],this.start(0);},this.setDocument=function(b){this.doc=b,this.lines=[],this.stop();},this.fireUpdateEvent=function(e,d){var f={first:e,last:d};this._dispatchEvent("update",{data:f});},this.start=function(b){this.currentLine=Math.min(b||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.stop(),this.running=setTimeout(this.$worker,700);},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1;},this.getTokens=function(d,c){return this.$tokenizeRows(d,c);},this.getState=function(b){return this.$tokenizeRows(b,b)[0].state;},this.$tokenizeRows=function(p,o){if(!this.doc){return[];}var v=[],u="start",t=!1;p>0&&this.lines[p-1]?(u=this.lines[p-1].state,t=!0):p==0?(u="start",t=!0):this.lines.length>0&&(u=this.lines[this.lines.length-1].state);var s=this.doc.getLines(p,o);for(var r=p;r<=o;r++){if(!this.lines[r]){var q=this.tokenizer.getLineTokens(s[r-p]||"",u),u=q.state;v.push(q),t&&(this.lines[r]=q);}else{var q=this.lines[r];u=q.state,v.push(q);}}return v;};}).call(j.prototype),g.BackgroundTokenizer=j;}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold"],function(j,h,p){function k(){this.getFoldAt=function(r,q,w){var v=this.getFoldLine(r);if(!v){return null;}var u=v.folds;for(var t=0;t<u.length;t++){var s=u[t];if(s.range.contains(r,q)){if(w==1&&s.range.isEnd(r,q)){continue;}if(w==-1&&s.range.isStart(r,q)){continue;}return s;}}},this.getFoldsInRange=function(z){z=z.clone();var y=z.start,x=z.end,w=this.$foldData,v=[];y.column+=1,x.column-=1;for(var u=0;u<w.length;u++){var t=w[u].range.compareRange(z);if(t==2){continue;}if(t==-2){break;}var s=w[u].folds;for(var r=0;r<s.length;r++){var q=s[r];t=q.range.compareRange(z);if(t==-2){break;}if(t==2){continue;}if(t==42){break;}v.push(q);}}return v;},this.getFoldStringAt=function(y,x,w,v){var v=v||this.getFoldLine(y);if(!v){return null;}var u={end:{column:0}};for(var t=0;t<v.folds.length;t++){var s=v.folds[t],r=s.range.compareEnd(y,x);if(r==-1){var q=this.getLine(s.start.row).substring(u.end.column,s.start.column);break;}if(r==0){return null;}u=s;}q||(q=this.getLine(s.start.row).substring(u.end.column));return w==-1?q.substring(0,x-u.end.column):w==1?q.substring(x-u.end.column):q;},this.getFoldLine=function(g,f){var s=this.$foldData,r=0;f&&(r=s.indexOf(f)),r==-1&&(r=0);for(r;r<s.length;r++){var q=s[r];if(q.start.row<=g&&q.end.row>=g){return q;}if(q.end.row>g){return null;}}return null;},this.getNextFold=function(q,g){var u=this.$foldData,t,s=0;g&&(s=u.indexOf(g)),s==-1&&(s=0);for(s;s<u.length;s++){var r=u[s];if(r.end.row>=q){return r;}}return null;},this.getFoldedRowCount=function(r,q){var x=this.$foldData,w=q-r+1;for(var v=0;v<x.length;v++){var u=x[v],t=u.end.row,s=u.start.row;if(t>=q){s<q&&(s>=r?w-=q-s:w=0);break;}t>=r&&(s>=r?w-=t-s:w-=t-r+1);}return w;},this.$addFoldLine=function(b){this.$foldData.push(b),this.$foldData.sort(function(d,c){return d.start.row-c.start.row;});return b;},this.addFold=function(A,z){var y=this.$foldData,x=!1;if(A instanceof m){var w=A;}else{w=new m(z,A);}var v=w.start.row,u=w.start.column,t=w.end.row,s=w.end.column;if(w.placeholder.length<2){throw"Placeholder has to be at least 2 characters";}if(v==t&&s-u<2){throw"The range has to be at least 2 characters width";}var r=this.getFoldAt(v,u,1);if(r&&r.range.isEnd(t,s)&&r.range.isStart(v,u)){return w;}r=this.getFoldAt(v,u,1);if(r&&!r.range.isStart(v,u)){throw"A fold can't start inside of an already existing fold";}r=this.getFoldAt(t,s,-1);if(r&&!r.range.isEnd(t,s)){throw"A fold can't end inside of an already existing fold";}if(t>=this.doc.getLength()){throw"End of fold is outside of the document.";}if(s>this.getLine(t).length||u>this.getLine(v).length){throw"End of fold is outside of the document.";}var q=this.getFoldsInRange(w.range);q.length>0&&(this.removeFolds(q),w.subFolds=q);for(var f=0;f<y.length;f++){var e=y[f];if(t==e.start.row){e.addFold(w),x=!0;break;}if(v==e.end.row){e.addFold(w),x=!0;if(!w.sameRow){foldLineNext=y[f+1];if(foldLineNext&&foldLineNext.start.row==t){e.merge(foldLineNext);break;}}break;}if(t<=e.start.row){break;}}x||(e=this.$addFoldLine(new n(this.$foldData,w))),this.$useWrapMode&&this.$updateWrapData(e.start.row,e.start.row),this.$modified=!0,this._dispatchEvent("changeFold",{data:w});return w;},this.addFolds=function(b){b.forEach(function(c){this.addFold(c);},this);},this.removeFold=function(r){var q=r.foldLine,w=q.start.row,v=q.end.row,u=this.$foldData,t=q.folds;if(t.length==1){u.splice(u.indexOf(q),1);}else{if(q.range.isEnd(r.end.row,r.end.column)){t.pop(),q.end.row=t[t.length-1].end.row,q.end.column=t[t.length-1].end.column;}else{if(q.range.isStart(r.start.row,r.start.column)){t.shift(),q.start.row=t[0].start.row,q.start.column=t[0].start.column;}else{if(r.sameRow){t.splice(t.indexOf(r),1);}else{var s=q.split(r.start.row,r.start.column);s.folds.shift(),q.start.row=t[0].start.row,q.start.column=t[0].start.column,this.$addFoldLine(s);}}}}this.$useWrapMode&&this.$updateWrapData(w,v),this.$modified=!0,this._dispatchEvent("changeFold",{data:r});},this.removeFolds=function(e){var d=[];for(var f=0;f<e.length;f++){d.push(e[f]);}d.forEach(function(b){this.removeFold(b);},this),this.$modified=!0;},this.expandFold=function(b){this.removeFold(b),b.subFolds.forEach(function(c){this.addFold(c);},this),b.subFolds=[];},this.expandFolds=function(b){b.forEach(function(c){this.expandFold(c);},this);},this.isRowFolded=function(d,c){return !!this.getFoldLine(d,c);},this.getRowFoldEnd=function(e,d){var f=this.getFoldLine(e,d);return f?f.end.row:e;},this.getFoldDisplayLine=function(r,q,x,w,v){w==null&&(w=r.start.row,v=0),q==null&&(q=r.end.row,x=this.getLine(q).length);var u="",t=this.doc,s="";r.walk(function(e,d,z,y,g){if(!(d<w)){if(d==w){if(z<v){return;}y=Math.max(v,y);}e?s+=e:s+=t.getLine(d).substring(y,z);}}.bind(this),q,x);return s;},this.getDisplayLine=function(q,g,u,t){var s=this.getFoldLine(q);if(!s){var r;r=this.doc.getLine(q);return r.substring(t||0,g||r.length);}return this.getFoldDisplayLine(s,q,g,u,t);},this.$cloneFoldData=function(){var d=this.$foldData,c=[];c=this.$foldData.map(function(b){var e=b.folds.map(function(f){return f.clone();});return new n(c,e);});return c;};}var o=j("ace/range").Range,n=j("ace/edit_session/fold_line").FoldLine,m=j("ace/edit_session/fold").Fold;h.Folding=k;}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(g,f,k){function h(e,d){this.foldData=e,Array.isArray(d)?this.folds=d:d=this.folds=[d];var m=d[d.length-1];this.range=new j(d[0].start.row,d[0].start.column,m.end.row,m.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(b){b.setFoldLine(this);},this);}var j=g("ace/range").Range;(function(){this.shiftRow=function(b){this.start.row+=b,this.end.row+=b,this.folds.forEach(function(a){a.start.row+=b,a.end.row+=b;});},this.addFold=function(b){if(b.sameRow){if(b.start.row<this.startRow||b.endRow>this.endRow){throw"Can't add a fold to this FoldLine as it has no connection";}this.folds.push(b),this.folds.sort(function(d,c){return -d.range.compareEnd(c.start.row,c.start.column);}),this.range.compareEnd(b.start.row,b.start.column)>0?(this.end.row=b.end.row,this.end.column=b.end.column):this.range.compareStart(b.end.row,b.end.column)<0&&(this.start.row=b.start.row,this.start.column=b.start.column);}else{if(b.start.row==this.end.row){this.folds.push(b),this.end.row=b.end.row,this.end.column=b.end.column;}else{if(b.end.row==this.start.row){this.folds.unshift(b),this.start.row=b.start.row,this.start.column=b.start.column;}else{throw"Trying to add fold to FoldRow that doesn't have a matching row";}}}b.foldLine=this;},this.containsRow=function(b){return b>=this.start.row&&b<=this.end.row;},this.walk=function(v,u,t){var s=0,r=this.folds,q,p,o,n=!0;u==null&&(u=this.end.row,t=this.end.column);for(var m=0;m<r.length;m++){q=r[m],p=q.range.compareStart(u,t);if(p==-1){v(null,u,t,s,n);return;}o=v(null,q.start.row,q.start.column,s,n),o=!o&&v(q.placeholder,q.start.row,q.start.column,s);if(o||p==0){return;}n=!q.sameRow,s=q.end.column;}v(null,u,t,s,n);},this.getNextFoldTo=function(n,m){var q,p;for(var o=0;o<this.folds.length;o++){q=this.folds[o],p=q.range.compareEnd(n,m);if(p==-1){return{fold:q,kind:"after"};}if(p==0){return{fold:q,kind:"inside"};}}return null;},this.addRemoveChars=function(n,m,s){var r=this.getNextFoldTo(n,m),q,p;if(r){q=r.fold;if(r.kind=="inside"&&q.start.column!=m&&q.start.row!=n){throw"Moving characters inside of a fold should never be reached";}if(q.start.row==n){p=this.folds;var o=p.indexOf(q);o==0&&(this.start.column+=s);for(o;o<p.length;o++){q=p[o],q.start.column+=s;if(!q.sameRow){return;}q.end.column+=s;}this.end.column+=s;}}},this.split=function(m,e){var s=this.getNextFoldTo(m,e).fold,r=this.folds,q=this.foldData;if(!s){return null;}var p=r.indexOf(s),o=r[p-1];this.end.row=o.end.row,this.end.column=o.end.column,r=r.splice(p,r.length-p);var n=new h(q,r);q.splice(q.indexOf(this)+1,0,n);return n;},this.merge=function(m){var e=m.folds;for(var o=0;o<e.length;o++){this.addFold(e[o]);}var n=this.foldData;n.splice(n.indexOf(m),1);},this.toString=function(){var b=[this.range.toString()+": ["];this.folds.forEach(function(a){b.push("  "+a.toString());}),b.push("]");return b.join("\n");},this.idxToPosition=function(m){var e=0,o;for(var n=0;n<this.folds.length;n++){var o=this.folds[n];m-=o.start.column-e;if(m<0){return{row:o.start.row,column:o.start.column+m};}m-=o.placeholder.length;if(m<0){return o.start;}e=o.end.column;}return{row:this.end.row,column:this.end.column+m};};}).call(h.prototype),f.FoldLine=h;}),define("ace/edit_session/fold",["require","exports","module"],function(f,e,h){var g=e.Fold=function(d,c){this.foldLine=null,this.placeholder=c,this.range=d,this.start=d.start,this.end=d.end,this.sameRow=d.start.row==d.end.row,this.subFolds=[];};(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString();},this.setFoldLine=function(b){this.foldLine=b,this.subFolds.forEach(function(a){a.setFoldLine(b);});},this.clone=function(){var d=this.range.clone(),c=new g(d,this.placeholder);this.subFolds.forEach(function(b){c.subFolds.push(b.clone());});return c;};}).call(g.prototype);}),define("ace/search",["require","exports","module","pilot/lang","pilot/oop","ace/range"],function(j,h,p){var o=j("pilot/lang"),n=j("pilot/oop"),m=j("ace/range").Range,k=function(){this.$options={needle:"",backwards:!1,wrap:!1,caseSensitive:!1,wholeWord:!1,scope:k.ALL,regExp:!1};};k.ALL=1,k.SELECTION=2,function(){this.set=function(b){n.mixin(this.$options,b);return this;},this.getOptions=function(){return o.copyObject(this.$options);},this.find=function(e){if(!this.$options.needle){return null;}if(this.$options.backwards){var d=this.$backwardMatchIterator(e);}else{d=this.$forwardMatchIterator(e);}var f=null;d.forEach(function(b){f=b;return !0;});return f;},this.findAll=function(e){if(!this.$options.needle){return[];}if(this.$options.backwards){var d=this.$backwardMatchIterator(e);}else{d=this.$forwardMatchIterator(e);}var f=[];d.forEach(function(b){f.push(b);});return f;},this.replace=function(f,e){var q=this.$assembleRegExp(),g=q.exec(f);return g&&g[0].length==f.length?this.$options.regExp?f.replace(q,e):e:null;},this.$forwardMatchIterator=function(e){var d=this.$assembleRegExp(),f=this;return{forEach:function(a){f.$forwardLineIterator(e).forEach(function(b,u,t){u&&(b=b.substring(u));var s=[];b.replace(d,function(v){var g=arguments[arguments.length-2];s.push({str:v,offset:u+g});return v;});for(var r=0;r<s.length;r++){var q=s[r],c=f.$rangeFromMatch(t,q.offset,q.str.length);if(a(c)){return !0;}}});}};},this.$backwardMatchIterator=function(e){var d=this.$assembleRegExp(),f=this;return{forEach:function(a){f.$backwardLineIterator(e).forEach(function(b,u,t){u&&(b=b.substring(u));var s=[];b.replace(d,function(v,g){s.push({str:v,offset:u+g});return v;});for(var r=s.length-1;r>=0;r--){var q=s[r],c=f.$rangeFromMatch(t,q.offset,q.str.length);if(a(c)){return !0;}}});}};},this.$rangeFromMatch=function(e,d,f){return new m(e,d,e,d+f);},this.$assembleRegExp=function(){if(this.$options.regExp){var e=this.$options.needle;}else{e=o.escapeRegExp(this.$options.needle);}this.$options.wholeWord&&(e="\\b"+e+"\\b");var d="g";this.$options.caseSensitive||(d+="i");var f=new RegExp(e,d);return f;},this.$forwardLineIterator=function(y){function g(b){var a=y.getLine(b);x&&b==w.end.row&&(a=a.substring(0,w.end.column)),q&&b==v.row&&(a=a.substring(0,v.column));return a;}var x=this.$options.scope==k.SELECTION,w=y.getSelection().getRange(),v=y.getSelection().getCursor(),u=x?w.start.row:0,t=x?w.start.column:0,s=x?w.end.row:y.getLength()-1,r=this.$options.wrap,q=!1;return{forEach:function(f){var d=v.row,A=g(d),z=v.column,e=!1;q=!1;while(!f(A,z,d)){if(e){return;}d++,z=0;if(d>s){if(r){d=u,z=t,q=!0;}else{return;}}d==v.row&&(e=!0),A=g(d);}}};},this.$backwardLineIterator=function(q){var g=this.$options.scope==k.SELECTION,w=q.getSelection().getRange(),v=g?w.end:w.start,u=g?w.start.row:0,t=g?w.start.column:0,s=g?w.end.row:q.getLength()-1,r=this.$options.wrap;return{forEach:function(e){var d=v.row,c=q.getLine(d).substring(0,v.column),b=0,a=!1,f=!1;while(!e(c,b,d)){if(a){return;}d--,b=0;if(d<u){if(r){d=s,f=!0;}else{return;}}d==v.row&&(a=!0),c=q.getLine(d),g&&(d==u?b=t:d==s&&(c=c.substring(0,w.end.column))),f&&d==v.row&&(b=v.column);}}};};}.call(k.prototype),h.Search=k;}),define("ace/undomanager",["require","exports","module"],function(f,e,h){var g=function(){this.reset();};(function(){this.execute=function(d){var c=d.args[0];this.$doc=d.args[1],this.$undoStack.push(c),this.$redoStack=[];},this.undo=function(j){var d=this.$undoStack.pop(),k=null;d&&(k=this.$doc.undoChanges(d,j),this.$redoStack.push(d));return k;},this.redo=function(j){var d=this.$redoStack.pop(),k=null;d&&(k=this.$doc.redoChanges(d,j),this.$undoStack.push(d));return k;},this.reset=function(){this.$undoStack=[],this.$redoStack=[];},this.hasUndo=function(){return this.$undoStack.length>0;},this.hasRedo=function(){return this.$redoStack.length>0;};}).call(g.prototype),e.UndoManager=g;}),define("ace/virtual_renderer",["require","exports","module","pilot/oop","pilot/dom","pilot/event","pilot/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/renderloop","pilot/event_emitter","text/ace/css/editor.css"],function(F,E,D){var C=F("pilot/oop"),B=F("pilot/dom"),A=F("pilot/event"),z=F("pilot/useragent"),y=F("ace/layer/gutter").Gutter,x=F("ace/layer/marker").Marker,w=F("ace/layer/text").Text,v=F("ace/layer/cursor").Cursor,u=F("ace/scrollbar").ScrollBar,t=F("ace/renderloop").RenderLoop,s=F("pilot/event_emitter").EventEmitter,r=F("text/ace/css/editor.css");B.importCssString(r);var q=function(f,e){this.container=f,B.addCssClass(this.container,"ace_editor"),this.setTheme(e),this.$gutter=B.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=B.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=B.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new y(this.$gutter),this.$markerBack=new x(this.content);var h=this.$textLayer=new w(this.content);this.canvas=h.element,this.$markerFront=new x(this.content),this.characterWidth=h.getCharacterWidth(),this.lineHeight=h.getLineHeight(),this.$cursorLayer=new v(this.content),this.$cursorPadding=8,this.$horizScroll=!0,this.$horizScrollAlwaysVisible=!0,this.scrollBar=new u(f),this.scrollBar.addEventListener("scroll",this.onScroll.bind(this)),this.scrollTop=0,this.cursorPos={row:0,column:0};var g=this;this.$textLayer.addEventListener("changeCharaterSize",function(){g.characterWidth=h.getCharacterWidth(),g.lineHeight=h.getLineHeight(),g.$updatePrintMargin(),g.onResize(!0),g.$loop.schedule(g.CHANGE_FULL);}),A.addListener(this.$gutter,"click",this.$onGutterClick.bind(this)),A.addListener(this.$gutter,"dblclick",this.$onGutterClick.bind(this)),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:1,characterWidth:1,minHeight:1,maxHeight:1,offset:0,height:1},this.$loop=new t(this.$renderChanges.bind(this)),this.$loop.schedule(this.CHANGE_FULL),this.setPadding(4),this.$updatePrintMargin();};(function(){this.showGutter=!0,this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,C.implement(this,s),this.setSession=function(b){this.session=b,this.$cursorLayer.setSession(b),this.$markerBack.setSession(b),this.$markerFront.setSession(b),this.$gutterLayer.setSession(b),this.$textLayer.setSession(b),this.$loop.schedule(this.CHANGE_FULL);},this.updateLines=function(d,c){c===undefined&&(c=Infinity),this.$changedLines?(this.$changedLines.firstRow>d&&(this.$changedLines.firstRow=d),this.$changedLines.lastRow<c&&(this.$changedLines.lastRow=c)):this.$changedLines={firstRow:d,lastRow:c},this.$loop.schedule(this.CHANGE_LINES);},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT);},this.updateFull=function(){this.$loop.schedule(this.CHANGE_FULL);},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges();},this.onResize=function(h){var e=this.CHANGE_SIZE,n=this.$size,m=B.getInnerHeight(this.container);if(h||n.height!=m){n.height=m,this.scroller.style.height=m+"px",n.scrollerHeight=this.scroller.clientHeight,this.scrollBar.setHeight(n.scrollerHeight),this.session&&(this.scrollToY(this.getScrollTop()),e=e|this.CHANGE_FULL);}var k=B.getInnerWidth(this.container);if(h||n.width!=k){n.width=k;var j=this.showGutter?this.$gutter.offsetWidth:0;this.scroller.style.left=j+"px",n.scrollerWidth=Math.max(0,k-j-this.scrollBar.getWidth()),this.scroller.style.width=n.scrollerWidth+"px";if(this.session.getUseWrapMode()&&this.adjustWrapLimit()||h){e=e|this.CHANGE_FULL;}}this.$loop.schedule(e);},this.adjustWrapLimit=function(){var d=this.$size.scrollerWidth-this.$padding*2,c=Math.floor(d/this.characterWidth)-1;return this.session.adjustWrapLimit(c);},this.$onGutterClick=function(e){var d=A.getDocumentX(e),f=A.getDocumentY(e);this._dispatchEvent("gutter"+e.type,{row:this.screenToTextCoordinates(d,f).row,htmlEvent:e});},this.setShowInvisibles=function(b){this.$textLayer.setShowInvisibles(b)&&this.$loop.schedule(this.CHANGE_TEXT);},this.getShowInvisibles=function(){return this.$textLayer.showInvisibles;},this.$showPrintMargin=!0,this.setShowPrintMargin=function(b){this.$showPrintMargin=b,this.$updatePrintMargin();},this.getShowPrintMargin=function(){return this.$showPrintMargin;},this.$printMarginColumn=80,this.setPrintMarginColumn=function(b){this.$printMarginColumn=b,this.$updatePrintMargin();},this.getPrintMarginColumn=function(){return this.$printMarginColumn;},this.getShowGutter=function(){return this.showGutter;},this.setShowGutter=function(b){this.showGutter!==b&&(this.$gutter.style.display=b?"block":"none",this.showGutter=b,this.onResize(!0));},this.$updatePrintMargin=function(){var d;if(!!this.$showPrintMargin||!!this.$printMarginEl){this.$printMarginEl||(d=B.createElement("div"),d.className="ace_print_margin_layer",this.$printMarginEl=B.createElement("div"),this.$printMarginEl.className="ace_print_margin",d.appendChild(this.$printMarginEl),this.content.insertBefore(d,this.$textLayer.element));var c=this.$printMarginEl.style;c.left=this.characterWidth*this.$printMarginColumn+this.$padding*2+"px",c.visibility=this.$showPrintMargin?"visible":"hidden";}},this.getContainerElement=function(){return this.container;},this.getMouseEventTarget=function(){return this.content;},this.getTextAreaContainer=function(){return this.container;},this.moveTextAreaToCursor=function(f){if(!z.isIE){var e=this.$cursorLayer.getPixelPosition();if(!e){return;}var h=this.content.getBoundingClientRect(),g=this.layerConfig.offset;f.style.left=h.left+e.left+this.$padding+"px",f.style.top=h.top+e.top-this.scrollTop+g+"px";}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow;},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1);},this.getLastFullyVisibleRow=function(){var b=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+b;},this.getLastVisibleRow=function(){return this.layerConfig.lastRow;},this.$padding=null,this.setPadding=function(b){this.$padding=b,this.$textLayer.setPadding(b),this.$cursorLayer.setPadding(b),this.$markerFront.setPadding(b),this.$markerBack.setPadding(b),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin();},this.getHScrollBarAlwaysVisible=function(){return this.$horizScrollAlwaysVisible;},this.setHScrollBarAlwaysVisible=function(b){this.$horizScrollAlwaysVisible!=b&&(this.$horizScrollAlwaysVisible=b,(!this.$horizScrollAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL));},this.onScroll=function(b){this.scrollToY(b.data);},this.$updateScrollBar=function(){this.scrollBar.setInnerHeight(this.layerConfig.maxHeight),this.scrollBar.setScrollTop(this.scrollTop);},this.$renderChanges=function(b){if(!!b&&!!this.session){(b&this.CHANGE_FULL||b&this.CHANGE_SIZE||b&this.CHANGE_TEXT||b&this.CHANGE_LINES||b&this.CHANGE_SCROLL)&&this.$computeLayerConfig();if(b&this.CHANGE_FULL){this.$textLayer.update(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$updateScrollBar();return;}if(b&this.CHANGE_SCROLL){b&this.CHANGE_TEXT||b&this.CHANGE_LINES?this.$textLayer.update(this.layerConfig):this.$textLayer.scrollLines(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$updateScrollBar();return;}b&this.CHANGE_TEXT?(this.$textLayer.update(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig)):b&this.CHANGE_LINES?(this.$updateLines(),this.$updateScrollBar(),this.showGutter&&this.$gutterLayer.update(this.layerConfig)):b&this.CHANGE_GUTTER&&this.showGutter&&this.$gutterLayer.update(this.layerConfig),b&this.CHANGE_CURSOR&&this.$cursorLayer.update(this.layerConfig),b&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(this.layerConfig),b&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(this.layerConfig),b&this.CHANGE_SIZE&&this.$updateScrollBar();}},this.$computeLayerConfig=function(){var T=this.session,S=this.scrollTop%this.lineHeight,R=this.$size.scrollerHeight+this.lineHeight,Q=this.$getLongestLine(),P=this.layerConfig.width!=Q,O=this.$horizScrollAlwaysVisible||this.$size.scrollerWidth-Q<0,N=this.$horizScroll!==O;this.$horizScroll=O,N&&(this.scroller.style.overflowX=O?"scroll":"hidden");var M=this.session.getScreenLength()*this.lineHeight;this.scrollTop=Math.max(0,Math.min(this.scrollTop,M-this.$size.scrollerHeight));var L=Math.ceil(R/this.lineHeight)-1,K=Math.max(0,Math.round((this.scrollTop-S)/this.lineHeight)),J=K+L,I,H,G={lineHeight:this.lineHeight};K=T.screenToDocumentRow(K,0);var p=T.getFoldLine(K);p&&(K=p.start.row),I=T.documentToScreenRow(K,0),H=T.getRowHeight(G,K),J=Math.min(T.screenToDocumentRow(J,0),T.getLength()-1),R=this.$size.scrollerHeight+T.getRowHeight(G,J)+H,S=this.scrollTop-I*this.lineHeight,this.layerConfig={width:Q,padding:this.$padding,firstRow:K,firstRowScreen:I,lastRow:J,lineHeight:this.lineHeight,characterWidth:this.characterWidth,minHeight:R,maxHeight:M,offset:S,height:this.$size.scrollerHeight},this.$gutterLayer.element.style.marginTop=-S+"px",this.content.style.marginTop=-S+"px",this.content.style.width=Q+"px",this.content.style.height=R+"px",this.$desiredScrollLeft&&(this.scrollToX(this.$desiredScrollLeft),this.$desiredScrollLeft=0),N&&this.onResize(!0);},this.$updateLines=function(){var e=this.$changedLines.firstRow,d=this.$changedLines.lastRow;this.$changedLines=null;var f=this.layerConfig;if(f.width!=this.$getLongestLine()){return this.$textLayer.update(f);}if(!(e>f.lastRow+1)){if(d<f.firstRow){return;}if(d===Infinity){this.showGutter&&this.$gutterLayer.update(f),this.$textLayer.update(f);return;}this.$textLayer.updateLines(f,e,d);}},this.$getLongestLine=function(){var b=this.session.getScreenWidth()+1;this.$textLayer.showInvisibles&&(b+=1);return Math.max(this.$size.scrollerWidth,Math.round(b*this.characterWidth));},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT);},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK);},this.addGutterDecoration=function(d,c){this.$gutterLayer.addGutterDecoration(d,c),this.$loop.schedule(this.CHANGE_GUTTER);},this.removeGutterDecoration=function(d,c){this.$gutterLayer.removeGutterDecoration(d,c),this.$loop.schedule(this.CHANGE_GUTTER);},this.setBreakpoints=function(b){this.$gutterLayer.setBreakpoints(b),this.$loop.schedule(this.CHANGE_GUTTER);},this.setAnnotations=function(b){this.$gutterLayer.setAnnotations(b),this.$loop.schedule(this.CHANGE_GUTTER);},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR);},this.hideCursor=function(){this.$cursorLayer.hideCursor();},this.showCursor=function(){this.$cursorLayer.showCursor();},this.scrollCursorIntoView=function(){if(this.$size.scrollerHeight!==0){var f=this.$cursorLayer.getPixelPosition(),e=f.left+this.$padding,h=f.top;this.scrollTop>h&&this.scrollToY(h),this.scrollTop+this.$size.scrollerHeight<h+this.lineHeight&&this.scrollToY(h+this.lineHeight-this.$size.scrollerHeight);var g=this.scroller.scrollLeft;g>e&&this.scrollToX(e),g+this.$size.scrollerWidth<e+this.characterWidth&&(e>this.layerConfig.width?this.$desiredScrollLeft=e+2*this.characterWidth:this.scrollToX(Math.round(e+this.characterWidth-this.$size.scrollerWidth)));}},this.getScrollTop=function(){return this.scrollTop;},this.getScrollLeft=function(){return this.scroller.scrollLeft;},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight;},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1);},this.scrollToRow=function(b){this.scrollToY(b*this.lineHeight);},this.scrollToLine=function(g,f){var k={lineHeight:this.lineHeight},j=0;for(var h=1;h<g;h++){j+=this.session.getRowHeight(k,h-1);}f&&(j-=this.$size.scrollerHeight/2),this.scrollToY(j);},this.scrollToY=function(b){b=Math.max(0,b),this.scrollTop!==b&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=b);},this.scrollToX=function(b){b<=this.$padding&&(b=0),this.scroller.scrollLeft=b;},this.scrollBy=function(d,c){c&&this.scrollToY(this.scrollTop+c),d&&this.scrollToX(this.scroller.scrollLeft+d);},this.screenToTextCoordinates=function(g,e){var k=this.scroller.getBoundingClientRect(),j=Math.round((g+this.scroller.scrollLeft-k.left-this.$padding-B.getPageScrollLeft())/this.characterWidth),h=Math.floor((e+this.scrollTop-k.top-B.getPageScrollTop())/this.lineHeight);return this.session.screenToDocumentPosition(h,Math.max(j,0));},this.textToScreenCoordinates=function(h,g){var n=this.scroller.getBoundingClientRect(),m=this.session.documentToScreenPosition(h,g),k=this.$padding+Math.round(m.column*this.characterWidth),j=m.row*this.lineHeight;return{pageX:n.left+k-this.getScrollLeft(),pageY:n.top+j-this.getScrollTop()};},this.visualizeFocus=function(){B.addCssClass(this.container,"ace_focus");},this.visualizeBlur=function(){B.removeCssClass(this.container,"ace_focus");},this.showComposition=function(e){this.$composition||(this.$composition=B.createElement("div"),this.$composition.className="ace_composition",this.content.appendChild(this.$composition)),this.$composition.innerHTML="&#160;";var d=this.$cursorLayer.getPixelPosition(),f=this.$composition.style;f.top=d.top+"px",f.left=d.left+this.$padding+"px",f.height=this.lineHeight+"px",this.hideCursor();},this.setCompositionText=function(b){B.setInnerText(this.$composition,b);},this.hideComposition=function(){this.showCursor();if(!!this.$composition){var b=this.$composition.style;b.top="-10000px",b.left="-10000px";}},this.setTheme=function(a){function e(b){f.$theme&&B.removeCssClass(f.container,f.$theme),f.$theme=b?b.cssClass:null,f.$theme&&B.addCssClass(f.container,f.$theme),f.$size&&(f.$size.width=0,f.onResize());}var f=this;this.$themeValue=a,!a||typeof a=="string"?(a=a||"ace/theme/textmate",F([a],function(b){e(b);})):e(a);},this.getTheme=function(){return this.$themeValue;},this.setStyle=function(b){B.addCssClass(this.container,b);},this.unsetStyle=function(b){B.removeCssClass(this.container,b);},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy();};}).call(q.prototype),E.VirtualRenderer=q;}),define("ace/layer/gutter",["require","exports","module","pilot/dom"],function(g,f,k){var j=g("pilot/dom"),h=function(b){this.element=j.createElement("div"),this.element.className="ace_layer ace_gutter-layer",b.appendChild(this.element),this.$breakpoints=[],this.$annotations=[],this.$decorations=[];};(function(){this.setSession=function(b){this.session=b;},this.addGutterDecoration=function(d,c){this.$decorations[d]||(this.$decorations[d]=""),this.$decorations[d]+=" ace_"+c;},this.removeGutterDecoration=function(d,c){this.$decorations[d]=this.$decorations[d].replace(" ace_"+c,"");},this.setBreakpoints=function(b){this.$breakpoints=b.concat();},this.setAnnotations=function(n){this.$annotations=[];for(var m in n){if(n.hasOwnProperty(m)){var s=n[m];if(!s){continue;}var r=this.$annotations[m]={text:[]};for(var q=0;q<s.length;q++){var p=s[q];r.text.push(p.text.replace(/"/g,"&quot;").replace(/'/g,"&#8217;").replace(/</,"&lt;"));var o=p.type;o=="error"?r.className="ace_error":o=="warning"&&r.className!="ace_error"?r.className="ace_warning":o=="info"&&!r.className&&(r.className="ace_info");}}}},this.update=function(t){this.$config=t;var s={className:"",text:[]},r=[],q=t.firstRow,p=t.lastRow,o=this.session.getNextFold(q),n=o?o.start.row:Infinity;for(;;){q>n&&(q=o.end.row+1,o=this.session.getNextFold(q),n=o?o.start.row:Infinity);if(q>p){break;}var m=this.$annotations[q]||s;r.push("<div class='ace_gutter-cell",this.$decorations[q]||"",this.$breakpoints[q]?" ace_breakpoint ":" ",m.className,"' title='",m.text.join("\n"),"' style='height:",t.lineHeight,"px;'>",q+1);var d=this.session.getRowLength(q)-1;while(d--){r.push("</div><div class='ace_gutter-cell' style='height:",t.lineHeight,"px'>&brvbar;</div>");}r.push("</div>"),q++;}this.element=j.setInnerHtml(this.element,r.join("")),this.element.style.height=t.minHeight+"px";};}).call(h.prototype),f.Gutter=h;}),define("ace/layer/marker",["require","exports","module","ace/range","pilot/dom"],function(h,g,n){var m=h("ace/range").Range,k=h("pilot/dom"),j=function(b){this.element=k.createElement("div"),this.element.className="ace_layer ace_marker-layer",b.appendChild(this.element);};(function(){this.$padding=0,this.setPadding=function(b){this.$padding=b;},this.setSession=function(b){this.session=b;},this.setMarkers=function(b){this.markers=b;},this.update=function(o){var o=o||this.config;if(!!o){this.config=o;var e=[];for(var t in this.markers){var s=this.markers[t],r=s.range.clipRows(o.firstRow,o.lastRow);if(r.isEmpty()){continue;}r=r.toScreenRange(this.session);if(s.renderer){var q=this.$getTop(r.start.row,o),p=Math.round(this.$padding+r.start.column*o.characterWidth);s.renderer(e,r,p,q,o);}else{r.isMultiLine()?s.type=="text"?this.drawTextMarker(e,r,s.clazz,o):this.drawMultiLineMarker(e,r,s.clazz,o,s.type):this.drawSingleLineMarker(e,r,s.clazz,o,null,s.type);}}this.element=k.setInnerHtml(this.element,e.join(""));}},this.$getTop=function(d,c){return(d-c.firstRowScreen)*c.lineHeight;},this.drawTextMarker=function(o,d,s,r){var q=d.start.row,p=new m(q,d.start.column,q,this.session.getScreenLastRowColumn(q));this.drawSingleLineMarker(o,p,s,r,1,"text"),q=d.end.row,p=new m(q,0,q,d.end.column),this.drawSingleLineMarker(o,p,s,r,0,"text");for(q=d.start.row+1;q<d.end.row;q++){p.start.row=q,p.end.row=q,p.end.column=this.session.getScreenLastRowColumn(q),this.drawSingleLineMarker(o,p,s,r,1,"text");}},this.drawMultiLineMarker=function(x,w,v,u,t){var s=t==="background"?0:this.$padding,r=u.lineHeight,q=Math.round(u.width-w.start.column*u.characterWidth),p=this.$getTop(w.start.row,u),o=Math.round(s+w.start.column*u.characterWidth);x.push("<div class='",v,"' style='","height:",r,"px;","width:",q,"px;","top:",p,"px;","left:",o,"px;'></div>"),p=this.$getTop(w.end.row,u),q=Math.round(w.end.column*u.characterWidth),x.push("<div class='",v,"' style='","height:",r,"px;","width:",q,"px;","top:",p,"px;","left:",s,"px;'></div>"),r=(w.end.row-w.start.row-1)*u.lineHeight;r<0||(p=this.$getTop(w.start.row+1,u),q=u.width,x.push("<div class='",v,"' style='","height:",r,"px;","width:",q,"px;","top:",p,"px;","left:",s,"px;'></div>"));},this.drawSingleLineMarker=function(y,x,w,v,u,t){var s=t==="background"?0:this.$padding,r=v.lineHeight;if(t==="background"){var q=v.width;}else{q=Math.round((x.end.column+(u||0)-x.start.column)*v.characterWidth);}var p=this.$getTop(x.start.row,v),o=Math.round(s+x.start.column*v.characterWidth);y.push("<div class='",w,"' style='","height:",r,"px;","width:",q,"px;","top:",p,"px;","left:",o,"px;'></div>");};}).call(j.prototype),g.Marker=j;}),define("ace/layer/text",["require","exports","module","pilot/oop","pilot/dom","pilot/lang","pilot/useragent","pilot/event_emitter"],function(s,r,q){var p=s("pilot/oop"),o=s("pilot/dom"),n=s("pilot/lang"),m=s("pilot/useragent"),k=s("pilot/event_emitter").EventEmitter,j=function(b){this.element=o.createElement("div"),this.element.className="ace_layer ace_text-layer",this.element.style.width="auto",b.appendChild(this.element),this.$characterSize=this.$measureSizes()||{width:0,height:0},this.$pollSizeChanges();};(function(){p.implement(this,k),this.EOF_CHAR="&para;",this.EOL_CHAR="&not;",this.TAB_CHAR="&rarr;",this.SPACE_CHAR="&middot;",this.$padding=0,this.setPadding=function(b){this.$padding=b,this.element.style.padding="0 "+b+"px";},this.getLineHeight=function(){return this.$characterSize.height||1;},this.getCharacterWidth=function(){return this.$characterSize.width||1;},this.checkForSizeChanges=function(){var b=this.$measureSizes();b&&(this.$characterSize.width!==b.width||this.$characterSize.height!==b.height)&&(this.$characterSize=b,this._dispatchEvent("changeCharaterSize",{data:b}));},this.$pollSizeChanges=function(){var b=this;this.$pollSizeChangesTimer=setInterval(function(){b.checkForSizeChanges();},500);},this.$fontStyles={fontFamily:1,fontSize:1,fontWeight:1,fontStyle:1,lineHeight:1},this.$measureSizes=function(){var f=1000;if(!this.$measureNode){var e=this.$measureNode=o.createElement("div"),x=e.style;x.width=x.height="auto",x.left=x.top=-f*40+"px",x.visibility="hidden",x.position="absolute",x.overflow="visible",x.whiteSpace="nowrap",e.innerHTML=n.stringRepeat("Xy",f);if(document.body){document.body.appendChild(e);}else{var w=this.element.parentNode;while(!o.hasCssClass(w,"ace_editor")){w=w.parentNode;}w.appendChild(e);}}var x=this.$measureNode.style,v=o.computedStyle(this.element);for(var u in this.$fontStyles){x[u]=v[u];}var t={height:this.$measureNode.offsetHeight,width:this.$measureNode.offsetWidth/(f*2)};return t.width==0&&t.height==0?null:t;},this.setSession=function(b){this.session=b;},this.showInvisibles=!1,this.setShowInvisibles=function(b){if(this.showInvisibles==b){return !1;}this.showInvisibles=b;return !0;},this.$tabStrings=[],this.$computeTabString=function(){var e=this.session.getTabSize(),d=this.$tabStrings=[0];for(var f=1;f<e+1;f++){this.showInvisibles?d.push("<span class='ace_invisible'>"+this.TAB_CHAR+Array(f).join("&#160;")+"</span>"):d.push(Array(f+1).join("&#160;"));}},this.updateLines=function(E,D,C){this.$computeTabString(),(this.config.lastRow!=E.lastRow||this.config.firstRow!=E.firstRow)&&this.scrollLines(E),this.config=E;var B=Math.max(D,E.firstRow),A=Math.min(C,E.lastRow),z=this.element.childNodes,y=0;for(var x=E.firstRow;x<B;x++){var w=this.session.getFoldLine(x);if(w){if(w.containsRow(B)){break;}x=w.end.row;}y++;}for(var v=B;v<=A;v++){var u=z[y++];if(!u){continue;}var t=[],e=this.session.getTokens(v,v);this.$renderLine(t,v,e[0].tokens,!0),u=o.setInnerHtml(u,t.join("")),v=this.session.getRowFoldEnd(v);}},this.scrollLines=function(g){this.$computeTabString();var f=this.config;this.config=g;if(!f||f.lastRow<g.firstRow){return this.update(g);}if(g.lastRow<f.firstRow){return this.update(g);}var u=this.element;if(f.firstRow<g.firstRow){for(var t=this.session.getFoldedRowCount(f.firstRow,g.firstRow-1);t>0;t--){u.removeChild(u.firstChild);}}if(f.lastRow>g.lastRow){for(var t=this.session.getFoldedRowCount(g.lastRow+1,f.lastRow);t>0;t--){u.removeChild(u.lastChild);}}if(g.firstRow<f.firstRow){var h=this.$renderLinesFragment(g,g.firstRow,f.firstRow-1);u.firstChild?u.insertBefore(h,u.firstChild):u.appendChild(h);}if(g.lastRow>f.lastRow){var h=this.$renderLinesFragment(g,f.lastRow+1,g.lastRow);u.appendChild(h);}},this.$renderLinesFragment=function(C,B,A){var z=document.createDocumentFragment(),y=B,x=this.session.getNextFold(y),w=x?x.start.row:Infinity;for(;;){y>w&&(y=x.end.row+1,x=this.session.getNextFold(y),w=x?x.start.row:Infinity);if(y>A){break;}var v=o.createElement("div"),u=[],t=this.session.getTokens(y,y);t.length==1&&this.$renderLine(u,y,t[0].tokens,!1),v.innerHTML=u.join("");var e=v.childNodes;while(e.length){z.appendChild(e[0]);}y++;}return z;},this.update=function(t){this.$computeTabString(),this.config=t;var e=[],z=t.firstRow,y=t.lastRow,x=z,w=this.session.getNextFold(x),v=w?w.start.row:Infinity;for(;;){x>v&&(x=w.end.row+1,w=this.session.getNextFold(x),v=w?w.start.row:Infinity);if(x>y){break;}var u=this.session.getTokens(x,x);u.length==1&&this.$renderLine(e,x,u[0].tokens,!1),x++;}this.element=o.setInnerHtml(this.element,e.join(""));},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(A,z,y,x){var w=this,v=/\t|&|<|( +)|([\v\f \u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000])|[\u1100-\u115F]|[\u11A3-\u11A7]|[\u11FA-\u11FF]|[\u2329-\u232A]|[\u2E80-\u2E99]|[\u2E9B-\u2EF3]|[\u2F00-\u2FD5]|[\u2FF0-\u2FFB]|[\u3000-\u303E]|[\u3041-\u3096]|[\u3099-\u30FF]|[\u3105-\u312D]|[\u3131-\u318E]|[\u3190-\u31BA]|[\u31C0-\u31E3]|[\u31F0-\u321E]|[\u3220-\u3247]|[\u3250-\u32FE]|[\u3300-\u4DBF]|[\u4E00-\uA48C]|[\uA490-\uA4C6]|[\uA960-\uA97C]|[\uAC00-\uD7A3]|[\uD7B0-\uD7C6]|[\uD7CB-\uD7FB]|[\uF900-\uFAFF]|[\uFE10-\uFE19]|[\uFE30-\uFE52]|[\uFE54-\uFE66]|[\uFE68-\uFE6B]|[\uFF01-\uFF60]|[\uFFE0-\uFFE6]/g,u=function(b,F,E,D,C){if(b.charCodeAt(0)==32){return Array(b.length+1).join("&#160;");}if(b=="\t"){var B=w.session.getScreenTabSize(z+D);z+=B-1;return w.$tabStrings[B];}if(b=="&"){return m.isOldGecko?"&":"&amp;";}if(b=="<"){return"&lt;";}if(b.match(/[\v\f \u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000]/)){if(w.showInvisibles){var e=Array(b.length+1).join(w.SPACE_CHAR);return"<span class='ace_invisible'>"+e+"</span>";}return"&#160;";}z+=1;return"<span class='ace_cjk' style='width:"+w.config.characterWidth*2+"px'>"+b+"</span>";},t=x.replace(v,u);if(!this.$textToken[y.type]){var g="ace_"+y.type.replace(/\./g," ace_");A.push("<span class='",g,"'>",t,"</span>");}else{A.push(t);}return z+x.length;},this.$renderLineCore=function(G,F,E,D,C){var B=0,A=0,z,y=this.config.characterWidth,x=0,w=this;!D||D.length==0?z=Number.MAX_VALUE:z=D[0],C||G.push("<div class='ace_line' style='height:",this.config.lineHeight,"px","'>");for(var v=0;v<E.length;v++){var u=E[v],t=u.value;if(B+t.length<z){x=w.$renderToken(G,x,u,t),B+=t.length;}else{while(B+t.length>=z){x=w.$renderToken(G,x,u,t.substring(0,z-B)),t=t.substring(z-B),B=z,C||G.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px","'>"),A++,x=0,z=D[A]||Number.MAX_VALUE;}t.length!=0&&(B+=t.length,x=w.$renderToken(G,x,u,t));}}this.showInvisibles&&(F!==this.session.getLength()-1?G.push("<span class='ace_invisible'>"+this.EOL_CHAR+"</span>"):G.push("<span class='ace_invisible'>"+this.EOF_CHAR+"</span>")),G.push("</div>");},this.$renderLine=function(g,f,u,t){if(!this.session.isRowFolded(f)){var h=this.session.getRowSplitData(f);this.$renderLineCore(g,f,u,h,t);}else{this.$renderFoldLine(g,f,u,t);}},this.$renderFoldLine=function(B,A,z,y){function u(h,g,F){var E=0,D=0;while(D+h[E].value.length<g){D+=h[E].value.length,E++;if(E==h.length){return;}}if(D!=g){var C=h[E].value.substring(g-D);C.length>F-g&&(C=C.substring(0,F-g)),v.push({type:h[E].type,value:C}),D=g+C.length,E+=1;}while(D<F){var C=h[E].value;C.length+D>F&&(C=C.substring(0,F-D)),v.push({type:h[E].type,value:C}),D+=C.length,E+=1;}}var x=this.session,w=x.getFoldLine(A),v=[];w.walk(function(g,c,D,C,h){g?v.push({type:"fold",value:g}):(h&&(z=this.session.getTokens(c,c)[0].tokens),z.length!=0&&u(z,C,D));}.bind(this),w.end.row,this.session.getLine(w.end.row).length);var t=this.session.$useWrapMode?this.session.$wrapData[A]:null;this.$renderLineCore(B,A,v,t,y);},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode;};}).call(j.prototype),r.Text=j;}),define("ace/layer/cursor",["require","exports","module","pilot/dom"],function(g,f,k){var j=g("pilot/dom"),h=function(b){this.element=j.createElement("div"),this.element.className="ace_layer ace_cursor-layer",b.appendChild(this.element),this.cursor=j.createElement("div"),this.cursor.className="ace_cursor ace_hidden",this.element.appendChild(this.cursor),this.isVisible=!1;};(function(){this.$padding=0,this.setPadding=function(b){this.$padding=b;},this.setSession=function(b){this.session=b;},this.hideCursor=function(){this.isVisible=!1,j.addCssClass(this.cursor,"ace_hidden"),clearInterval(this.blinkId);},this.showCursor=function(){this.isVisible=!0,j.removeCssClass(this.cursor,"ace_hidden"),this.cursor.style.visibility="visible",this.restartTimer();},this.restartTimer=function(){clearInterval(this.blinkId);if(!!this.isVisible){var b=this.cursor;this.blinkId=setInterval(function(){b.style.visibility="hidden",setTimeout(function(){b.style.visibility="visible";},400);},1000);}},this.getPixelPosition=function(n){if(!this.config||!this.session){return{left:0,top:0};}var m=this.session.selection.getCursor(),q=this.session.documentToScreenPosition(m),p=Math.round(this.$padding+q.column*this.config.characterWidth),o=(q.row-(n?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:p,top:o};},this.update=function(d){this.config=d,this.pixelPos=this.getPixelPosition(!0),this.cursor.style.left=this.pixelPos.left+"px",this.cursor.style.top=this.pixelPos.top+"px",this.cursor.style.width=d.characterWidth+"px",this.cursor.style.height=d.lineHeight+"px";var c=this.session.getOverwrite();c!=this.overwrite&&(this.overwrite=c,c?j.addCssClass(this.cursor,"ace_overwrite"):j.removeCssClass(this.cursor,"ace_overwrite")),this.restartTimer();},this.destroy=function(){clearInterval(this.blinkId);};}).call(h.prototype),f.Cursor=h;}),define("ace/scrollbar",["require","exports","module","pilot/oop","pilot/dom","pilot/event","pilot/event_emitter"],function(k,j,r){var q=k("pilot/oop"),p=k("pilot/dom"),o=k("pilot/event"),n=k("pilot/event_emitter").EventEmitter,m=function(b){this.element=p.createElement("div"),this.element.className="ace_sb",this.inner=p.createElement("div"),this.element.appendChild(this.inner),b.appendChild(this.element),this.width=p.scrollbarWidth(),this.element.style.width=(this.width||15)+"px",o.addListener(this.element,"scroll",this.onScroll.bind(this));};(function(){q.implement(this,n),this.onScroll=function(){this._dispatchEvent("scroll",{data:this.element.scrollTop});},this.getWidth=function(){return this.width;},this.setHeight=function(b){this.element.style.height=b+"px";},this.setInnerHeight=function(b){this.inner.style.height=b+"px";},this.setScrollTop=function(b){this.element.scrollTop=b;};}).call(m.prototype),j.ScrollBar=m;}),define("ace/renderloop",["require","exports","module","pilot/event"],function(g,f,k){var j=g("pilot/event"),h=function(b){this.onRender=b,this.pending=!1,this.changes=0;};(function(){this.schedule=function(d){this.changes=this.changes|d;if(!this.pending){this.pending=!0;var c=this;this.setTimeoutZero(function(){c.pending=!1;var b=c.changes;c.changes=0,c.onRender(b);});}},this.setTimeoutZero=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,this.setTimeoutZero?this.setTimeoutZero=this.setTimeoutZero.bind(window):window.postMessage?(this.messageName="zero-timeout-message",this.setTimeoutZero=function(d){if(!this.attached){var c=this;j.addListener(window,"message",function(b){c.callback&&b.data==c.messageName&&(j.stopPropagation(b),c.callback());}),this.attached=!0;}this.callback=d,window.postMessage(this.messageName,"*");}):this.setTimeoutZero=function(b){setTimeout(b,0);};}).call(h.prototype),f.RenderLoop=h;}),define("ace/theme/textmate",["require","exports","module","pilot/dom"],function(g,f,k){var j=g("pilot/dom"),h=".ace-tm .ace_editor {\n  border: 2px solid rgb(159, 159, 159);\n}\n\n.ace-tm .ace_editor.ace_focus {\n  border: 2px solid #327fbd;\n}\n\n.ace-tm .ace_gutter {\n  width: 50px;\n  background: #e8e8e8;\n  color: #333;\n  overflow : hidden;\n}\n\n.ace-tm .ace_gutter-layer {\n  width: 100%;\n  text-align: right;\n}\n\n.ace-tm .ace_gutter-layer .ace_gutter-cell {\n  padding-right: 6px;\n}\n\n.ace-tm .ace_print_margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_text-layer {\n  cursor: text;\n}\n\n.ace-tm .ace_cursor {\n  border-left: 2px solid black;\n}\n\n.ace-tm .ace_cursor.ace_overwrite {\n  border-left: 0px;\n  border-bottom: 1px solid black;\n}\n        \n.ace-tm .ace_line .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_line .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_line .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_line .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_line .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_line .ace_invalid {\n  background-color: rgb(153, 0, 0);\n  color: white;\n}\n\n.ace-tm .ace_line .ace_fold {\n    background-color: #E4E4E4;\n    border-radius: 3px;\n}\n\n.ace-tm .ace_line .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_line .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_line .ace_support.ace_type,\n.ace-tm .ace_line .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_line .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_line .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_line .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_line .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_line .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_line .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_line .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_line .ace_xml_pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active_line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_marker-layer .ace_selected_word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}";j.importCssString(h),f.cssClass="ace-tm";}),define("pilot/environment",["require","exports","module","pilot/settings"],function(g,f,k){function h(){return{settings:j};}var j=g("pilot/settings").settings;f.create=h;}),define("text/cockpit/ui/cli_view.css",[],"#cockpitInput { padding-left: 16px; }.cptOutput { overflow: auto; position: absolute; z-index: 999; display: none; }.cptCompletion { padding: 0; position: absolute; z-index: -1000; }.cptCompletion.VALID { background: #FFF; }.cptCompletion.INCOMPLETE { background: #DDD; }.cptCompletion.INVALID { background: #DDD; }.cptCompletion span { color: #FFF; }.cptCompletion span.INCOMPLETE { color: #DDD; border-bottom: 2px dotted #F80; }.cptCompletion span.INVALID { color: #DDD; border-bottom: 2px dotted #F00; }span.cptPrompt { color: #66F; font-weight: bold; }.cptHints {  color: #000;  position: absolute;  border: 1px solid rgba(230, 230, 230, 0.8);  background: rgba(250, 250, 250, 0.8);  -moz-border-radius-topleft: 10px;  -moz-border-radius-topright: 10px;  border-top-left-radius: 10px; border-top-right-radius: 10px;  z-index: 1000;  padding: 8px;  display: none;}.cptFocusPopup { display: block; }.cptFocusPopup.cptNoPopup { display: none; }.cptHints ul { margin: 0; padding: 0 15px; }.cptGt { font-weight: bold; font-size: 120%; }"),define("text/cockpit/ui/request_view.css",[],".cptRowIn {  display: box; display: -moz-box; display: -webkit-box;  box-orient: horizontal; -moz-box-orient: horizontal; -webkit-box-orient: horizontal;  box-align: center; -moz-box-align: center; -webkit-box-align: center;  color: #333;  background-color: #EEE;  width: 100%;  font-family: consolas, courier, monospace;}.cptRowIn > * { padding-left: 2px; padding-right: 2px; }.cptRowIn > img { cursor: pointer; }.cptHover { display: none; }.cptRowIn:hover > .cptHover { display: block; }.cptRowIn:hover > .cptHover.cptHidden { display: none; }.cptOutTyped {  box-flex: 1; -moz-box-flex: 1; -webkit-box-flex: 1;  font-weight: bold; color: #000; font-size: 120%;}.cptRowOutput { padding-left: 10px; line-height: 1.2em; }.cptRowOutput strong,.cptRowOutput b,.cptRowOutput th,.cptRowOutput h1,.cptRowOutput h2,.cptRowOutput h3 { color: #000; }.cptRowOutput a { font-weight: bold; color: #666; text-decoration: none; }.cptRowOutput a: hover { text-decoration: underline; cursor: pointer; }.cptRowOutput input[type=password],.cptRowOutput input[type=text],.cptRowOutput textarea {  color: #000; font-size: 120%;  background: transparent; padding: 3px;  border-radius: 5px; -moz-border-radius: 5px; -webkit-border-radius: 5px;}.cptRowOutput table,.cptRowOutput td,.cptRowOutput th { border: 0; padding: 0 2px; }.cptRowOutput .right { text-align: right; }"),define("text/ace/css/editor.css",[],'.ace_editor {    position: absolute;    overflow: hidden;    font-family: Monaco, "Menlo", "Courier New", monospace;    font-size: 12px;}.ace_scroller {    position: absolute;    overflow-x: scroll;    overflow-y: hidden;}.ace_content {    position: absolute;    box-sizing: border-box;    -moz-box-sizing: border-box;    -webkit-box-sizing: border-box;}.ace_composition {    position: absolute;    background: #555;    color: #DDD;    z-index: 4;}.ace_gutter {    position: absolute;    overflow-x: hidden;    overflow-y: hidden;    height: 100%;}.ace_gutter-cell.ace_error {    background-image: url("data:image/gif,GIF89a%10%00%10%00%D5%00%00%F5or%F5%87%88%F5nr%F4ns%EBmq%F5z%7F%DDJT%DEKS%DFOW%F1Yc%F2ah%CE(7%CE)8%D18E%DD%40M%F2KZ%EBU%60%F4%60m%DCir%C8%16(%C8%19*%CE%255%F1%3FR%F1%3FS%E6%AB%B5%CA%5DI%CEn%5E%F7%A2%9A%C9G%3E%E0a%5B%F7%89%85%F5yy%F6%82%80%ED%82%80%FF%BF%BF%E3%C4%C4%FF%FF%FF%FF%FF%FF%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00!%F9%04%01%00%00%25%00%2C%00%00%00%00%10%00%10%00%00%06p%C0%92pH%2C%1A%8F%C8%D2H%93%E1d4%23%E4%88%D3%09mB%1DN%B48%F5%90%40%60%92G%5B%94%20%3E%22%D2%87%24%FA%20%24%C5%06A%00%20%B1%07%02B%A38%89X.v%17%82%11%13q%10%0Fi%24%0F%8B%10%7BD%12%0Ei%09%92%09%0EpD%18%15%24%0A%9Ci%05%0C%18F%18%0B%07%04%01%04%06%A0H%18%12%0D%14%0D%12%A1I%B3%B4%B5IA%00%3B");    background-repeat: no-repeat;    background-position: 4px center;}.ace_gutter-cell.ace_warning {    background-image: url("data:image/gif,GIF89a%10%00%10%00%D5%00%00%FF%DBr%FF%DE%81%FF%E2%8D%FF%E2%8F%FF%E4%96%FF%E3%97%FF%E5%9D%FF%E6%9E%FF%EE%C1%FF%C8Z%FF%CDk%FF%D0s%FF%D4%81%FF%D5%82%FF%D5%83%FF%DC%97%FF%DE%9D%FF%E7%B8%FF%CCl%7BQ%13%80U%15%82W%16%81U%16%89%5B%18%87%5B%18%8C%5E%1A%94d%1D%C5%83-%C9%87%2F%C6%84.%C6%85.%CD%8B2%C9%871%CB%8A3%CD%8B5%DC%98%3F%DF%9BB%E0%9CC%E1%A5U%CB%871%CF%8B5%D1%8D6%DB%97%40%DF%9AB%DD%99B%E3%B0p%E7%CC%AE%FF%FF%FF%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00!%F9%04%01%00%00%2F%00%2C%00%00%00%00%10%00%10%00%00%06a%C0%97pH%2C%1A%8FH%A1%ABTr%25%87%2B%04%82%F4%7C%B9X%91%08%CB%99%1C!%26%13%84*iJ9(%15G%CA%84%14%01%1A%97%0C%03%80%3A%9A%3E%81%84%3E%11%08%B1%8B%20%02%12%0F%18%1A%0F%0A%03\'F%1C%04%0B%10%16%18%10%0B%05%1CF%1D-%06%07%9A%9A-%1EG%1B%A0%A1%A0U%A4%A5%A6BA%00%3B");    background-repeat: no-repeat;    background-position: 4px center;}.ace_editor .ace_sb {    position: absolute;    overflow-x: hidden;    overflow-y: scroll;    right: 0;}.ace_editor .ace_sb div {    position: absolute;    width: 1px;    left: 0;}.ace_editor .ace_print_margin_layer {    z-index: 0;    position: absolute;    overflow: hidden;    margin: 0;    left: 0;    height: 100%;    width: 100%;}.ace_editor .ace_print_margin {    position: absolute;    height: 100%;}.ace_editor textarea {    position: fixed;    z-index: -1;    width: 10px;    height: 30px;    opacity: 0;    background: transparent;    appearance: none;    -moz-appearance: none;    border: none;    resize: none;    outline: none;    overflow: hidden;}.ace_layer {    z-index: 1;    position: absolute;    overflow: hidden;    white-space: nowrap;    height: 100%;    width: 100%;}.ace_text-layer {    color: black;}.ace_cjk {    display: inline-block;    text-align: center;}.ace_cursor-layer {    z-index: 4;    cursor: text;    /* setting pointer-events: none; here will break mouse wheel scrolling in Safari */}.ace_cursor {    z-index: 4;    position: absolute;}.ace_cursor.ace_hidden {    opacity: 0.2;}.ace_line {    white-space: nowrap;}.ace_marker-layer {    cursor: text;    pointer-events: none;}.ace_marker-layer .ace_step {    position: absolute;    z-index: 3;}.ace_marker-layer .ace_selection {    position: absolute;    z-index: 4;}.ace_marker-layer .ace_bracket {    position: absolute;    z-index: 5;}.ace_marker-layer .ace_active_line {    position: absolute;    z-index: 2;}.ace_marker-layer .ace_selected_word {    position: absolute;    z-index: 6;    box-sizing: border-box;    -moz-box-sizing: border-box;    -webkit-box-sizing: border-box;}.ace_line .ace_fold {    cursor: pointer;}.ace_dragging .ace_marker-layer, .ace_dragging .ace_text-layer {  cursor: move;}'),define("text/build/demo/styles.css",[],"html {    height: 100%;    width: 100%;    overflow: hidden;}body {    overflow: hidden;    margin: 0;    padding: 0;    height: 100%;    width: 100%;    font-family: Arial, Helvetica, sans-serif, Tahoma, Verdana, sans-serif;    font-size: 12px;    background: rgb(14, 98, 165);    color: white;}#logo {    padding: 15px;    margin-left: 65px;}#editor {    position: absolute;    top:  0px;    left: 280px;    bottom: 0px;    right: 0px;    background: white;}#controls {    padding: 5px;}#controls td {    text-align: right;}#controls td + td {    text-align: left;}#cockpitInput {    position: absolute;    left: 280px;    right: 0px;    bottom: 0;    border: none; outline: none;    font-family: consolas, courier, monospace;    font-size: 120%;}#cockpitOutput {    padding: 10px;    margin: 0 15px;    border: 1px solid #AAA;    -moz-border-radius-topleft: 10px;    -moz-border-radius-topright: 10px;    border-top-left-radius: 4px; border-top-right-radius: 4px;    background: #DDD; color: #000;}"),define("text/build_support/style.css",[],"body {    margin:0;    padding:0;    background-color:#e6f5fc;    }H2, H3, H4 {    font-family:Trebuchet MS;    font-weight:bold;    margin:0;    padding:0;}H2 {    font-size:28px;    color:#263842;    padding-bottom:6px;}H3 {    font-family:Trebuchet MS;    font-weight:bold;    font-size:22px;    color:#253741;    margin-top:43px;    margin-bottom:8px;}H4 {    font-family:Trebuchet MS;    font-weight:bold;    font-size:21px;    color:#222222;    margin-bottom:4px;}P {    padding:13px 0;    margin:0;    line-height:22px;}UL{    line-height : 22px;}PRE{    background : #333;    color : white;    padding : 10px;}#header {    height : 227px;    position:relative;    overflow:hidden;    background: url(images/background.png) repeat-x 0 0;    border-bottom:1px solid #c9e8fa;   }#header .content .signature {    font-family:Trebuchet MS;    font-size:11px;    color:#ebe4d6;    position:absolute;    bottom:5px;    right:42px;    letter-spacing : 1px;}.content {    width:970px;    position:relative;    overflow:hidden;    margin:0 auto;}#header .content {    height:184px;    margin-top:22px;}#header .content .logo {    width  : 282px;    height : 184px;    background:url(images/logo.png) no-repeat 0 0;    position:absolute;    top:0;    left:0;}#header .content .title {    width  : 605px;    height : 58px;    background:url(images/ace.png) no-repeat 0 0;    position:absolute;    top:98px;    left:329px;}#wrapper {    background:url(images/body_background.png) repeat-x 0 0;    min-height:250px;}#wrapper .content {    font-family:Arial;    font-size:14px;    color:#222222;    width:1000px;}#wrapper .content .column1 {    position:relative;    overflow:hidden;    float:left;    width:315px;    margin-right:31px;}#wrapper .content .column2 {    position:relative;    overflow:hidden;    float:left;    width:600px;    padding-top:47px;}.fork_on_github {    width:310px;    height:80px;    background:url(images/fork_on_github.png) no-repeat 0 0;    position:relative;    overflow:hidden;    margin-top:49px;    cursor:pointer;}.fork_on_github:hover {    background-position:0 -80px;}.divider {    height:3px;    background-color:#bedaea;    margin-bottom:3px;}.menu {    padding:23px 0 0 24px;}UL.content-list {    padding:15px;    margin:0;}UL.menu-list {    padding:0;    margin:0 0 20px 0;    list-style-type:none;    line-height : 16px;}UL.menu-list LI {    color:#2557b4;    font-family:Trebuchet MS;    font-size:14px;    padding:7px 0;    border-bottom:1px dotted #d6e2e7;}UL.menu-list LI:last-child {    border-bottom:0;}A {    color:#2557b4;    text-decoration:none;}A:hover {    text-decoration:underline;}P#first{    background : rgba(255,255,255,0.5);    padding : 20px;    font-size : 16px;    line-height : 24px;    margin : 0 0 20px 0;}#footer {    height:40px;    position:relative;    overflow:hidden;    background:url(images/bottombar.png) repeat-x 0 0;    position:relative;    margin-top:40px;}UL.menu-footer {    padding:0;    margin:8px 11px 0 0;    list-style-type:none;    float:right;}UL.menu-footer LI {    color:white;    font-family:Arial;    font-size:12px;    display:inline-block;    margin:0 1px;}UL.menu-footer LI A {    color:#8dd0ff;    text-decoration:none;}UL.menu-footer LI A:hover {    text-decoration:underline;}"),define("text/demo/styles.css",[],"html {    height: 100%;    width: 100%;    overflow: hidden;}body {    overflow: hidden;    margin: 0;    padding: 0;    height: 100%;    width: 100%;    font-family: Arial, Helvetica, sans-serif, Tahoma, Verdana, sans-serif;    font-size: 12px;    background: rgb(14, 98, 165);    color: white;}#logo {    padding: 15px;    margin-left: 65px;}#editor {    position: absolute;    top:  0px;    left: 280px;    bottom: 0px;    right: 0px;    background: white;}#controls {    padding: 5px;}#controls td {    text-align: right;}#controls td + td {    text-align: left;}#cockpitInput {    position: absolute;    left: 280px;    right: 0px;    bottom: 0;    border: none; outline: none;    font-family: consolas, courier, monospace;    font-size: 120%;}#cockpitOutput {    padding: 10px;    margin: 0 15px;    border: 1px solid #AAA;    -moz-border-radius-topleft: 10px;    -moz-border-radius-topright: 10px;    border-top-left-radius: 4px; border-top-right-radius: 4px;    background: #DDD; color: #000;}"),define("text/deps/csslint/demos/demo.css",[],'@charset "UTF-8";@import url("booya.css") print,screen;@import "whatup.css" screen;@import "wicked.css";@namespace "http://www.w3.org/1999/xhtml";@namespace svg "http://www.w3.org/2000/svg";li.inline #foo {  background: url("something.png");  display: inline;  padding-left: 3px;  padding-right: 7px;  border-right: 1px dotted #066;}li.last.first {  display: inline;  padding-left: 3px !important;  padding-right: 3px;  border-right: 0px;}@media print {    li.inline {      color: black;    }@charset "UTF-8"; @page {  margin: 10%;  counter-increment: page;  @top-center {    font-family: sans-serif;    font-weight: bold;    font-size: 2em;    content: counter(page);  }}'),define("text/deps/requirejs/dist/ie.css",[],"body .sect {    display: none;}#content ul.index {    list-style: none;}"),define("text/deps/requirejs/dist/main.css",[],'@font-face {    font-family: Inconsolata;    src: url("fonts/Inconsolata.ttf");}* {    -moz-box-sizing: border-box;    -webkit-box-sizing: border-box;    box-sizing: border-box;    margin: 0;    padding: 0;}body {    font-size: 12px;    line-height: 21px;    background-color: #fff;    font-family: "Helvetica Neue", Helvetica, Arial, Verdana, sans-serif;    color: #0a0a0a;}#wrapper {    margin: 0;}#grid {    position: fixed;    top: 0;    left: 0;    width: 796px;    background-image: url("i/grid.png");    z-index: 100;}pre {    line-height: 18px;    font-size: 13px;    margin: 7px 0 21px;    padding: 5px 10px;    overflow: auto;    background-color: #fafafa;    border: 1px solid #e6e6e6;    -moz-border-radius: 5px;    -webkit-border-radius: 5px;    border-radius: 5px;    -moz-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);    -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);}/*    typography stuff*/.mono {    font-family: "Inconsolata", Andale Mono, Monaco, Monospace;}.sans {    font-family: "Helvetica Neue", Helvetica, Arial, Verdana, sans-serif;}.serif {    font-family: "Georgia", Times New Roman, Times, serif;}a {    color: #2e87dd;    text-decoration: none;}a:hover {    text-decoration: underline;}/*    navigation*/#navBg {    background-color: #f2f2f2;    background-image: url("i/shadow.png");    background-position: right top;    background-repeat: repeat-y;    width: 220px;    position: fixed;    top: 0;    left: 0;    z-index: 0;}#nav {    background-image: url("i/logo.png");    background-repeat: no-repeat;    background-position: center 10px;    width: 220px;    float: left;    margin: 0;    padding: 150px 20px 0;    font-size: 13px;    text-shadow: 1px 1px #fff;    position: relative;    z-index: 1;}#nav .homeImageLink {    position: absolute;    display: block;    top: 10px;    left: 0;    width: 220px;    height: 138px;}#nav ul {    list-style-type:none;    padding: 0;    margin: 21px 0 0 0;}#nav ul li {    width: 100%;}#nav ul li.version {    text-align: center;    color: #4d4d4d;}#nav h1 {    color: #4d4d4d;    text-align: center;    font-size: 15px;    font-weight: normal;    text-transform: uppercase;    letter-spacing: 3px;}span.spacer {    color: #2e87dd;    margin: 0 3px 0 5px;    background-image: url("i/dot.png");    background-repeat: repeat-x;    background-position: left 13px;}/*    icons*/span.icon {    width: 16px;    display: block;    background-image: url("i/sprite.png");    background-repeat: no-repeat;}span.icon.home {    background-position: center 5px;}span.icon.start {    background-position: center -27px;}span.icon.download {    background-position: center -59px;}span.icon.api {    background-position: center -89px;}span.icon.optimize {    background-position: center -119px;}span.icon.script {    background-position: center -150px;}span.icon.question {    background-position: center -182px;}span.icon.requirement {    background-position: center -214px;}span.icon.history {    background-position: center -247px;}span.icon.help {    background-position: center -279px;}span.icon.blog {    background-position: center -311px;}span.icon.twitter {    background-position: center -343px;}span.icon.git {    background-position: center -375px;}span.icon.fork {    background-position: center -407px;}/*    content*/#content {    margin: 0 0 0 220px;    padding: 0 20px;    background-color: #fff;    font-family: "Georgia", Times New Roman, Times, serif;    position: relative;}#content p {    padding: 7px 0;    color: #333;    font-size: 14px;}#content h1,#content h2,#content h3,#content h4,#content h5 {    font-weight: normal;    padding: 21px 0 7px;}#content h1 {    font-size: 21px;}#content h2 {    padding: 0 0 18px 0;    margin: 0 0 7px 0;    font-weight: normal;    font-size: 21px;    line-height: 24px;    text-align: center;    color: #222;    background-image: url("i/arrow.png");    background-repeat: no-repeat;    background-position: center bottom;    font-family: "Inconsolata", Andale Mono, Monaco, Monospace;    text-transform: uppercase;    letter-spacing: 2px;    text-shadow: 1px 1px 0 #fff;}#content h2 a {    color: #222;}#content h2 a:hover,#content h3 a:hover,#content h4 a:hover {    text-decoration: none;}span.sectionMark {    display: block;    color: #aaa;    text-shadow: 1px 1px 0 #fff;    font-size: 15px;    font-family: "Inconsolata", Andale Mono, Monaco, Monospace;}#content h3 {    font-size: 17px;}#content h4 {    padding-top: 0;    font-size: 15px;}#content h5 {    font-size: 10px;}#content ul {    list-style-type: disc;}#content ul,#content ol {    /* border-left: 1px solid #333; */    color: #333;    font-size: 14px;    list-style-position: outside;    margin: 7px 0 21px 0;    /* padding: 0 0 0 28px; */}#content ul {    font-style: italic;}#content ol {    border: none;    list-style-position: inside;    padding: 0;    font-family: "Georgia", Times New Roman, Times, serif;}#content ul ul,#content ol ol {    border: none;    padding: 0;    margin: 0 0 0 28px;}#content .section {    padding: 48px 0;    background-image: url("i/line.png");    background-repeat: no-repeat;    background-position: center bottom;    width: 576px;    margin: 0 auto;}#content .section .subSection {    padding: 0 0 0 48px;    margin: 28px 0 0 0;    display: block;    border-left: 2px solid #ddd;}#content .section:last-child {    background-image: none;}#content .note {    color: #222;    background-color: #ffff99;    padding: 5px 10px;    margin: 7px 0;    display: inline-block;}/*    page directory*/#content #directory.section {    background-color: #fff;    width: 576px;}#content #directory.section ul ul ul {    margin: 0 0 0 48px;}#content #directory.section ul ul li {    background-image: url("i/sprite.png");    background-repeat: no-repeat;    background-position: left -437px;    padding-left: 18px;    font-style: normal;}#content #directory h1 {    padding: 0 0 65px 0;    margin: 0 0 14px 0;    font-weight: normal;    font-size: 21px;    text-align: center;    text-transform: uppercase;    letter-spacing: 2px;    color: #222;    background-image: url("i/arrow-x.png");    background-repeat: no-repeat;    background-position: center bottom;    font-family: "Inconsolata", Andale Mono, Monaco, Monospace;}#content ul.index {    padding: 0;    background-color: transparent;    border: none;    -moz-box-shadow: none;    font-style: normal;    font-family: "Inconsolata", Andale Mono, Monaco, Monospace;}#content ul.index li {    width: 100%;    font-size: 15px;    color: #333;    padding: 0 0 7px 0;}/*    intro page specific*/#content #intro {    width: 576px;    margin: 0 auto;    padding: 21px 0;}#content #intro p,#content #intro h1 {    font-size: 19px;    line-height: 28px;    color: green;    letter-spacing: 2px;    padding: 0 0 28px 0;}#content #intro p:last-child,#content #intro h1:last-child {    padding: 0;}#content #intro p a {    color: green;    text-decoration: underline;}/*    download page*/#content h4 a.download {    -webkit-border-radius: 5px;    -moz-border-radius: 5px;    background-color: #F2F2F2;    background-image: url("i/sprite.png"), -moz-linear-gradient(center top , #FAFAFA 0%, #F2F2F2 100%);    background-image: url("i/sprite.png"), -webkit-gradient(linear, left top, left bottom, color-stop(0%, #fafafa), color-stop(100%, #f2f2f2));    background-position: 7px -58px, center center;    background-repeat: no-repeat, no-repeat;    border: 1px solid #CCCCCC;    color: #333333;    font-size: 12px;    margin: 0 0 0 5px;    padding: 0 10px 0 25px;    text-shadow: 1px 1px 0 #FFFFFF;}/*    footer*/#footer {    color: #4d4d4d;    padding: 65px 20px 20px;    margin: 20px 0 0 220px;    text-align: center;    display: block;    font-size: 13px;    background-image: url("i/arrow-x.png");    background-repeat: no-repeat;    background-position: center top;    background-color: #fff;}#footer .line {    display: block;}#footer .line a {    color: #4d4d4d;    text-decoration: underline;}/*    Pygments manni style*/code {background-color: #fafafa; color: #333;}code .comment {color: green; font-style: italic}code .comment.preproc {color: #099; font-style: normal}code .comment.special {font-weight: bold}code .keyword {color: #069; font-weight: bold}code .keyword.pseudo {font-weight: normal}code .keyword.type {color: #078}code .operator {color: #555}code .operator.word {color: #000; font-weight: bold}code .name.builtin {color: #366}code .name.function {color: #c0f}code .name.class {color: #0a8; font-weight: bold}code .name.namespace {color: #0cf; font-weight: bold}code .name.exception {color: #c00; font-weight: bold}code .name.variable {color: #033}code .name.constant {color: #360}code .name.label {color: #99f}code .name.entity {color: #999; font-weight: bold}code .name.attribute {color: #309}code .name.tag {color: #309; font-weight: bold}code .name.decorator {color: #99f}code .string {color: #c30}code .string.doc {font-style: italic}code .string.interpol {color: #a00}code .string.escape {color: #c30; font-weight: bold}code .string.regex {color: #3aa}code .string.symbol {color: #fc3}code .string.other {color: #c30}code .number {color: #f60}/*    webkit scroll bars*/pre::-webkit-scrollbar {    width: 6px;    height: 6px;}pre::-webkit-scrollbar-button:start:decrement,pre::-webkit-scrollbar-button:end:increment {    display: block;    height: 0;    width: 0;}pre::-webkit-scrollbar-button:vertical:increment,pre::-webkit-scrollbar-button:horizontal:increment {    background-color: transparent;    display: block;    height: 0;    width: 0;}pre::-webkit-scrollbar-track-piece {    -webkit-border-radius: 3px;}pre::-webkit-scrollbar-thumb:vertical {    background-color: #aaa;    -webkit-border-radius: 3px;}pre::-webkit-scrollbar-thumb:horizontal {    background-color: #aaa;    -webkit-border-radius: 3px;}/*    hbox*/.hbox {\tdisplay: -webkit-box;\t-webkit-box-orient: horizontal;\t-webkit-box-align: stretch;\tdisplay: -moz-box;\t-moz-box-orient: horizontal;\t-moz-box-align: stretch;\tdisplay: box;\tbox-orient: horizontal;\tbox-align: stretch;\twidth: 100%;}.hbox > * {\t-webkit-box-flex: 0;\t-moz-box-flex: 0;\tbox-flex: 0;\tdisplay: block;}.vbox {\tdisplay: -webkit-box;\t-webkit-box-orient: vertical;\t-webkit-box-align: stretch;\tdisplay: -moz-box;\t-moz-box-orient: vertical;\t-moz-box-align: stretch;\tdisplay: box;\tbox-orient: vertical;\tbox-align: stretch;}.vbox > * {\t-webkit-box-flex: 0;\t-moz-box-flex: 0;\tbox-flex: 0;\tdisplay: block;}.spacer {\t-webkit-box-flex: 1;\t-moz-box-flex: 1;\tbox-flex: 1;}.reverse {\t-webkit-box-direction: reverse;\t-moz-box-direction: reverse;\tbox-direction: reverse;}.boxFlex0 {\t-webkit-box-flex: 0;\t-moz-box-flex: 0;\tbox-flex: 0;}.boxFlex1, .boxFlex {\t-webkit-box-flex: 1;\t-moz-box-flex: 1;\tbox-flex: 1;}.boxFlex2 {\t-webkit-box-flex: 2;\t-moz-box-flex: 2;\tbox-flex: 2;}.boxGroup1 {\t-webkit-box-flex-group: 1;\t-moz-box-flex-group: 1;\tbox-flex-group: 1;}.boxGroup2 {\t-webkit-box-flex-group: 2;\t-moz-box-flex-group: 2;\tbox-flex-group: 2;}.start {\t-webkit-box-pack: start;\t-moz-box-pack: start;\tbox-pack: start;}.end {\t-webkit-box-pack: end;\t-moz-box-pack: end;\tbox-pack: end;}.center {\t-webkit-box-pack: center;\t-moz-box-pack: center;\tbox-pack: center;}/*    clearfix*/.clearfix:after {\tcontent: ".";\tdisplay: block;\tclear: both;\tvisibility: hidden;\tline-height: 0;\theight: 0;}html[xmlns] .clearfix {\tdisplay: block;}* html .clearfix {\theight: 1%;}'),define("text/lib/ace/css/editor.css",[],'.ace_editor {    position: absolute;    overflow: hidden;    font-family: Monaco, "Menlo", "Courier New", monospace;    font-size: 12px;}.ace_scroller {    position: absolute;    overflow-x: scroll;    overflow-y: hidden;}.ace_content {    position: absolute;    box-sizing: border-box;    -moz-box-sizing: border-box;    -webkit-box-sizing: border-box;}.ace_composition {    position: absolute;    background: #555;    color: #DDD;    z-index: 4;}.ace_gutter {    position: absolute;    overflow-x: hidden;    overflow-y: hidden;    height: 100%;}.ace_gutter-cell.ace_error {    background-image: url("data:image/gif,GIF89a%10%00%10%00%D5%00%00%F5or%F5%87%88%F5nr%F4ns%EBmq%F5z%7F%DDJT%DEKS%DFOW%F1Yc%F2ah%CE(7%CE)8%D18E%DD%40M%F2KZ%EBU%60%F4%60m%DCir%C8%16(%C8%19*%CE%255%F1%3FR%F1%3FS%E6%AB%B5%CA%5DI%CEn%5E%F7%A2%9A%C9G%3E%E0a%5B%F7%89%85%F5yy%F6%82%80%ED%82%80%FF%BF%BF%E3%C4%C4%FF%FF%FF%FF%FF%FF%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00!%F9%04%01%00%00%25%00%2C%00%00%00%00%10%00%10%00%00%06p%C0%92pH%2C%1A%8F%C8%D2H%93%E1d4%23%E4%88%D3%09mB%1DN%B48%F5%90%40%60%92G%5B%94%20%3E%22%D2%87%24%FA%20%24%C5%06A%00%20%B1%07%02B%A38%89X.v%17%82%11%13q%10%0Fi%24%0F%8B%10%7BD%12%0Ei%09%92%09%0EpD%18%15%24%0A%9Ci%05%0C%18F%18%0B%07%04%01%04%06%A0H%18%12%0D%14%0D%12%A1I%B3%B4%B5IA%00%3B");    background-repeat: no-repeat;    background-position: 4px center;}.ace_gutter-cell.ace_warning {    background-image: url("data:image/gif,GIF89a%10%00%10%00%D5%00%00%FF%DBr%FF%DE%81%FF%E2%8D%FF%E2%8F%FF%E4%96%FF%E3%97%FF%E5%9D%FF%E6%9E%FF%EE%C1%FF%C8Z%FF%CDk%FF%D0s%FF%D4%81%FF%D5%82%FF%D5%83%FF%DC%97%FF%DE%9D%FF%E7%B8%FF%CCl%7BQ%13%80U%15%82W%16%81U%16%89%5B%18%87%5B%18%8C%5E%1A%94d%1D%C5%83-%C9%87%2F%C6%84.%C6%85.%CD%8B2%C9%871%CB%8A3%CD%8B5%DC%98%3F%DF%9BB%E0%9CC%E1%A5U%CB%871%CF%8B5%D1%8D6%DB%97%40%DF%9AB%DD%99B%E3%B0p%E7%CC%AE%FF%FF%FF%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00!%F9%04%01%00%00%2F%00%2C%00%00%00%00%10%00%10%00%00%06a%C0%97pH%2C%1A%8FH%A1%ABTr%25%87%2B%04%82%F4%7C%B9X%91%08%CB%99%1C!%26%13%84*iJ9(%15G%CA%84%14%01%1A%97%0C%03%80%3A%9A%3E%81%84%3E%11%08%B1%8B%20%02%12%0F%18%1A%0F%0A%03\'F%1C%04%0B%10%16%18%10%0B%05%1CF%1D-%06%07%9A%9A-%1EG%1B%A0%A1%A0U%A4%A5%A6BA%00%3B");    background-repeat: no-repeat;    background-position: 4px center;}.ace_editor .ace_sb {    position: absolute;    overflow-x: hidden;    overflow-y: scroll;    right: 0;}.ace_editor .ace_sb div {    position: absolute;    width: 1px;    left: 0;}.ace_editor .ace_print_margin_layer {    z-index: 0;    position: absolute;    overflow: hidden;    margin: 0;    left: 0;    height: 100%;    width: 100%;}.ace_editor .ace_print_margin {    position: absolute;    height: 100%;}.ace_editor textarea {    position: fixed;    z-index: -1;    width: 10px;    height: 30px;    opacity: 0;    background: transparent;    appearance: none;    -moz-appearance: none;    border: none;    resize: none;    outline: none;    overflow: hidden;}.ace_layer {    z-index: 1;    position: absolute;    overflow: hidden;    white-space: nowrap;    height: 100%;    width: 100%;}.ace_text-layer {    color: black;}.ace_cjk {    display: inline-block;    text-align: center;}.ace_cursor-layer {    z-index: 4;    cursor: text;    /* setting pointer-events: none; here will break mouse wheel scrolling in Safari */}.ace_cursor {    z-index: 4;    position: absolute;}.ace_cursor.ace_hidden {    opacity: 0.2;}.ace_line {    white-space: nowrap;}.ace_marker-layer {    cursor: text;    pointer-events: none;}.ace_marker-layer .ace_step {    position: absolute;    z-index: 3;}.ace_marker-layer .ace_selection {    position: absolute;    z-index: 4;}.ace_marker-layer .ace_bracket {    position: absolute;    z-index: 5;}.ace_marker-layer .ace_active_line {    position: absolute;    z-index: 2;}.ace_marker-layer .ace_selected_word {    position: absolute;    z-index: 6;    box-sizing: border-box;    -moz-box-sizing: border-box;    -webkit-box-sizing: border-box;}.ace_line .ace_fold {    cursor: pointer;}.ace_dragging .ace_marker-layer, .ace_dragging .ace_text-layer {  cursor: move;}'),define("text/node_modules/uglify-js/docstyle.css",[],'html { font-family: "Lucida Grande","Trebuchet MS",sans-serif; font-size: 12pt; }body { max-width: 60em; }.title  { text-align: center; }.todo   { color: red; }.done   { color: green; }.tag    { background-color:lightblue; font-weight:normal }.target { }.timestamp { color: grey }.timestamp-kwd { color: CadetBlue }p.verse { margin-left: 3% }pre {  border: 1pt solid #AEBDCC;  background-color: #F3F5F7;  padding: 5pt;  font-family: monospace;  font-size: 90%;  overflow:auto;}pre.src {  background-color: #eee; color: #112; border: 1px solid #000;}table { border-collapse: collapse; }td, th { vertical-align: top; }dt { font-weight: bold; }div.figure { padding: 0.5em; }div.figure p { text-align: center; }.linenr { font-size:smaller }.code-highlighted {background-color:#ffff00;}.org-info-js_info-navigation { border-style:none; }#org-info-js_console-label { font-size:10px; font-weight:bold;  white-space:nowrap; }.org-info-js_search-highlight {background-color:#ffff00; color:#000000;  font-weight:bold; }sup {  vertical-align: baseline;  position: relative;  top: -0.5em;  font-size: 80%;}sup a:link, sup a:visited {  text-decoration: none;  color: #c00;}sup a:before { content: "["; color: #999; }sup a:after { content: "]"; color: #999; }h1.title { border-bottom: 4px solid #000; padding-bottom: 5px; margin-bottom: 2em; }#postamble {  color: #777;  font-size: 90%;  padding-top: 1em; padding-bottom: 1em; border-top: 1px solid #999;  margin-top: 2em;  padding-left: 2em;  padding-right: 2em;  text-align: right;}#postamble p { margin: 0; }#footnotes { border-top: 1px solid #000; }h1 { font-size: 200% }h2 { font-size: 175% }h3 { font-size: 150% }h4 { font-size: 125% }h1, h2, h3, h4 { font-family: "Bookman",Georgia,"Times New Roman",serif; font-weight: normal; }@media print {  html { font-size: 11pt; }}'),define("text/support/cockpit/lib/cockpit/ui/cli_view.css",[],"#cockpitInput { padding-left: 16px; }.cptOutput { overflow: auto; position: absolute; z-index: 999; display: none; }.cptCompletion { padding: 0; position: absolute; z-index: -1000; }.cptCompletion.VALID { background: #FFF; }.cptCompletion.INCOMPLETE { background: #DDD; }.cptCompletion.INVALID { background: #DDD; }.cptCompletion span { color: #FFF; }.cptCompletion span.INCOMPLETE { color: #DDD; border-bottom: 2px dotted #F80; }.cptCompletion span.INVALID { color: #DDD; border-bottom: 2px dotted #F00; }span.cptPrompt { color: #66F; font-weight: bold; }.cptHints {  color: #000;  position: absolute;  border: 1px solid rgba(230, 230, 230, 0.8);  background: rgba(250, 250, 250, 0.8);  -moz-border-radius-topleft: 10px;  -moz-border-radius-topright: 10px;  border-top-left-radius: 10px; border-top-right-radius: 10px;  z-index: 1000;  padding: 8px;  display: none;}.cptFocusPopup { display: block; }.cptFocusPopup.cptNoPopup { display: none; }.cptHints ul { margin: 0; padding: 0 15px; }.cptGt { font-weight: bold; font-size: 120%; }"),define("text/support/cockpit/lib/cockpit/ui/request_view.css",[],".cptRowIn {  display: box; display: -moz-box; display: -webkit-box;  box-orient: horizontal; -moz-box-orient: horizontal; -webkit-box-orient: horizontal;  box-align: center; -moz-box-align: center; -webkit-box-align: center;  color: #333;  background-color: #EEE;  width: 100%;  font-family: consolas, courier, monospace;}.cptRowIn > * { padding-left: 2px; padding-right: 2px; }.cptRowIn > img { cursor: pointer; }.cptHover { display: none; }.cptRowIn:hover > .cptHover { display: block; }.cptRowIn:hover > .cptHover.cptHidden { display: none; }.cptOutTyped {  box-flex: 1; -moz-box-flex: 1; -webkit-box-flex: 1;  font-weight: bold; color: #000; font-size: 120%;}.cptRowOutput { padding-left: 10px; line-height: 1.2em; }.cptRowOutput strong,.cptRowOutput b,.cptRowOutput th,.cptRowOutput h1,.cptRowOutput h2,.cptRowOutput h3 { color: #000; }.cptRowOutput a { font-weight: bold; color: #666; text-decoration: none; }.cptRowOutput a: hover { text-decoration: underline; cursor: pointer; }.cptRowOutput input[type=password],.cptRowOutput input[type=text],.cptRowOutput textarea {  color: #000; font-size: 120%;  background: transparent; padding: 3px;  border-radius: 5px; -moz-border-radius: 5px; -webkit-border-radius: 5px;}.cptRowOutput table,.cptRowOutput td,.cptRowOutput th { border: 0; padding: 0 2px; }.cptRowOutput .right { text-align: right; }"),define("text/tool/Theme.tmpl.css",[],".%cssClass% .ace_editor {  border: 2px solid rgb(159, 159, 159);}.%cssClass% .ace_editor.ace_focus {  border: 2px solid #327fbd;}.%cssClass% .ace_gutter {  width: 50px;  background: #e8e8e8;  color: #333;  overflow : hidden;}.%cssClass% .ace_gutter-layer {  width: 100%;  text-align: right;}.%cssClass% .ace_gutter-layer .ace_gutter-cell {  padding-right: 6px;}.%cssClass% .ace_print_margin {  width: 1px;  background: %printMargin%;}.%cssClass% .ace_scroller {  background-color: %background%;}.%cssClass% .ace_text-layer {  cursor: text;  color: %foreground%;}.%cssClass% .ace_cursor {  border-left: 2px solid %cursor%;}.%cssClass% .ace_cursor.ace_overwrite {  border-left: 0px;  border-bottom: 1px solid %overwrite%;} .%cssClass% .ace_marker-layer .ace_selection {  background: %selection%;}.%cssClass% .ace_marker-layer .ace_step {  background: %step%;}.%cssClass% .ace_marker-layer .ace_bracket {  margin: -1px 0 0 -1px;  border: 1px solid %bracket%;}.%cssClass% .ace_marker-layer .ace_active_line {  background: %active_line%;}       .%cssClass% .ace_invisible {  %invisible%}.%cssClass% .ace_keyword {  %keyword%}.%cssClass% .ace_keyword.ace_operator {  %keyword.operator%}.%cssClass% .ace_constant {  %constant%}.%cssClass% .ace_constant.ace_language {  %constant.language%}.%cssClass% .ace_constant.ace_library {  %constant.library%}.%cssClass% .ace_constant.ace_numeric {  %constant.numeric%}.%cssClass% .ace_invalid {  %invalid%}.%cssClass% .ace_invalid.ace_illegal {  %invalid.illegal%}.%cssClass% .ace_invalid.ace_deprecated {  %invalid.deprecated%}.%cssClass% .ace_support {  %support%}.%cssClass% .ace_support.ace_function {  %support.function%}.%cssClass% .ace_function.ace_buildin {  %function.buildin%}.%cssClass% .ace_string {  %string%}.%cssClass% .ace_string.ace_regexp {  %string.regexp%}.%cssClass% .ace_comment {  %comment%}.%cssClass% .ace_comment.ace_doc {  %comment.doc%}.%cssClass% .ace_comment.ace_doc.ace_tag {  %comment.doc.tag%}.%cssClass% .ace_variable {  %variable%}.%cssClass% .ace_variable.ace_language {  %variable.language%}.%cssClass% .ace_xml_pe {  %xml_pe%}.%cssClass% .ace_collab.ace_user1 {  %collab.user1%   }"),define("text/styles.css",[],"html {    height: 100%;    width: 100%;    overflow: hidden;}body {    overflow: hidden;    margin: 0;    padding: 0;    height: 100%;    width: 100%;    font-family: Arial, Helvetica, sans-serif, Tahoma, Verdana, sans-serif;    font-size: 12px;    background: rgb(14, 98, 165);    color: white;}#logo {    padding: 15px;    margin-left: 65px;}#editor {    position: absolute;    top:  0px;    left: 280px;    bottom: 0px;    right: 0px;    background: white;}#controls {    padding: 5px;}#controls td {    text-align: right;}#controls td + td {    text-align: left;}#cockpitInput {    position: absolute;    left: 280px;    right: 0px;    bottom: 0;    border: none; outline: none;    font-family: consolas, courier, monospace;    font-size: 120%;}#cockpitOutput {    padding: 10px;    margin: 0 15px;    border: 1px solid #AAA;    -moz-border-radius-topleft: 10px;    -moz-border-radius-topright: 10px;    border-top-left-radius: 4px; border-top-right-radius: 4px;    background: #DDD; color: #000;}"),require(["ace/ace"],function(b){window.ace=b;});define("ace/mode/html",["require","exports","module","pilot/oop","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/tokenizer","ace/mode/html_highlight_rules","ace/mode/behaviour/xml"],function(w,v,u){var t=w("pilot/oop"),s=w("ace/mode/text").Mode,r=w("ace/mode/javascript").Mode,q=w("ace/mode/css").Mode,p=w("ace/tokenizer").Tokenizer,o=w("ace/mode/html_highlight_rules").HtmlHighlightRules,n=w("ace/mode/behaviour/xml").XmlBehaviour,m=function(){var b=new o;this.$tokenizer=new p(b.getRules()),this.$behaviour=new n,this.$embeds=b.getEmbeds(),this.createModeDelegates({"js-":r,"css-":q});};t.inherits(m,s),function(){this.toggleCommentLines=function(f,e,h,g){return 0;},this.getNextLineIndent=function(e,d,f){return this.$getIndent(d);},this.checkOutdent=function(e,d,f){return !1;};}.call(m.prototype),v.Mode=m;}),define("ace/mode/javascript",["require","exports","module","pilot/oop","ace/mode/text","ace/tokenizer","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle"],function(x,w,v){var u=x("pilot/oop"),t=x("ace/mode/text").Mode,s=x("ace/tokenizer").Tokenizer,r=x("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,q=x("ace/mode/matching_brace_outdent").MatchingBraceOutdent,p=x("ace/range").Range,o=x("ace/worker/worker_client").WorkerClient,n=x("ace/mode/behaviour/cstyle").CstyleBehaviour,m=function(){this.$tokenizer=new s((new r).getRules()),this.$outdent=new q,this.$behaviour=new n;};u.inherits(m,t),function(){this.toggleCommentLines=function(I,H,G,F){var E=!0,D=[],C=/^(\s*)\/\//;for(var B=G;B<=F;B++){if(!C.test(H.getLine(B))){E=!1;break;}}if(E){var A=new p(0,0,0,0);for(var B=G;B<=F;B++){var z=H.getLine(B),y=z.match(C);A.start.row=B,A.end.row=B,A.end.column=y[0].length,H.replace(A,y[1]);}}else{H.indentRows(G,F,"//");}},this.getNextLineIndent=function(k,j,D){var C=this.$getIndent(j),B=this.$tokenizer.getLineTokens(j,k),A=B.tokens,z=B.state;if(A.length&&A[A.length-1].type=="comment"){return C;}if(k=="start"){var y=j.match(/^.*[\{\(\[\:]\s*$/);y&&(C+=D);}else{if(k=="doc-start"){if(z=="start"){return"";}var y=j.match(/^\s*(\/?)\*/);y&&(y[1]&&(C+=" "),C+="* ");}}return C;},this.checkOutdent=function(e,d,f){return this.$outdent.checkOutdent(d,f);},this.autoOutdent=function(e,d,f){this.$outdent.autoOutdent(d,f);},this.createWorker=function(e){var d=e.getDocument(),f=new o(["ace","pilot"],"worker-javascript.js","ace/mode/javascript_worker","JavaScriptWorker");f.call("setValue",[d.getValue()]),d.on("change",function(b){b.range={start:b.data.range.start,end:b.data.range.end},f.emit("change",b);}),f.on("jslint",function(a){var j=[];for(var h=0;h<a.data.length;h++){var g=a.data[h];g&&j.push({row:g.line-1,column:g.character-1,text:g.reason,type:"warning",lint:g});}e.setAnnotations(j);}),f.on("narcissus",function(a){e.setAnnotations([a.data]);}),f.on("terminate",function(){e.clearAnnotations();});return f;};}.call(m.prototype),w.Mode=m;}),define("ace/mode/javascript_highlight_rules",["require","exports","module","pilot/oop","pilot/lang","ace/unicode","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(s,r,q){var p=s("pilot/oop"),o=s("pilot/lang"),n=s("ace/unicode"),m=s("ace/mode/doc_comment_highlight_rules").DocCommentHighlightRules,k=s("ace/mode/text_highlight_rules").TextHighlightRules,j=function(){var f=o.arrayToMap("break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|const|yield|import|get|set".split("|")),e=o.arrayToMap("null|Infinity|NaN|undefined".split("|")),h=o.arrayToMap("class|enum|extends|super|export|implements|private|public|interface|package|protected|static".split("|")),g="["+n.packages.L+"\\$_]["+n.packages.L+n.packages.Mn+n.packages.Mc+n.packages.Nd+n.packages.Pc+"\\$_]*\\b";this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},(new m).getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",merge:!0,regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:function(a){return a=="this"?"variable.language":f.hasOwnProperty(a)?"keyword":e.hasOwnProperty(a)?"constant.language":h.hasOwnProperty(a)?"invalid.illegal":a=="debugger"?"invalid.deprecated":"identifier";},regex:g},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)",next:"regex_allowed"},{token:"lparen",regex:"[[({]",next:"regex_allowed"},{token:"rparen",regex:"[\\])}]"},{token:"keyword.operator",regex:"\\/=?",next:"regex_allowed"},{token:"comment",regex:"^#!.*$"},{token:"text",regex:"\\s+"}],regex_allowed:[{token:"string.regexp",regex:"\\/(?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*",next:"start"},{token:"text",regex:"\\s+"},{token:"empty",regex:"",next:"start"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",merge:!0,regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",merge:!0,regex:".+"}]},this.embedRules(m,"doc-",[(new m).getEndRule("start")]);};p.inherits(j,k),r.JavaScriptHighlightRules=j;}),define("ace/mode/doc_comment_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(h,g,n){var m=h("pilot/oop"),k=h("ace/mode/text_highlight_rules").TextHighlightRules,j=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]};};m.inherits(j,k),function(){this.getStartRule=function(b){return{token:"comment.doc",merge:!0,regex:"\\/\\*(?=\\*)",next:b};},this.getEndRule=function(b){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:b};};}.call(j.prototype),g.DocCommentHighlightRules=j;}),define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(g,f,k){var j=g("ace/range").Range,h=function(){};(function(){this.checkOutdent=function(d,c){return/^\s+$/.test(d)?/^\s*\}/.test(c):!1;},this.autoOutdent=function(m,d){var r=m.getLine(d),q=r.match(/^(\s*\})/);if(!q){return 0;}var p=q[1].length,o=m.findMatchingBracket({row:d,column:p});if(!o||o.row==d){return 0;}var n=this.$getIndent(m.getLine(o.row));m.replace(new j(d,0,d,p-1),n);},this.$getIndent=function(d){var c=d.match(/^(\s+)/);return c?c[1]:"";};}).call(h.prototype),f.MatchingBraceOutdent=h;}),define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(h,g,n){var m=h("pilot/oop"),k=h("pilot/event_emitter").EventEmitter,j=function(y,x,w,v){this.callbacks=[];if(h.packaged){var u=this.$guessBasePath(),t=this.$worker=new Worker(u+x);}else{var s=this.$normalizePath(h.nameToUrl("ace/worker/worker",null,"_")),t=this.$worker=new Worker(s),r={};for(var q=0;q<y.length;q++){var p=y[q],o=this.$normalizePath(h.nameToUrl(p,null,"_").replace(/.js$/,""));r[p]=o;}}this.$worker.postMessage({init:!0,tlns:r,module:w,classname:v}),this.callbackId=1,this.callbacks={};var a=this;this.$worker.onerror=function(b){window.console&&console.log&&console.log(b);throw b;},this.$worker.onmessage=function(e){var d=e.data;switch(d.type){case"log":window.console&&console.log&&console.log(d.data);break;case"event":a._dispatchEvent(d.name,{data:d.data});break;case"call":var f=a.callbacks[d.id];f&&(f(d.data),delete a.callbacks[d.id]);}};};(function(){m.implement(this,k),this.$normalizePath=function(b){b.match(/^\w+:/)||(b=location.protocol+"//"+location.host+location.pathname+"/"+b);return b;},this.$guessBasePath=function(){if(h.aceBaseUrl){return h.aceBaseUrl;}var a=document.getElementsByTagName("script");for(var s=0;s<a.length;s++){var r=a[s],q=r.getAttribute("data-ace-base");if(q){return q.replace(/\/*$/,"/");}var p=r.src||r.getAttribute("src");if(!p){continue;}var o=p.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/);if(o){return o[1]||o[2];}}return"";},this.terminate=function(){this._dispatchEvent("terminate",{}),this.$worker.terminate();},this.send=function(d,c){this.$worker.postMessage({command:d,args:c});},this.call=function(f,e,p){if(p){var o=this.callbackId++;this.callbacks[o]=p,e.push(o);}this.send(f,e);},this.emit=function(d,c){this.$worker.postMessage({event:d,data:c});};}).call(j.prototype),g.WorkerClient=j;}),define("ace/mode/behaviour/cstyle",["require","exports","module","pilot/oop","ace/mode/behaviour"],function(h,g,n){var m=h("pilot/oop"),k=h("ace/mode/behaviour").Behaviour,j=function(){this.add("braces","insertion",function(B,A,z,y,x){if(x=="{"){var w=z.getSelectionRange(),v=y.doc.getTextRange(w);return v!==""?{text:"{"+v+"}",selection:!1}:{text:"{}",selection:[1,1]};}if(x=="}"){var u=z.getCursorPosition(),t=y.doc.getLine(u.row),s=t.substring(u.column,u.column+1);if(s=="}"){var r=y.$findOpeningBracket("}",{column:u.column+1,row:u.row});if(r!==null){return{text:"",selection:[1,1]};}}}else{if(x=="\n"){var u=z.getCursorPosition(),t=y.doc.getLine(u.row),s=t.substring(u.column,u.column+1);if(s=="}"){var q=y.findMatchingBracket({row:u.row,column:u.column+1});if(!q){return !1;}var p=this.getNextLineIndent(B,t.substring(0,t.length-1),y.getTabString()),o=this.$getIndent(y.doc.getLine(q.row));return{text:"\n"+p+"\n"+o,selection:[1,p.length,1,p.length]};}}}return !1;}),this.add("braces","deletion",function(p,o,v,u,t){var s=u.doc.getTextRange(t);if(!t.isMultiLine()&&s=="{"){var r=u.doc.getLine(t.start.row),q=r.substring(t.end.column,t.end.column+1);if(q=="}"){t.end.column++;return t;}}return !1;}),this.add("parens","insertion",function(y,x,w,v,u){if(u=="("){var t=w.getSelectionRange(),s=v.doc.getTextRange(t);return s!==""?{text:"("+s+")",selection:!1}:{text:"()",selection:[1,1]};}if(u==")"){var r=w.getCursorPosition(),q=v.doc.getLine(r.row),p=q.substring(r.column,r.column+1);if(p==")"){var o=v.$findOpeningBracket(")",{column:r.column+1,row:r.row});if(o!==null){return{text:"",selection:[1,1]};}}}return !1;}),this.add("parens","deletion",function(p,o,v,u,t){var s=u.doc.getTextRange(t);if(!t.isMultiLine()&&s=="("){var r=u.doc.getLine(t.start.row),q=r.substring(t.start.column+1,t.start.column+2);if(q==")"){t.end.column++;return t;}}return !1;}),this.add("string_dquotes","insertion",function(F,E,D,C,B){if(B=='"'){var A=D.getSelectionRange(),z=C.doc.getTextRange(A);if(z!==""){return{text:'"'+z+'"',selection:!1};}var y=D.getCursorPosition(),x=C.doc.getLine(y.row),w=x.substring(y.column-1,y.column);if(w=="\\"){return !1;}var v=C.getTokens(A.start.row,A.start.row)[0].tokens,u=0,t,s=-1;for(var r=0;r<v.length;r++){t=v[r],t.type=="string"?s=-1:s<0&&(s=t.value.indexOf('"'));if(t.value.length+u>A.start.column){break;}u+=v[r].value.length;}if(!t||s<0&&t.type!=="comment"&&(t.type!=="string"||A.start.column!==t.value.length+u-1&&t.value.lastIndexOf('"')===t.value.length-1)){return{text:'""',selection:[1,1]};}if(t&&t.type==="string"){var q=x.substring(y.column,y.column+1);if(q=='"'){return{text:"",selection:[1,1]};}}}return !1;}),this.add("string_dquotes","deletion",function(p,o,v,u,t){var s=u.doc.getTextRange(t);if(!t.isMultiLine()&&s=='"'){var r=u.doc.getLine(t.start.row),q=r.substring(t.start.column+1,t.start.column+2);if(q=='"'){t.end.column++;return t;}}return !1;});};m.inherits(j,k),g.CstyleBehaviour=j;}),define("ace/mode/css",["require","exports","module","pilot/oop","ace/mode/text","ace/tokenizer","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client"],function(u,t,s){var r=u("pilot/oop"),q=u("ace/mode/text").Mode,p=u("ace/tokenizer").Tokenizer,o=u("ace/mode/css_highlight_rules").CssHighlightRules,n=u("ace/mode/matching_brace_outdent").MatchingBraceOutdent,m=u("ace/worker/worker_client").WorkerClient,k=function(){this.$tokenizer=new p((new o).getRules()),this.$outdent=new n;};r.inherits(k,q),function(){this.getNextLineIndent=function(h,g,x){var w=this.$getIndent(g),v=this.$tokenizer.getLineTokens(g,h).tokens;if(v.length&&v[v.length-1].type=="comment"){return w;}var j=g.match(/^.*\{\s*$/);j&&(w+=x);return w;},this.checkOutdent=function(e,d,f){return this.$outdent.checkOutdent(d,f);},this.autoOutdent=function(e,d,f){this.$outdent.autoOutdent(d,f);},this.createWorker=function(e){var d=e.getDocument(),f=new m(["ace","pilot"],"worker-css.js","ace/mode/css_worker","Worker");f.call("setValue",[d.getValue()]),d.on("change",function(b){b.range={start:b.data.range.start,end:b.data.range.end},f.emit("change",b);}),f.on("csslint",function(a){var g=[];a.data.forEach(function(b){g.push({row:b.line-1,column:b.col-1,text:b.message,type:b.type,lint:b});}),e.setAnnotations(g);});};}.call(k.prototype),t.Mode=k;}),define("ace/mode/css_highlight_rules",["require","exports","module","pilot/oop","pilot/lang","ace/mode/text_highlight_rules"],function(j,h,p){var o=j("pilot/oop"),n=j("pilot/lang"),m=j("ace/mode/text_highlight_rules").TextHighlightRules,k=function(){function w(g){var f=[],D=g.split("");for(var C=0;C<D.length;C++){f.push("[",D[C].toLowerCase(),D[C].toUpperCase(),"]");}return f.join("");}var B=n.arrayToMap("-moz-box-sizing|-webkit-box-sizing|appearance|azimuth|background-attachment|background-color|background-image|background-position|background-repeat|background|border-bottom-color|border-bottom-style|border-bottom-width|border-bottom|border-collapse|border-color|border-left-color|border-left-style|border-left-width|border-left|border-right-color|border-right-style|border-right-width|border-right|border-spacing|border-style|border-top-color|border-top-style|border-top-width|border-top|border-width|border|bottom|box-sizing|caption-side|clear|clip|color|content|counter-increment|counter-reset|cue-after|cue-before|cue|cursor|direction|display|elevation|empty-cells|float|font-family|font-size-adjust|font-size|font-stretch|font-style|font-variant|font-weight|font|height|left|letter-spacing|line-height|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|marker-offset|margin|marks|max-height|max-width|min-height|min-width|-moz-border-radius|opacity|orphans|outline-color|outline-style|outline-width|outline|overflow|overflow-x|overflow-y|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page|pause-after|pause-before|pause|pitch-range|pitch|play-during|position|quotes|richness|right|size|speak-header|speak-numeral|speak-punctuation|speech-rate|speak|stress|table-layout|text-align|text-decoration|text-indent|text-shadow|text-transform|top|unicode-bidi|vertical-align|visibility|voice-family|volume|white-space|widows|width|word-spacing|z-index".split("|")),A=n.arrayToMap("rgb|rgba|url|attr|counter|counters".split("|")),z=n.arrayToMap("absolute|all-scroll|always|armenian|auto|baseline|below|bidi-override|block|bold|bolder|border-box|both|bottom|break-all|break-word|capitalize|center|char|circle|cjk-ideographic|col-resize|collapse|content-box|crosshair|dashed|decimal-leading-zero|decimal|default|disabled|disc|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ellipsis|fixed|georgian|groove|hand|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|inactive|inherit|inline-block|inline|inset|inside|inter-ideograph|inter-word|italic|justify|katakana-iroha|katakana|keep-all|left|lighter|line-edge|line-through|line|list-item|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|medium|middle|move|n-resize|ne-resize|newspaper|no-drop|no-repeat|nw-resize|none|normal|not-allowed|nowrap|oblique|outset|outside|overline|pointer|progress|relative|repeat-x|repeat-y|repeat|right|ridge|row-resize|rtl|s-resize|scroll|se-resize|separate|small-caps|solid|square|static|strict|super|sw-resize|table-footer-group|table-header-group|tb-rl|text-bottom|text-top|text|thick|thin|top|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|zero".split("|")),y=n.arrayToMap("aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow".split("|")),x="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",v=[{token:"comment",merge:!0,regex:"\\/\\*",next:"ruleset_comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:x+w("em")},{token:"constant.numeric",regex:x+w("ex")},{token:"constant.numeric",regex:x+w("px")},{token:"constant.numeric",regex:x+w("cm")},{token:"constant.numeric",regex:x+w("mm")},{token:"constant.numeric",regex:x+w("in")},{token:"constant.numeric",regex:x+w("pt")},{token:"constant.numeric",regex:x+w("pc")},{token:"constant.numeric",regex:x+w("deg")},{token:"constant.numeric",regex:x+w("rad")},{token:"constant.numeric",regex:x+w("grad")},{token:"constant.numeric",regex:x+w("ms")},{token:"constant.numeric",regex:x+w("s")},{token:"constant.numeric",regex:x+w("hz")},{token:"constant.numeric",regex:x+w("khz")},{token:"constant.numeric",regex:x+"%"},{token:"constant.numeric",regex:x},{token:"constant.numeric",regex:"#[a-fA-F0-9]{6}"},{token:"constant.numeric",regex:"#[a-fA-F0-9]{3}"},{token:function(a){return B.hasOwnProperty(a.toLowerCase())?"support.type":A.hasOwnProperty(a.toLowerCase())?"support.function":z.hasOwnProperty(a.toLowerCase())?"support.constant":y.hasOwnProperty(a.toLowerCase())?"support.constant.color":"text";},regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"}],u=n.copyArray(v);u.unshift({token:"rparen",regex:"\\}",next:"start"});var t=n.copyArray(v);t.unshift({token:"rparen",regex:"\\}",next:"media"});var s=[{token:"comment",merge:!0,regex:".+"}],r=n.copyArray(s);r.unshift({token:"comment",regex:".*?\\*\\/",next:"start"});var q=n.copyArray(s);q.unshift({token:"comment",regex:".*?\\*\\/",next:"media"});var e=n.copyArray(s);e.unshift({token:"comment",regex:".*?\\*\\/",next:"ruleset"}),this.$rules={start:[{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"lparen",regex:"\\{",next:"ruleset"},{token:"string",regex:"@media.*?{",next:"media"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],media:[{token:"comment",merge:!0,regex:"\\/\\*",next:"media_comment"},{token:"lparen",regex:"\\{",next:"media_ruleset"},{token:"string",regex:"\\}",next:"start"},{token:"keyword",regex:"#[a-zA-Z0-9-_]+"},{token:"variable",regex:"\\.[a-zA-Z0-9-_]+"},{token:"string",regex:":[a-zA-Z0-9-_]+"},{token:"constant",regex:"[a-zA-Z0-9-_]+"}],comment:r,ruleset:u,ruleset_comment:e,media_ruleset:t,media_comment:q};};o.inherits(k,m),h.CssHighlightRules=k;}),define("ace/mode/html_highlight_rules",["require","exports","module","pilot/oop","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/text_highlight_rules"],function(k,j,r){var q=k("pilot/oop"),p=k("ace/mode/css_highlight_rules").CssHighlightRules,o=k("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,n=k("ace/mode/text_highlight_rules").TextHighlightRules,m=function(){function c(f,e){return[{token:"string",merge:!0,regex:".*"+f,next:e},{token:"string",merge:!0,regex:".+"}];}function d(b){return[{token:"string",regex:'".*?"'},{token:"string",merge:!0,regex:'["].*$',next:b+"-qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*$",next:b+"-qstring"}];}this.$rules={start:[{token:"text",merge:!0,regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"text",regex:"<(?=s*script)",next:"script"},{token:"text",regex:"<(?=s*style)",next:"css"},{token:"text",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"text",regex:"[^<]+"}],script:[{token:"text",regex:">",next:"js-start"},{token:"keyword",regex:"[-_a-zA-Z0-9:]+"},{token:"text",regex:"\\s+"}].concat(d("script")),css:[{token:"text",regex:">",next:"css-start"},{token:"keyword",regex:"[-_a-zA-Z0-9:]+"},{token:"text",regex:"\\s+"}].concat(d("style")),tag:[{token:"text",regex:">",next:"start"},{token:"keyword",regex:"[-_a-zA-Z0-9:]+"},{token:"text",regex:"\\s+"}].concat(d("tag")),"style-qstring":c("'","style"),"style-qqstring":c('"',"style"),"script-qstring":c("'","script"),"script-qqstring":c('"',"script"),"tag-qstring":c("'","tag"),"tag-qqstring":c('"',"tag"),cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",merge:!0,regex:"\\s+"},{token:"text",merge:!0,regex:".+"}],comment:[{token:"comment",regex:".*?-->",next:"start"},{token:"comment",merge:!0,regex:".+"}]},this.embedRules(o,"js-",[{token:"comment",regex:"\\/\\/.*(?=<\\/script>)",next:"tag"},{token:"text",regex:"<\\/(?=script)",next:"tag"}]),this.embedRules(p,"css-",[{token:"text",regex:"<\\/(?=style)",next:"tag"}]);};q.inherits(m,n),j.HtmlHighlightRules=m;}),define("ace/mode/behaviour/xml",["require","exports","module","pilot/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle"],function(j,h,p){var o=j("pilot/oop"),n=j("ace/mode/behaviour").Behaviour,m=j("ace/mode/behaviour/cstyle").CstyleBehaviour,k=function(){this.inherit(m,["string_dquotes"]),this.add("brackets","insertion",function(C,B,A,z,y){if(y=="<"){var x=A.getSelectionRange(),w=z.doc.getTextRange(x);return w!==""?!1:{text:"<>",selection:[1,1]};}if(y==">"){var v=A.getCursorPosition(),u=z.doc.getLine(v.row),t=u.substring(v.column,v.column+1);if(t==">"){return{text:"",selection:[1,1]};}}else{if(y=="\n"){var v=A.getCursorPosition(),u=z.doc.getLine(v.row),s=u.substring(v.column,v.column+2);if(s=="</"){var r=this.$getIndent(z.doc.getLine(v.row))+z.getTabString(),q=this.$getIndent(z.doc.getLine(v.row));return{text:"\n"+r+"\n"+q,selection:[1,r.length,1,r.length]};}}}return !1;});};o.inherits(k,n),h.XmlBehaviour=k;});define("ace/theme/monokai",["require","exports","module"],function(g,f,k){var j=g("pilot/dom"),h=".ace-monokai .ace_editor {\n  border: 2px solid rgb(159, 159, 159);\n}\n\n.ace-monokai .ace_editor.ace_focus {\n  border: 2px solid #327fbd;\n}\n\n.ace-monokai .ace_gutter {\n  width: 50px;\n  background: #e8e8e8;\n  color: #333;\n  overflow : hidden;\n}\n\n.ace-monokai .ace_gutter-layer {\n  width: 100%;\n  text-align: right;\n}\n\n.ace-monokai .ace_gutter-layer .ace_gutter-cell {\n  padding-right: 6px;\n}\n\n.ace-monokai .ace_print_margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-monokai .ace_scroller {\n  background-color: #272822;\n}\n\n.ace-monokai .ace_text-layer {\n  cursor: text;\n  color: #F8F8F2;\n}\n\n.ace-monokai .ace_cursor {\n  border-left: 2px solid #F8F8F0;\n}\n\n.ace-monokai .ace_cursor.ace_overwrite {\n  border-left: 0px;\n  border-bottom: 1px solid #F8F8F0;\n}\n \n.ace-monokai .ace_marker-layer .ace_selection {\n  background: #807038;\n}\n\n.ace-monokai .ace_marker-layer .ace_step {\n  background: rgb(198, 219, 174);\n}\n\n.ace-monokai .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid #49483E;\n}\n\n.ace-monokai .ace_marker-layer .ace_active_line {\n  background: #49483E;\n}\n\n       \n.ace-monokai .ace_invisible {\n  color: #49483E;\n}\n\n.ace-monokai .ace_keyword {\n  color:#F92672;\n}\n\n.ace-monokai .ace_keyword.ace_operator {\n  \n}\n\n.ace-monokai .ace_constant {\n  \n}\n\n.ace-monokai .ace_constant.ace_language {\n  color:#AE81FF;\n}\n\n.ace-monokai .ace_constant.ace_library {\n  \n}\n\n.ace-monokai .ace_constant.ace_numeric {\n  color:#AE81FF;\n}\n\n.ace-monokai .ace_invalid {\n  color:#F8F8F0;\nbackground-color:#F92672;\n}\n\n.ace-monokai .ace_invalid.ace_illegal {\n  \n}\n\n.ace-monokai .ace_invalid.ace_deprecated {\n  color:#F8F8F0;\nbackground-color:#AE81FF;\n}\n\n.ace-monokai .ace_support {\n  \n}\n\n.ace-monokai .ace_support.ace_function {\n  color:#66D9EF;\n}\n\n.ace-monokai .ace_function.ace_buildin {\n  \n}\n\n.ace-monokai .ace_string {\n  color:#E6DB74;\n}\n\n.ace-monokai .ace_string.ace_regexp {\n  \n}\n\n.ace-monokai .ace_comment {\n  color:#75715E;\n}\n\n.ace-monokai .ace_comment.ace_doc {\n  \n}\n\n.ace-monokai .ace_comment.ace_doc.ace_tag {\n  \n}\n\n.ace-monokai .ace_variable {\n  \n}\n\n.ace-monokai .ace_variable.ace_language {\n  \n}\n\n.ace-monokai .ace_xml_pe {\n  \n}";j.importCssString(h),f.cssClass="ace-monokai";});var bkExtend=function(){var a=arguments;if(a.length==1){a=[this,a[0]];}for(var b in a[1]){a[0][b]=a[1][b];}return a[0];};function bkClass(){}bkClass.prototype.construct=function(){};bkClass.extend=function(c){var a=function(){if(arguments[0]!==bkClass){return this.construct.apply(this,arguments);}};var b=new this(bkClass);bkExtend(b,c);a.prototype=b;a.extend=this.extend;return a;};var bkElement=bkClass.extend({construct:function(b,a){if(typeof(b)=="string"){b=(a||document).createElement(b);}b=$BK(b);return b;},appendTo:function(a){a.appendChild(this);return this;},appendBefore:function(a){a.parentNode.insertBefore(this,a);return this;},addEvent:function(b,a){bkLib.addEvent(this,b,a);return this;},setContent:function(a){this.innerHTML=a;return this;},pos:function(){var d=curtop=0;var c=obj=this;if(obj.offsetParent){do{d+=obj.offsetLeft;curtop+=obj.offsetTop;}while(obj=obj.offsetParent);}var a=(!window.opera)?parseInt(this.getStyle("border-width")||this.style.border)||0:0;return[d+a,curtop+a+this.offsetHeight];},noSelect:function(){bkLib.noSelect(this);return this;},parentTag:function(a){var b=this;do{if(b&&b.nodeName&&b.nodeName.toUpperCase()==a){return b;}b=b.parentNode;}while(b);return false;},hasClass:function(a){return this.className.match(new RegExp("(\\s|^)nicEdit-"+a+"(\\s|$)"));},addClass:function(a){if(!this.hasClass(a)){this.className+=" nicEdit-"+a;}return this;},removeClass:function(a){if(this.hasClass(a)){this.className=this.className.replace(new RegExp("(\\s|^)nicEdit-"+a+"(\\s|$)")," ");}return this;},setStyle:function(a){var b=this.style;for(var c in a){switch(c){case"float":b.cssFloat=b.styleFloat=a[c];break;case"opacity":b.opacity=a[c];b.filter="alpha(opacity="+Math.round(a[c]*100)+")";break;case"className":this.className=a[c];break;default:b[c]=a[c];}}return this;},getStyle:function(a,c){var b=(!c)?document.defaultView:c;if(this.nodeType==1){return(b&&b.getComputedStyle)?b.getComputedStyle(this,null).getPropertyValue(a):this.currentStyle[bkLib.camelize(a)];}},remove:function(){this.parentNode.removeChild(this);return this;},setAttributes:function(a){for(var b in a){this[b]=a[b];}return this;}});var bkLib={isMSIE:(navigator.appVersion.indexOf("MSIE")!=-1),addEvent:function(c,b,a){(c.addEventListener)?c.addEventListener(b,a,false):c.attachEvent("on"+b,a);},toArray:function(c){var b=c.length,a=new Array(b);while(b--){a[b]=c[b];}return a;},noSelect:function(b){if(b.setAttribute&&b.nodeName.toLowerCase()!="input"&&b.nodeName.toLowerCase()!="textarea"){b.setAttribute("unselectable","on");}for(var a=0;a<b.childNodes.length;a++){bkLib.noSelect(b.childNodes[a]);}},camelize:function(a){return a.replace(/\-(.)/g,function(b,c){return c.toUpperCase();});},inArray:function(a,b){return(bkLib.search(a,b)!=null);},search:function(a,c){for(var b=0;b<a.length;b++){if(a[b]==c){return b;}}return null;},cancelEvent:function(a){a=a||window.event;if(a.preventDefault&&a.stopPropagation){a.preventDefault();a.stopPropagation();}return false;},domLoad:[],domLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;for(i=0;i<bkLib.domLoad.length;i++){bkLib.domLoad[i]();}},onDomLoaded:function(a){this.domLoad.push(a);if(document.addEventListener){document.addEventListener("DOMContentLoaded",bkLib.domLoaded,null);}else{if(bkLib.isMSIE){document.write("<style>.nicEdit-main p { margin: 0; }</style><script id=__ie_onload defer "+((location.protocol=="https:")?"src='javascript:void(0)'":"src=//0")+"><\/script>");$BK("__ie_onload").onreadystatechange=function(){if(this.readyState=="complete"){bkLib.domLoaded();}};}}window.onload=bkLib.domLoaded;}};function $BK(a){if(typeof(a)=="string"){a=document.getElementById(a);}return(a&&!a.appendTo)?bkExtend(a,bkElement.prototype):a;}var bkEvent={addEvent:function(a,b){if(b){this.eventList=this.eventList||{};this.eventList[a]=this.eventList[a]||[];this.eventList[a].push(b);}return this;},fireEvent:function(){var a=bkLib.toArray(arguments),c=a.shift();if(this.eventList&&this.eventList[c]){for(var b=0;b<this.eventList[c].length;b++){this.eventList[c][b].apply(this,a);}}}};function __(a){return a;}Function.prototype.closure=function(){var a=this,b=bkLib.toArray(arguments),c=b.shift();return function(){if(typeof(bkLib)!="undefined"){return a.apply(c,b.concat(bkLib.toArray(arguments)));}};};Function.prototype.closureListener=function(){var a=this,c=bkLib.toArray(arguments),b=c.shift();return function(f){f=f||window.event;if(f.target){var d=f.target;}else{var d=f.srcElement;}return a.apply(b,[f,d].concat(c));};};var nicEditorConfig=bkClass.extend({buttons:{bold:{name:__("Click to Bold"),command:"Bold",tags:["B","STRONG"],css:{"font-weight":"bold"},key:"b"},italic:{name:__("Click to Italic"),command:"Italic",tags:["EM","I"],css:{"font-style":"italic"},key:"i"},underline:{name:__("Click to Underline"),command:"Underline",tags:["U"],css:{"text-decoration":"underline"},key:"u"},left:{name:__("Left Align"),command:"justifyleft",noActive:true},center:{name:__("Center Align"),command:"justifycenter",noActive:true},right:{name:__("Right Align"),command:"justifyright",noActive:true},justify:{name:__("Justify Align"),command:"justifyfull",noActive:true},ol:{name:__("Insert Ordered List"),command:"insertorderedlist",tags:["OL"]},ul:{name:__("Insert Unordered List"),command:"insertunorderedlist",tags:["UL"]},subscript:{name:__("Click to Subscript"),command:"subscript",tags:["SUB"]},superscript:{name:__("Click to Superscript"),command:"superscript",tags:["SUP"]},strikethrough:{name:__("Click to Strike Through"),command:"strikeThrough",css:{"text-decoration":"line-through"}},removeformat:{name:__("Remove Formatting"),command:"removeformat",noActive:true},hr:{name:__("Horizontal Rule"),command:"insertHorizontalRule",noActive:true}},iconsPath:"/s/assets/images/nicEditorIcons.gif",buttonList:["save","bold","italic","underline","left","center","right","justify","ol","ul","fontSize","fontFamily","fontFormat","forecolor","bgcolor","indent","outdent","image","upload","link","unlink","html"],iconList:{html:1,bgcolor:2,forecolor:3,bold:4,center:5,hr:6,indent:7,italic:8,justify:9,left:10,ol:11,outdent:12,removeformat:13,right:14,save:25,strikethrough:16,subscript:17,superscript:18,ul:19,underline:20,image:21,link:22,unlink:23,close:24,arrow:26,upload:27}});var nicEditors={nicPlugins:[],editors:[],registerPlugin:function(b,a){this.nicPlugins.push({p:b,o:a});},allTextAreas:function(c){var a=document.getElementsByTagName("textarea");for(var b=0;b<a.length;b++){nicEditors.editors.push(new nicEditor(c).panelInstance(a[b]));}return nicEditors.editors;},findEditor:function(c){var b=nicEditors.editors;for(var a=0;a<b.length;a++){if(b[a].instanceById(c)){return b[a].instanceById(c);}}}};var nicEditor=bkClass.extend({construct:function(c){this.options=new nicEditorConfig();bkExtend(this.options,c);this.nicInstances=new Array();this.loadedPlugins=new Array();var a=nicEditors.nicPlugins;for(var b=0;b<a.length;b++){this.loadedPlugins.push(new a[b].p(this,a[b].o));}nicEditors.editors.push(this);bkLib.addEvent(document.body,"mousedown",this.selectCheck.closureListener(this));},panelInstance:function(b,c){b=this.checkReplace($BK(b));var a=new bkElement("DIV").setStyle({width:(parseInt(b.getStyle("width"))||b.clientWidth)+"px"}).appendBefore(b);this.setPanel(a);return this.addInstance(b,c);},checkReplace:function(b){var a=nicEditors.findEditor(b);if(a){a.removeInstance(b);a.removePanel();}return b;},addInstance:function(b,c){b=this.checkReplace($BK(b));if(b.contentEditable||!!window.opera){var a=new nicEditorInstance(b,c,this);}else{var a=new nicEditorIFrameInstance(b,c,this);}this.nicInstances.push(a);return this;},removeInstance:function(c){c=$BK(c);var b=this.nicInstances;for(var a=0;a<b.length;a++){if(b[a].e==c){b[a].remove();this.nicInstances.splice(a,1);}}},removePanel:function(a){if(this.nicPanel){this.nicPanel.remove();this.nicPanel=null;}},instanceById:function(c){c=$BK(c);var b=this.nicInstances;for(var a=0;a<b.length;a++){if(b[a].e==c){return b[a];}}},setPanel:function(a){this.nicPanel=new nicEditorPanel($BK(a),this.options,this);this.fireEvent("panel",this.nicPanel);return this;},nicCommand:function(b,a){if(this.selectedInstance){this.selectedInstance.nicCommand(b,a);}},getIcon:function(d,a){var c=this.options.iconList[d];var b=(a.iconFiles)?a.iconFiles[d]:"";return{backgroundImage:"url('"+((c)?this.options.iconsPath:b)+"')",backgroundPosition:((c)?((c-1)*-18):0)+"px 0px"};},selectCheck:function(c,a){var b=false;do{if(a.className&&a.className.indexOf("nicEdit")!=-1){return false;}}while(a=a.parentNode);this.fireEvent("blur",this.selectedInstance,a);this.lastSelectedInstance=this.selectedInstance;this.selectedInstance=null;return false;}});nicEditor=nicEditor.extend(bkEvent);var nicEditorInstance=bkClass.extend({isSelected:false,construct:function(j,d,c){this.ne=c;this.elm=this.e=j;this.options=d||{};newX=parseInt(j.getStyle("width"))||j.clientWidth;newY=parseInt(j.getStyle("height"))||j.clientHeight;this.initialHeight=newY-8;var k=(j.nodeName.toLowerCase()=="textarea");if(k||this.options.hasPanel){var b=(bkLib.isMSIE&&!((typeof document.body.style.maxHeight!="undefined")&&document.compatMode=="CSS1Compat"));var g={width:newX+"px",border:"1px solid #ccc",borderTop:0,overflowY:"auto",overflowX:"hidden"};g[(b)?"height":"maxHeight"]=(this.ne.options.maxHeight)?this.ne.options.maxHeight+"px":null;this.editorContain=new bkElement("DIV").setStyle(g).appendBefore(j);var a=new bkElement("DIV").setStyle({width:(newX-8)+"px",margin:"4px",minHeight:newY+"px"}).addClass("main").appendTo(this.editorContain);j.setStyle({display:"none"});a.innerHTML=j.innerHTML;if(k){a.setContent(j.value);this.copyElm=j;var h=j.parentTag("FORM");if(h){bkLib.addEvent(h,"submit",this.saveContent.closure(this));}}a.setStyle((b)?{height:newY+"px"}:{overflow:"hidden"});this.elm=a;}this.ne.addEvent("blur",this.blur.closure(this));this.init();this.blur();},init:function(){this.elm.setAttribute("contentEditable","true");if(this.getContent()==""){this.setContent("<br />");}this.instanceDoc=document.defaultView;this.elm.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keypress",this.keyDown.closureListener(this)).addEvent("focus",this.selected.closure(this)).addEvent("blur",this.blur.closure(this)).addEvent("keyup",this.selected.closure(this));this.ne.fireEvent("add",this);},remove:function(){this.saveContent();if(this.copyElm||this.options.hasPanel){this.editorContain.remove();this.e.setStyle({display:"block"});this.ne.removePanel();}this.disable();this.ne.fireEvent("remove",this);},disable:function(){this.elm.setAttribute("contentEditable","false");},getSel:function(){return(window.getSelection)?window.getSelection():document.selection;},getRng:function(){var a=this.getSel();if(!a||a.rangeCount===0){return;}return(a.rangeCount>0)?a.getRangeAt(0):a.createRange();},selRng:function(a,b){if(window.getSelection){b.removeAllRanges();b.addRange(a);}else{a.select();}},selElm:function(){var c=this.getRng();if(!c){return;}if(c.startContainer){var d=c.startContainer;if(c.cloneContents().childNodes.length==1){for(var b=0;b<d.childNodes.length;b++){var a=d.childNodes[b].ownerDocument.createRange();a.selectNode(d.childNodes[b]);if(c.compareBoundaryPoints(Range.START_TO_START,a)!=1&&c.compareBoundaryPoints(Range.END_TO_END,a)!=-1){return $BK(d.childNodes[b]);}}}return $BK(d);}else{return $BK((this.getSel().type=="Control")?c.item(0):c.parentElement());}},saveRng:function(){this.savedRange=this.getRng();this.savedSel=this.getSel();},restoreRng:function(){if(this.savedRange){this.selRng(this.savedRange,this.savedSel);}},keyDown:function(b,a){if(b.ctrlKey){this.ne.fireEvent("key",this,b);}},selected:function(c,a){if(!a&&!(a=this.selElm)){a=this.selElm();}if(!c.ctrlKey){var b=this.ne.selectedInstance;if(b!=this){if(b){this.ne.fireEvent("blur",b,a);}this.ne.selectedInstance=this;this.ne.fireEvent("focus",b,a);}this.ne.fireEvent("selected",b,a);this.isFocused=true;this.elm.addClass("selected");}return false;},blur:function(){this.isFocused=false;this.elm.removeClass("selected");},saveContent:function(){if(this.copyElm||this.options.hasPanel){this.ne.fireEvent("save",this);(this.copyElm)?this.copyElm.value=this.getContent():this.e.innerHTML=this.getContent();}},getElm:function(){return this.elm;},getContent:function(){this.content=this.getElm().innerHTML;this.ne.fireEvent("get",this);return this.content;},setContent:function(a){this.content=a;this.ne.fireEvent("set",this);this.elm.innerHTML=this.content;},nicCommand:function(b,a){document.execCommand(b,false,a);}});var nicEditorIFrameInstance=nicEditorInstance.extend({savedStyles:[],init:function(){var b=this.elm.innerHTML.replace(/^\s+|\s+$/g,"");this.elm.innerHTML="";(!b)?b="<br />":b;this.initialContent=b;this.elmFrame=new bkElement("iframe").setAttributes({src:"javascript:;",frameBorder:0,allowTransparency:"true",scrolling:"no"}).setStyle({height:"100px",width:"100%"}).addClass("frame").appendTo(this.elm);if(this.copyElm){this.elmFrame.setStyle({width:(this.elm.offsetWidth-4)+"px"});}var a=["font-size","font-family","font-weight","color"];for(itm in a){this.savedStyles[bkLib.camelize(itm)]=this.elm.getStyle(itm);}this.savedStyles[bkLib.camelize(itm)]=this.elm.getStyle(itm);setTimeout(this.initFrame.closure(this),50);},disable:function(){this.elm.innerHTML=this.getContent();},initFrame:function(){var b=$BK(this.elmFrame.contentWindow.document);b.designMode="on";b.open();var a=this.ne.options.externalCSS;b.write("<html><head>"+((a)?'<link href="'+a+'" rel="stylesheet" type="text/css" />':"")+'</head><body id="nicEditContent" style="margin: 0 !important; background-color: transparent !important;">'+this.initialContent+"</body></html>");b.close();this.frameDoc=b;this.frameWin=$BK(this.elmFrame.contentWindow);this.frameContent=$BK(this.frameWin.document.body).setStyle(this.savedStyles);this.instanceDoc=this.frameWin.document.defaultView;this.heightUpdate();this.frameDoc.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keyup",this.heightUpdate.closureListener(this)).addEvent("keydown",this.keyDown.closureListener(this)).addEvent("keyup",this.selected.closure(this));this.ne.fireEvent("add",this);},getElm:function(){return this.frameContent;},setContent:function(a){this.content=a;this.ne.fireEvent("set",this);this.frameContent.innerHTML=this.content;this.heightUpdate();},getSel:function(){return(this.frameWin)?this.frameWin.getSelection():this.frameDoc.selection;},heightUpdate:function(){this.elmFrame.style.height=Math.max(this.frameContent.offsetHeight,this.initialHeight)+"px";},nicCommand:function(b,a){this.frameDoc.execCommand(b,false,a);setTimeout(this.heightUpdate.closure(this),100);}});var nicEditorPanel=bkClass.extend({construct:function(f,b,a){this.elm=f;this.options=b;this.ne=a;this.panelButtons=new Array();this.buttonList=bkExtend([],this.ne.options.buttonList);this.panelContain=new bkElement("DIV").setStyle({overflow:"hidden",width:"100%",border:"1px solid #cccccc",backgroundColor:"#efefef"}).addClass("panelContain");this.panelElm=new bkElement("DIV").setStyle({margin:"2px",marginTop:"0px",zoom:1,overflow:"hidden"}).addClass("panel").appendTo(this.panelContain);this.panelContain.appendTo(f);var c=this.ne.options;var d=c.buttons;for(button in d){this.addButton(button,c,true);}this.reorder();f.noSelect();},addButton:function(buttonName,options,noOrder){var button=options.buttons[buttonName];var type=(button.type)?eval("(typeof("+button.type+') == "undefined") ? null : '+button.type+";"):nicEditorButton;var hasButton=bkLib.inArray(this.buttonList,buttonName);if(type&&(hasButton||this.ne.options.fullPanel)){this.panelButtons.push(new type(this.panelElm,buttonName,options,this.ne));if(!hasButton){this.buttonList.push(buttonName);}}},findButton:function(b){for(var a=0;a<this.panelButtons.length;a++){if(this.panelButtons[a].name==b){return this.panelButtons[a];}}},reorder:function(){var c=this.buttonList;for(var b=0;b<c.length;b++){var a=this.findButton(c[b]);if(a){this.panelElm.appendChild(a.margin);}}},remove:function(){this.elm.remove();}});var nicEditorButton=bkClass.extend({construct:function(d,a,c,b){this.options=c.buttons[a];this.name=a;this.ne=b;this.elm=d;this.margin=new bkElement("DIV").setStyle({"float":"left",marginTop:"2px",cursor:"pointer"}).appendTo(d);this.contain=new bkElement("DIV").addClass("buttonContain").appendTo(this.margin);this.border=new bkElement("DIV").setStyle({padding:"4px",backgroundColor:"#efefef",border:"1px solid #efefef"}).appendTo(this.contain);this.button=new bkElement("DIV").setStyle({width:"18px",height:"18px",overflow:"hidden",zoom:1}).addClass("button").setStyle(this.ne.getIcon(a,c)).appendTo(this.border);this.margin.addEvent("mouseover",this.hoverOn.closure(this)).addEvent("mouseout",this.hoverOff.closure(this)).addEvent("mousedown",this.mouseClick.closure(this)).noSelect();if(!window.opera){this.margin.onmousedown=this.margin.onclick=bkLib.cancelEvent;}b.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this)).addEvent("key",this.key.closure(this));this.disable();this.init();},init:function(){},hide:function(){this.contain.setStyle({display:"none"});},updateState:function(){if(this.isDisabled){this.setBg();}else{if(this.isHover){this.setBg("hover");}else{if(this.isActive){this.setBg("active");}else{this.setBg();}}}},setBg:function(a){switch(a){case"hover":var b={border:"1px solid #666",backgroundColor:"#ddd"};break;case"active":var b={border:"1px solid #666",backgroundColor:"#ccc"};break;default:var b={border:"1px solid #efefef",backgroundColor:"#efefef"};}this.border.setStyle(b).addClass("button-"+a);},checkNodes:function(a){var b=a;do{if(this.options.tags&&bkLib.inArray(this.options.tags,b.nodeName)){this.activate();return true;}}while(b=b.parentNode&&b.className!="nicEdit");b=$BK(a);while(b.nodeType==3){b=$BK(b.parentNode);}if(this.options.css){for(itm in this.options.css){if(b.getStyle(itm,this.ne.selectedInstance.instanceDoc)==this.options.css[itm]){this.activate();return true;}}}this.deactivate();return false;},activate:function(){if(!this.isDisabled){this.isActive=true;this.updateState();this.ne.fireEvent("buttonActivate",this);}},deactivate:function(){this.isActive=false;this.updateState();if(!this.isDisabled){this.ne.fireEvent("buttonDeactivate",this);}},enable:function(a,b){this.isDisabled=false;this.contain.setStyle({opacity:1}).addClass("buttonEnabled");this.updateState();this.checkNodes(b);},disable:function(a,b){this.isDisabled=true;this.contain.setStyle({opacity:0.6}).removeClass("buttonEnabled");this.updateState();},toggleActive:function(){(this.isActive)?this.deactivate():this.activate();},hoverOn:function(){if(!this.isDisabled){this.isHover=true;this.updateState();this.ne.fireEvent("buttonOver",this);}},hoverOff:function(){this.isHover=false;this.updateState();this.ne.fireEvent("buttonOut",this);},mouseClick:function(){if(this.options.command){this.ne.nicCommand(this.options.command,this.options.commandArgs);if(!this.options.noActive){this.toggleActive();}}this.ne.fireEvent("buttonClick",this);},key:function(a,b){if(this.options.key&&b.ctrlKey&&String.fromCharCode(b.keyCode||b.charCode).toLowerCase()==this.options.key){this.mouseClick();if(b.preventDefault){b.preventDefault();}}}});var nicPlugin=bkClass.extend({construct:function(b,a){this.options=a;this.ne=b;this.ne.addEvent("panel",this.loadPanel.closure(this));this.init();},loadPanel:function(c){var b=this.options.buttons;for(var a in b){c.addButton(a,this.options);}c.reorder();},init:function(){}});var nicPaneOptions={};var nicEditorPane=bkClass.extend({construct:function(d,c,b,a){this.ne=c;this.elm=d;this.pos=d.pos();this.contain=new bkElement("div").setStyle({zIndex:"99999",overflow:"hidden",position:"absolute",left:this.pos[0]+"px",top:this.pos[1]+"px"});this.contain.setAttribute("class","nicEdit-floatingPanel");this.pane=new bkElement("div").setStyle({fontSize:"12px",border:"1px solid #ccc",overflow:"hidden",padding:"10px",textAlign:"left",backgroundColor:"#ffffc9"}).addClass("pane").setStyle(b).appendTo(this.contain);if(a&&!a.options.noClose){this.close=new bkElement("div").setStyle({"float":"right",height:"16px",width:"16px",cursor:"pointer"}).setStyle(this.ne.getIcon("close",nicPaneOptions)).addEvent("mousedown",a.removePane.closure(this)).appendTo(this.pane);}this.contain.noSelect().appendTo(document.body);this.position();this.init();},init:function(){},position:function(){if(this.ne.nicPanel){var b=this.ne.nicPanel.elm;var a=b.pos();var c=a[0]+parseInt(b.getStyle("width"))-(parseInt(this.pane.getStyle("width"))+8);if(c<this.pos[0]){this.contain.setStyle({left:c+"px"});}}},toggle:function(){this.isVisible=!this.isVisible;this.contain.setStyle({display:((this.isVisible)?"block":"none")});},remove:function(){if(this.contain){this.contain.remove();this.contain=null;}},append:function(a){a.appendTo(this.pane);},setContent:function(a){this.pane.setContent(a);}});var nicEditorAdvancedButton=nicEditorButton.extend({init:function(){this.ne.addEvent("selected",this.removePane.closure(this)).addEvent("blur",this.removePane.closure(this));},mouseClick:function(){if(!this.isDisabled){if(this.pane&&this.pane.pane){this.removePane();}else{this.pane=new nicEditorPane(this.contain,this.ne,{width:(this.width||"270px"),backgroundColor:"#fff"},this);this.addPane();this.ne.selectedInstance.saveRng();}}},addForm:function(c,h){this.form=new bkElement("form").addEvent("submit",this.submit.closureListener(this));this.pane.append(this.form);this.inputs={};for(itm in c){var d=c[itm];var g="";if(h){g=h.getAttribute(itm);}if(!g){g=d.value||"";}var a=c[itm].type;if(a=="title"){new bkElement("div").setContent(d.txt).setStyle({fontSize:"14px",fontWeight:"bold",padding:"0px",margin:"2px 0 12px 0"}).appendTo(this.form);}else{var b=new bkElement("div").setStyle({clear:"both"}).appendTo(this.form);if(d.txt){}switch(a){case"text":this.inputs[itm]=new bkElement("input").setAttributes({id:itm,value:g,type:"text"}).setStyle({margin:"2px 0",fontSize:"13px","float":"left",border:"1px solid #ccc",overflow:"hidden"}).setStyle(d.style).appendTo(b);break;case"select":this.inputs[itm]=new bkElement("select").setAttributes({id:itm}).setStyle({border:"1px solid #ccc","float":"left",margin:"2px 0"}).appendTo(b);for(opt in d.options){var e=new bkElement("option").setAttributes({value:opt,selected:(opt==g)?"selected":""}).setContent(d.options[opt]).appendTo(this.inputs[itm]);}break;case"content":this.inputs[itm]=new bkElement("textarea").setAttributes({id:itm}).setStyle({border:"1px solid #ccc","float":"left"}).setStyle(d.style).appendTo(b);this.inputs[itm].value=g;}}}new bkElement("input").setAttributes({type:"submit",value:"Add"}).setStyle({backgroundColor:"#efefef",border:"1px solid #ccc",margin:"6px 0",padding:"6px 8px","float":"right",clear:"both"}).appendTo(this.form);this.form.onsubmit=bkLib.cancelEvent;},submit:function(){},findElm:function(b,a,e){var d=this.ne.selectedInstance.getElm().getElementsByTagName(b);for(var c=0;c<d.length;c++){if(d[c].getAttribute(a)==e){return $BK(d[c]);}}},removePane:function(){if(this.pane){this.pane.remove();this.pane=null;this.ne.selectedInstance.restoreRng();}}});var nicButtonTips=bkClass.extend({construct:function(a){this.ne=a;a.addEvent("buttonOver",this.show.closure(this)).addEvent("buttonOut",this.hide.closure(this));},show:function(a){this.timer=setTimeout(this.create.closure(this,a),400);},create:function(a){this.timer=null;if(!this.pane){this.pane=new nicEditorPane(a.button,this.ne,{fontSize:"12px",marginTop:"5px"});this.pane.setContent(a.options.name);}},hide:function(a){if(this.timer){clearTimeout(this.timer);}if(this.pane){this.pane=this.pane.remove();}}});nicEditors.registerPlugin(nicButtonTips);var nicSelectOptions={buttons:{fontFamily:{name:__("Select Font Family"),type:"nicEditorFontFamilySelect",command:"fontname"},fontFormat:{name:__("Select Font Format"),type:"nicEditorFontFormatSelect",command:"formatBlock"}}};var nicEditorSelect=bkClass.extend({construct:function(d,a,c,b){this.options=c.buttons[a];this.elm=d;this.ne=b;this.name=a;this.selOptions=new Array();this.margin=new bkElement("div").setStyle({"float":"left",margin:"5px 1px 0 1px"}).appendTo(this.elm);this.contain=new bkElement("div").setStyle({width:"100px",cursor:"pointer",overflow:"hidden"}).addClass("selectContain").addEvent("click",this.toggle.closure(this)).appendTo(this.margin);this.items=new bkElement("div").setStyle({overflow:"hidden",zoom:1,border:"1px solid #ccc",padding:"3px",backgroundColor:"#fff"}).appendTo(this.contain);this.control=new bkElement("div").setStyle({overflow:"hidden","float":"right",height:"18px",width:"16px"}).addClass("selectControl").setStyle(this.ne.getIcon("arrow",c)).appendTo(this.items);this.txt=new bkElement("div").setStyle({overflow:"hidden","float":"left",height:"14px",marginTop:"1px",fontFamily:"Arial",textAlign:"center",fontSize:"12px"}).addClass("selectTxt").appendTo(this.items);if(!window.opera){this.contain.onmousedown=this.control.onmousedown=this.txt.onmousedown=bkLib.cancelEvent;}this.margin.noSelect();this.ne.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this));this.disable();this.init();},disable:function(){this.isDisabled=true;this.close();this.contain.setStyle({opacity:0.6});},enable:function(a){this.isDisabled=false;this.close();this.contain.setStyle({opacity:1});},setDisplay:function(a){this.txt.setContent(a);},toggle:function(){if(!this.isDisabled){(this.pane)?this.close():this.open();}},open:function(){this.pane=new nicEditorPane(this.items,this.ne,{width:"96px",padding:"0px",borderTop:0,borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",borderBottom:"0px",backgroundColor:"#fff"});for(var c=0;c<this.selOptions.length;c++){var b=this.selOptions[c];var a=new bkElement("div").setStyle({overflow:"hidden",borderBottom:"1px solid #ccc",width:"96px",textAlign:"left",overflow:"hidden",cursor:"pointer"});var d=new bkElement("div").setStyle({padding:"6px"}).setContent(b[1]).appendTo(a).noSelect();d.addEvent("click",this.update.closure(this,b[0])).addEvent("mouseover",this.over.closure(this,d)).addEvent("mouseout",this.out.closure(this,d)).setAttributes("id",b[0]);this.pane.append(a);if(!window.opera){d.onmousedown=bkLib.cancelEvent;}}},close:function(){if(this.pane){this.pane=this.pane.remove();}},over:function(a){a.setStyle({backgroundColor:"#ccc"});},out:function(a){a.setStyle({backgroundColor:"#fff"});},add:function(b,a){this.selOptions.push(new Array(b,a));},update:function(a){this.ne.nicCommand(this.options.command,a);this.close();}});var nicEditorFontSizeSelect=nicEditorSelect.extend({sel:{1:"1&nbsp;(8pt)",2:"2&nbsp;(10pt)",3:"3&nbsp;(12pt)",4:"4&nbsp;(14pt)",5:"5&nbsp;(18pt)",6:"6&nbsp;(24pt)"},init:function(){this.setDisplay("Font&nbsp;Size...");for(itm in this.sel){this.add(itm,'<font size="'+itm+'">'+this.sel[itm]+"</font>");}}});var nicEditorFontFamilySelect=nicEditorSelect.extend({sel:{arial:"Arial","comic sans ms":"Comic Sans","courier new":"Courier New",georgia:"Georgia",helvetica:"Helvetica",impact:"Impact",Lato:"Lato","League Gothic":"League Gothic","times new roman":"Times","trebuchet ms":"Trebuchet",verdana:"Verdana"},init:function(){this.setDisplay("Font...");for(itm in this.sel){this.add(itm,'<font face="'+itm+'">'+this.sel[itm]+"</font>");}}});var nicEditorFontFormatSelect=nicEditorSelect.extend({sel:{p:"Paragraph",pre:"Pre",blockquote:"Quote",h6:"Heading&nbsp;6",h5:"Heading&nbsp;5",h4:"Heading&nbsp;4",h3:"Heading&nbsp;3",h2:"Heading&nbsp;2",h1:"Heading&nbsp;1"},init:function(){this.setDisplay("Format...");for(itm in this.sel){var a=itm.toUpperCase();this.add("<"+a+">","<"+itm+' style="padding: 0px; margin: 0px;">'+this.sel[itm]+"</"+a+">");}}});nicEditors.registerPlugin(nicPlugin,nicSelectOptions);var nicLinkOptions={buttons:{link:{name:"Add Link",type:"nicLinkButton",tags:["A"]},unlink:{name:"Remove Link",command:"unlink",noActive:true}}};var nicLinkButton=nicEditorAdvancedButton.extend({addPane:function(){this.ln=this.ne.selectedInstance.selElm().parentTag("A");this.addForm({"":{type:"title",txt:"Add Link"},href:{type:"text",txt:"URL",value:"http://",style:{width:"100%"}}},this.ln);},submit:function(c){var a=this.inputs.href.value;if(a=="http://"||a==""){alert("You must enter a URL to Create a Link");return false;}this.removePane();if(!this.ln){var b="javascript:nicTemp();";this.ne.nicCommand("createlink",b);this.ln=this.findElm("A","href",b);}if(this.ln){this.ln.setAttributes({href:this.inputs.href.value});}}});nicEditors.registerPlugin(nicPlugin,nicLinkOptions);var nicImageOptions={buttons:{image:{name:"Add Image",type:"nicImageButton",tags:["IMG"]}}};var nicImageButton=nicEditorAdvancedButton.extend({addPane:function(){this.im=this.ne.selectedInstance.selElm().parentTag("IMG");this.addForm({"":{type:"title",txt:"Add Image"},src:{type:"text",txt:"URL",value:"http://",style:{width:"100%"}}},this.im);},submit:function(b){var c=this.inputs.src.value;if(c==""||c=="http://"){alert("You must enter a Image URL to insert");return false;}this.removePane();if(!this.im){var a="javascript:nicImTemp();";this.ne.nicCommand("insertImage",a);this.im=this.findElm("IMG","src",a);}if(this.im){this.im.setAttributes({src:this.inputs.src.value});}}});nicEditors.registerPlugin(nicPlugin,nicImageOptions);var nicSaveOptions={buttons:{save:{name:__("Save this content"),type:"nicEditorSaveButton"}}};var nicEditorSaveButton=nicEditorButton.extend({init:function(){if(!this.ne.options.onSave){this.margin.setStyle({display:"none"});}},mouseClick:function(){var b=this.ne.options.onSave;var a=this.ne.selectedInstance;b(a.getContent(),a.elm.id,a);}});nicEditors.registerPlugin(nicPlugin,nicSaveOptions);var nicUploadOptions={buttons:{upload:{name:"Upload Image",type:"nicUploadButton"}}};var nicUploadButton=nicEditorAdvancedButton.extend({nicURI:"http://api.imgur.com/2/upload.json",errorText:"Failed to upload image",addPane:function(){if(typeof window.FormData==="undefined"){return this.onError("Image uploads are not supported in this browser, use Chrome, Firefox, or Safari instead.");}this.im=this.ne.selectedInstance.selElm().parentTag("IMG");var a=new bkElement("div").setStyle({padding:"0px"}).appendTo(this.pane.pane);new bkElement("div").setStyle({fontSize:"14px",fontWeight:"bold",paddingBottom:"5px"}).setContent("Upload and insert an image").appendTo(a);this.fileInput=new bkElement("input").setAttributes({type:"file"}).appendTo(a);this.progress=new bkElement("progress").setStyle({width:"100%",display:"none"}).setAttributes("max",100).appendTo(a);new bkElement("small").setStyle({fontSize:"11px",marginTop:"6px",display:"block",color:"#999",lineHeight:"1.2em"}).setContent('Images are uploaded publicly to <a href="http://imgur.com" target="_blank">imgur</a> and can not be deleted.').appendTo(a);this.fileInput.onchange=this.uploadFile.closure(this);},onError:function(a){this.removePane();alert(a||"Failed to upload image");},uploadFile:function(){var b=this.fileInput.files[0];if(!b||!b.type.match(/image.*/)){this.onError("Only image files can be uploaded");return;}this.fileInput.setStyle({display:"none"});this.setProgress(0);var a=new FormData();a.append("image",b);a.append("key","b7ea18a4ecbda8e92203fa4968d10660");var c=new XMLHttpRequest();c.open("POST",this.ne.options.uploadURI||this.nicURI);c.onload=function(){try{var d=JSON.parse(c.responseText);}catch(f){return this.onError();}this.onUploaded(d.upload);}.closure(this);c.onerror=this.onError.closure(this);c.upload.onprogress=function(d){this.setProgress(d.loaded/d.total);}.closure(this);c.send(a);},setProgress:function(a){this.progress.setStyle({display:"block"});if(a<0.98){this.progress.value=a;}else{this.progress.removeAttribute("value");}},onUploaded:function(b){this.removePane();var d=b.links.original;if(!this.im){this.ne.selectedInstance.restoreRng();var c="javascript:nicImTemp();";this.ne.nicCommand("insertImage",d);this.im=this.findElm("IMG","src",d);}var a=parseInt(this.ne.selectedInstance.elm.getStyle("width"));if(this.im){this.im.setAttributes({src:d});}}});nicEditors.registerPlugin(nicPlugin,nicUploadOptions);nicEditor=nicEditor.extend({floatingPanel:function(){this.floating=new bkElement("DIV").setStyle({position:"absolute",top:"-1000px"}).appendTo(document.body);this.addEvent("focus",this.reposition.closure(this)).addEvent("blur",this.hide.closure(this));this.setPanel(this.floating);},reposition:function(){var b=this.selectedInstance.e;this.floating.setStyle({width:(parseInt(b.getStyle("width"))||b.clientWidth)+"px"});var a=b.offsetTop-this.floating.offsetHeight;if(a<0){a=b.offsetTop+b.offsetHeight;}this.floating.setStyle({top:a+"px",left:b.offsetLeft+"px",display:"block"});},hide:function(){this.floating.setStyle({top:"-1000px"});}});var nicColorOptions={buttons:{forecolor:{name:__("Change Text Color"),type:"nicEditorColorButton",noClose:true},bgcolor:{name:__("Change Background Color"),type:"nicEditorBgColorButton",noClose:true}}};var nicEditorColorButton=nicEditorAdvancedButton.extend({addPane:function(){var e={0:"00",1:"33",2:"66",3:"99",4:"CC",5:"FF"};var k=new bkElement("DIV").setStyle({width:"270px"});for(var a in e){for(var h in e){for(var f in e){var m="#"+e[a]+e[f]+e[h];var d=new bkElement("DIV").setStyle({cursor:"pointer",height:"15px","float":"left"}).appendTo(k);var j=new bkElement("DIV").setStyle({border:"2px solid "+m}).appendTo(d);var c=new bkElement("DIV").setStyle({backgroundColor:m,overflow:"hidden",width:"11px",height:"11px"}).addEvent("click",this.colorSelect.closure(this,m)).addEvent("mouseover",this.on.closure(this,j)).addEvent("mouseout",this.off.closure(this,j,m)).appendTo(j);if(!window.opera){d.onmousedown=c.onmousedown=bkLib.cancelEvent;}}}}this.pane.append(k.noSelect());},colorSelect:function(a){this.ne.nicCommand("foreColor",a);this.removePane();},on:function(a){a.setStyle({border:"2px solid #000"});},off:function(a,b){a.setStyle({border:"2px solid "+b});}});var nicEditorBgColorButton=nicEditorColorButton.extend({colorSelect:function(a){this.ne.nicCommand("hiliteColor",a);this.removePane();}});nicEditors.registerPlugin(nicPlugin,nicColorOptions);var nicCodeOptions={buttons:{html:{name:"Edit HTML",type:"nicHTMLButton"}}};var nicHTMLButton=nicEditorButton.extend({init:function(){},mouseClick:function(a){RVL.modal.open("edit-html");}});nicEditors.registerPlugin(nicPlugin,nicCodeOptions);