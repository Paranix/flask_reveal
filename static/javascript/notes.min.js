var RevealNotes=function(){function a(){function d(l){var p=Reveal.getCurrentSlide(),k;if(l==="slidechanged"){var h=p.querySelector("aside.notes"),j=Reveal.getIndices().h,m=Reveal.getIndices().v,g,f;p.nextElementSibling&&p.parentNode.nodeName=="SECTION"?(g=j,f=m+1):(g=j+1,f=0),k={notes:h?h.innerHTML:"",indexh:j,indexv:m,nextindexh:g,nextindexv:f,markdown:h?typeof h.getAttribute("data-markdown")=="string":!1};}else{l==="fragmentshown"?k={fragment:"next"}:l==="fragmenthidden"&&(k={fragment:"prev"});}b.postMessage(JSON.stringify(k),"*");}var c=document.querySelector('script[src$="notes.js"]').src;c=c.replace(/notes\.js(\?.*)?$/,"");var b=window.open(c+"notes.html","reveal.js - Notes","width=1120,height=850");Reveal.addEventListener("slidechanged",function(f){d("slidechanged");}),Reveal.addEventListener("fragmentshown",function(f){d("fragmentshown");}),Reveal.addEventListener("fragmenthidden",function(f){d("fragmenthidden");}),b.addEventListener("load",function(f){d("slidechanged");},!1);}return window.location.search.match(/(\?|\&)notes/gi)!==null&&a(),document.addEventListener("keydown",function(b){if(document.querySelector(":focus")!==null||b.shiftKey||b.altKey||b.ctrlKey||b.metaKey){return;}b.keyCode===83&&(b.preventDefault(),a());},!1),{open:a};}();